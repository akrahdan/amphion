{"version":3,"file":"amphion.js","sources":["../src/utils/interactiveMarkerManager.ts","../src/viewers/2d.ts","../node_modules/stats-js/build/stats.min.js","../src/viz/PointCloud.ts","../node_modules/urdf-js/umd/URDFLoader.js","../src/primitives/ArrowWithCircle.ts","../src/utils/constants.ts","../src/utils/helpers.ts","../src/data/rosTopic.ts","../src/core/index.ts","../src/utils/transform.ts","../src/primitives/Group.ts","../src/primitives/Mesh.ts","../src/primitives/Box.ts","../src/viz/CollisionObject.ts","../src/viz/DisplayTrajectory.ts","../src/viz/PlanningScene.ts","../src/primitives/Cylinder.ts","../src/primitives/Cone.ts","../src/primitives/Arrow.ts","../src/primitives/Axes.ts","../src/primitives/Line.ts","../src/primitives/LineArrow.ts","../src/core/live.ts","../src/viz/Pose.ts","../src/viz/Wrench.ts","../src/viz/Polygon.ts","../src/primitives/Text.ts","../src/primitives/TfFrame.ts","../src/viz/Tf.ts","../src/core/urdf.ts","../src/viz/RobotModel.ts","../src/primitives/Sphere.ts","../src/viz/Point.ts","../src/utils/attachPCL.js","../src/utils/pcl.ts","../src/primitives/Cube.ts","../src/primitives/LineSegment.ts","../src/utils/objectCacher.ts","../src/primitives/SphereList.ts","../src/primitives/Points.ts","../src/primitives/TriangleList.ts","../src/primitives/CubeList.ts","../src/primitives/ViewFacingText.ts","../src/utils/markerTypes.ts","../src/utils/markerLifetime.ts","../src/utils/markerManager.ts","../src/viz/MarkerArray.ts","../src/utils/points.ts","../src/viz/LaserScan.ts","../src/utils/processing.ts","../src/primitives/Plane.ts","../src/viz/Map.ts","../src/viz/Odometry.ts","../src/viz/PoseArray.ts","../src/viz/Path.ts","../src/viz/Image.ts","../src/core/static.ts","../src/viz/ImageStream.ts","../src/viz/Marker.ts","../src/viz/Range.ts","../src/core/scene.ts","../src/primitives/DepthCloudObject.ts","../src/viz/DepthCloud.ts","../src/utils/2dControls.ts","../src/utils/editorControls.ts","../src/viewers/3d.ts","../src/viewers/Tf.ts","../src/viz/InteractiveMarkers.ts","../src/core/rosbagBucket.ts","../src/data/rosBag.ts","../src/index.ts"],"sourcesContent":["import {\n  ANCHOR_MODE,\n  ControlsManager,\n  DEFAULT_HANDLE_GROUP_NAME,\n} from 'three-freeform-controls';\nimport { Euler, Object3D, Quaternion } from 'three';\nimport randomColor from 'randomcolor';\nimport Group from '../primitives/Group';\nimport MarkerManager from './markerManager';\nimport {\n  INTERACTIVE_MARKER_INTERACTION_MODES,\n  INTERACTIVE_MARKER_ORIENTATION_MODES,\n  UNSUPPORTED_INTERACTIVE_MARKER_ORIENTATION_MODES,\n} from './constants';\nimport Controls from 'three-freeform-controls/dist/types/controls';\nimport TfViewer from '../viewers/Tf';\n\nexport default class InteractiveMarkerManager {\n  public object: Object3D;\n  private readonly markerManagerMap: { [p: string]: MarkerManager } = {};\n  private readonly controlsMap: {\n    [p: string]: Controls[] | undefined;\n  } = {};\n  private readonly objectMap: {\n    [p: string]: Group & { frameId?: string };\n  } = {};\n  private readonly viewer: TfViewer;\n  private readonly hideOtherHandlesOnSelect: boolean;\n  private readonly hideOtherControlsInstancesOnSelect: boolean;\n  public visible: boolean;\n  public namespaces: { [p: string]: boolean } = {};\n  public callback: () => void = () => null;\n\n  constructor(rootObject: Object3D, viewer: TfViewer, options: any) {\n    this.object = rootObject;\n    this.viewer = viewer;\n    this.hideOtherHandlesOnSelect = options.hideOtherHandlesOnSelect;\n    this.hideOtherControlsInstancesOnSelect =\n      options.hideOtherControlsInstancesOnSelect;\n    this.visible = options.visible;\n    this.onChange = this.onChange.bind(this);\n  }\n\n  getMarkerManagerOrCreate(interactiveMarkerName: string) {\n    const id = interactiveMarkerName;\n    if (!this.markerManagerMap[id] || !this.objectMap[id]) {\n      const markersHolder = new Group();\n      markersHolder.name = id || '';\n      this.markerManagerMap[id] = new MarkerManager(\n        markersHolder,\n        this.onChange,\n      );\n      this.objectMap[id] = markersHolder;\n      this.object.add(markersHolder);\n    }\n\n    return {\n      manager: this.markerManagerMap[id],\n      object: this.objectMap[id],\n    };\n  }\n\n  onChange() {\n    if (this.callback) {\n      this.callback();\n    }\n  }\n\n  onNamespaceChange(callback: () => void) {\n    this.callback = callback;\n  }\n\n  initMarkers(\n    interactiveMarker: RosMessage.InteractiveMarker,\n    controlsManager: ControlsManager,\n    visible: boolean,\n  ) {\n    let {\n      controls,\n      header: { frame_id },\n      name,\n      pose: { orientation, position },\n      scale,\n    } = interactiveMarker;\n    if (scale === 0) {\n      scale = 1;\n    }\n    const { manager, object } = this.getMarkerManagerOrCreate(name);\n\n    object.visible = visible;\n    object.frameId = frame_id;\n    if (this.viewer.attachObjectOutsideTree) {\n      this.viewer.attachObjectOutsideTree(object);\n    }\n\n    object.setTransform({ translation: position, rotation: orientation });\n    object.userData.control = {\n      frameId: interactiveMarker.header.frame_id,\n      markerName: interactiveMarker.name,\n    };\n    object.userData.handlesControlsMap = {};\n\n    controls.forEach((control, index) => {\n      // cannot rely on the control.name being present or unique\n      const key = name;\n      if (this.controlsMap[key] === undefined) {\n        this.controlsMap[key] = [];\n      }\n      if (this.controlsMap[key]?.length !== controls.length) {\n        const attachMode =\n          control.orientation_mode ===\n          INTERACTIVE_MARKER_ORIENTATION_MODES.FIXED\n            ? ANCHOR_MODE.FIXED\n            : ANCHOR_MODE.INHERIT;\n        const controls = controlsManager.anchor(object, {\n          separationT: {\n            x: 0.4,\n            y: 0.4,\n            z: 0.4,\n          },\n          orientation: control.orientation,\n          mode: attachMode,\n          hideOtherHandlesOnSelect: this.hideOtherHandlesOnSelect,\n          hideOtherControlsInstancesOnSelect: this\n            .hideOtherControlsInstancesOnSelect,\n          showHelperPlane: true,\n        });\n        controls.scale.set(scale, scale, scale);\n        controls.visible = visible;\n        InteractiveMarkerManager.enableControls(\n          object,\n          control.interaction_mode,\n          control.orientation_mode,\n          control.name,\n          controls,\n          randomColor({\n            seed: `${key}-${control.name}-${2 * index}`, // 2 * for more variable color\n          }),\n        );\n\n        this.controlsMap[key]?.push(controls);\n      }\n\n      if (control.markers.length > 0) {\n        control.markers.forEach(marker => {\n          manager.updateMarker(marker);\n        });\n      }\n    });\n  }\n\n  setVisible(visible: boolean) {\n    this.visible = visible;\n    const controlGroups = Object.values(this.controlsMap);\n    controlGroups.map(controls => {\n      controls?.map(manager => {\n        manager.visible = visible;\n        manager.object.visible = visible;\n      });\n    });\n  }\n\n  updatePose(markerMessage: RosMessage.InteractiveMarkerPose) {\n    const { name, pose } = markerMessage;\n    const markerObject = this.objectMap[name];\n    if (markerObject && pose) {\n      const { orientation, position } = pose;\n      markerObject.setTransform({\n        translation: position,\n        rotation: orientation,\n      });\n    }\n  }\n\n  static enableControls(\n    object: Object3D,\n    interactionMode: number,\n    orientationMode: number,\n    controlName: string,\n    controls: Controls,\n    givenColor: string,\n  ) {\n    controls.showAll(false);\n\n    const controlsManagerOrientation = new Quaternion();\n    controls.getWorldQuaternion(controlsManagerOrientation);\n    const controlsManagerRotation = new Euler().setFromQuaternion(\n      controlsManagerOrientation,\n    );\n    const alignmentColor = InteractiveMarkerManager.getAlignmentColor(\n      controlsManagerRotation,\n    );\n    const color = alignmentColor ?? givenColor;\n\n    // currently only ROTATE_AXIS is supported for VIEW_FACING mode\n    // this is the most useful one\n    if (\n      UNSUPPORTED_INTERACTIVE_MARKER_ORIENTATION_MODES.indexOf(\n        orientationMode,\n      ) !== -1 &&\n      interactionMode === INTERACTIVE_MARKER_INTERACTION_MODES.ROTATE_AXIS\n    ) {\n      object.userData.handlesControlsMap = {\n        ...object.userData.handlesControlsMap,\n        [DEFAULT_HANDLE_GROUP_NAME.ER]: controlName,\n      };\n      controls.showByNames([DEFAULT_HANDLE_GROUP_NAME.ER], true);\n      return;\n    }\n\n    let handles: string[] = [];\n    switch (interactionMode) {\n      case INTERACTIVE_MARKER_INTERACTION_MODES.NONE:\n      case INTERACTIVE_MARKER_INTERACTION_MODES.MENU:\n      case INTERACTIVE_MARKER_INTERACTION_MODES.BUTTON: {\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.MOVE_AXIS: {\n        handles = [\n          DEFAULT_HANDLE_GROUP_NAME.XPT,\n          DEFAULT_HANDLE_GROUP_NAME.XNT,\n        ];\n        controls.translationXP.setColor(color);\n        controls.translationXN.setColor(color);\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.MOVE_PLANE: {\n        handles = [DEFAULT_HANDLE_GROUP_NAME.PICK_PLANE_YZ];\n        controls.pickPlaneYZ.setColor(color);\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.ROTATE_AXIS: {\n        handles = [DEFAULT_HANDLE_GROUP_NAME.XR];\n        controls.rotationX.setColor(color);\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.MOVE_ROTATE: {\n        handles = [\n          DEFAULT_HANDLE_GROUP_NAME.XR,\n          DEFAULT_HANDLE_GROUP_NAME.PICK_PLANE_YZ,\n        ];\n        controls.pickPlaneYZ.setColor(color);\n        controls.rotationX.setColor(color);\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.MOVE_3D: {\n        handles = [\n          DEFAULT_HANDLE_GROUP_NAME.XPT,\n          DEFAULT_HANDLE_GROUP_NAME.XNT,\n          DEFAULT_HANDLE_GROUP_NAME.YPT,\n          DEFAULT_HANDLE_GROUP_NAME.YNT,\n          DEFAULT_HANDLE_GROUP_NAME.ZPT,\n          DEFAULT_HANDLE_GROUP_NAME.ZNT,\n          DEFAULT_HANDLE_GROUP_NAME.PICK,\n        ];\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.ROTATE_3D: {\n        handles = [\n          DEFAULT_HANDLE_GROUP_NAME.XR,\n          DEFAULT_HANDLE_GROUP_NAME.YR,\n          DEFAULT_HANDLE_GROUP_NAME.ZR,\n        ];\n        break;\n      }\n      case INTERACTIVE_MARKER_INTERACTION_MODES.MOVE_ROTATE_3D: {\n        // these handles are currently commented out\n        // because these overlap with the extra 6-DOF controls\n        // that are available in the example and also in kompose\n        // proper fix requires increasing the scale of the below\n        // handles so that they don't overlap\n        handles = [\n          // DEFAULT_HANDLE_GROUP_NAME.XPT,\n          // DEFAULT_HANDLE_GROUP_NAME.XNT,\n          // DEFAULT_HANDLE_GROUP_NAME.YPT,\n          // DEFAULT_HANDLE_GROUP_NAME.YNT,\n          // DEFAULT_HANDLE_GROUP_NAME.ZPT,\n          // DEFAULT_HANDLE_GROUP_NAME.ZNT,\n          // DEFAULT_HANDLE_GROUP_NAME.XR,\n          // DEFAULT_HANDLE_GROUP_NAME.YR,\n          // DEFAULT_HANDLE_GROUP_NAME.ZR,\n          DEFAULT_HANDLE_GROUP_NAME.PICK,\n        ];\n        break;\n      }\n    }\n\n    handles.map(handle => {\n      object.userData.handlesControlsMap[handle] = controlName;\n    });\n    controls.showByNames(handles, true);\n  }\n\n  static getAlignmentColor(rotation: Euler) {\n    const threshold = 10 ** -3;\n    const [x, y, z] = rotation.toArray();\n    for (let i = -4; i <= 4; i++) {\n      const angle = (i * Math.PI) / 2;\n      if (\n        Math.abs(x - angle) < threshold &&\n        Math.abs(y) < threshold &&\n        Math.abs(z) < threshold\n      ) {\n        return 'red';\n      }\n      if (\n        Math.abs(y - angle) < threshold &&\n        Math.abs(x) < threshold &&\n        Math.abs(z) < threshold\n      ) {\n        return 'green';\n      }\n      if (\n        Math.abs(z - angle) < threshold &&\n        Math.abs(y) < threshold &&\n        Math.abs(x) < threshold\n      ) {\n        return 'blue';\n      }\n    }\n\n    return null;\n  }\n\n  removeObject(id: string) {\n    const obj = this.objectMap[id];\n    obj.parent?.remove(obj);\n    delete this.objectMap[id];\n  }\n\n  reset(destroy: boolean) {\n    this.onChange();\n\n    if (destroy) {\n      Object.keys(this.objectMap).forEach(id => {\n        this.removeObject(id);\n      });\n    }\n  }\n}\n","import { Object3D, OrthographicCamera, Vector3, WebGLRenderer } from 'three';\nimport { ResizeObserver as ResizeObserverPolyfill } from '@juggle/resize-observer';\nimport { MapControls2D } from '../utils/2dControls';\n\nimport Scene from '../core/scene';\nimport { DEFAULT_OPTIONS_SCENE } from '../utils/constants';\nimport { assertIsDefined } from '../utils/helpers';\n\nconst ResizeObserver = (window as any).ResizeObserver || ResizeObserverPolyfill;\n\nclass Viewer2d {\n  private options = DEFAULT_OPTIONS_SCENE;\n  private readonly scene: Scene;\n  private previousWidth = 0;\n  private previousHeight = 0;\n  private readonly ro: typeof ResizeObserver;\n  private renderer?: WebGLRenderer;\n  private camera?: OrthographicCamera;\n  private container?: HTMLElement;\n  private controls?: any;\n\n  constructor(scene: Scene, options = DEFAULT_OPTIONS_SCENE) {\n    this.options = {\n      ...DEFAULT_OPTIONS_SCENE,\n      ...options,\n    };\n    this.scene = scene || new Scene();\n    this.ro = new ResizeObserver((entries: unknown[]) => {\n      if (entries.length > 0) {\n        this.onWindowResize();\n      }\n    });\n\n    this.initCamera();\n    this.animate = this.animate.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  animate() {\n    this.scene.stats.begin();\n    this.scene.updateMatrixWorld();\n    assertIsDefined(this.camera);\n    this.renderer?.render(this.scene, this.camera);\n    this.scene.stats.end();\n    requestAnimationFrame(this.animate);\n  }\n\n  initCamera() {\n    this.camera = new OrthographicCamera(-100, 100, 100, -100, 0.1, 1000);\n    this.camera.zoom = 0.5;\n    this.camera.position.set(0, 0, 10);\n    this.camera.up = new Vector3(0, 0, 1);\n    this.camera.lookAt(new Vector3());\n\n    this.scene.add(this.camera);\n  }\n\n  setContainer(domNode: HTMLElement) {\n    this.container = domNode;\n    this.initRenderer(domNode);\n    // @ts-ignore\n    this.controls = new MapControls2D(this.camera, this.container);\n    this.controls.enableDamping = true;\n    this.ro.observe(this.container);\n    requestAnimationFrame(this.animate);\n    this.onWindowResize();\n  }\n\n  initRenderer(domNode: HTMLElement) {\n    const renderer = new WebGLRenderer({ antialias: true });\n    renderer.autoClear = false;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    assertIsDefined(this.container);\n    renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);\n    this.renderer = renderer;\n    this.container.appendChild(renderer.domElement);\n  }\n\n  updateOptions(options = DEFAULT_OPTIONS_SCENE) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n    this.scene.updateOptions(this.options);\n  }\n\n  destroy() {\n    this.ro.unobserve(this.container!);\n  }\n\n  onWindowResize() {\n    assertIsDefined(this.container);\n    assertIsDefined(this.camera);\n    const { offsetHeight, offsetWidth } = this.container;\n    if (\n      Math.abs(offsetWidth - this.previousWidth) > 10 ||\n      Math.abs(offsetHeight - this.previousHeight) > 10\n    ) {\n      const [cameraWidth, cameraHeight] = [\n        offsetWidth / 100,\n        offsetHeight / 100,\n      ];\n      this.camera.left = -cameraWidth / 2;\n      this.camera.right = cameraWidth / 2;\n      this.camera.top = cameraHeight / 2;\n      this.camera.bottom = -cameraHeight / 2;\n      this.camera.updateProjectionMatrix();\n      this.renderer?.setSize(offsetWidth, offsetHeight);\n      this.previousWidth = offsetWidth;\n      this.previousHeight = offsetHeight;\n    }\n  }\n\n  addVisualization(vizObject: { object: Object3D }) {\n    this.scene.addVisualization(vizObject);\n  }\n}\n\nexport default Viewer2d;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","import {\n  BufferAttribute,\n  BufferGeometry,\n  Points,\n  PointsMaterial,\n  VertexColors,\n  DynamicDrawUsage\n} from 'three';\nimport {\n  DEFAULT_OPTIONS_POINTCLOUD,\n  MAX_POINTCLOUD_POINTS,\n} from '../utils/constants';\nimport { PCLDecoder, updateGeometryAttribute } from '../utils/pcl';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\nimport { assertIsBufferGeometry, assertIsDefined } from '../utils/helpers';\n\nconst editPointCloudPoints = function(\n  message: RosMessage.PointCloud2,\n  options = DEFAULT_OPTIONS_POINTCLOUD,\n) {\n  if (!message) {\n    return {\n      positions: new Float32Array(0),\n      colors: new Float32Array(0),\n      normals: new Float32Array(0),\n    };\n  }\n\n  const { colorChannel, useRainbow } = options;\n\n  const { colors, normals, positions } = PCLDecoder.decode(\n    message,\n    colorChannel,\n    useRainbow,\n  );\n\n  return {\n    positions,\n    colors,\n    normals,\n  };\n};\n\nclass PointCloud extends LiveCore<RosMessage.PointCloud2, Points> {\n  constructor(\n    source: DataSource<RosMessage.PointCloud2>,\n    options = DEFAULT_OPTIONS_POINTCLOUD,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_POINTCLOUD,\n        ...options,\n      },\n    });\n    const cloudMaterial = new PointsMaterial({\n      size: this.options.size,\n      color: VertexColors,\n    });\n    const geometry = new BufferGeometry();\n    geometry.setAttribute(\n      'position',\n      new BufferAttribute(\n        new Float32Array(MAX_POINTCLOUD_POINTS * 3),\n        3,\n    ).setUsage(DynamicDrawUsage),);\n    geometry.setAttribute(\n      'color',\n      new BufferAttribute(\n        new Float32Array(MAX_POINTCLOUD_POINTS * 3),\n        3,\n      ).setUsage(DynamicDrawUsage),\n    );\n    geometry.setAttribute(\n      'normal',\n      new BufferAttribute(\n        new Float32Array(MAX_POINTCLOUD_POINTS * 3),\n        3,\n      ).setUsage(DynamicDrawUsage),\n    );\n    geometry.setDrawRange(0, 0);\n    geometry.computeBoundingSphere();\n    this.object = new Points(geometry, cloudMaterial);\n    this.object.frustumCulled = false;\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_POINTCLOUD,\n      ...options,\n    });\n  }\n\n  updatePointCloudGeometry(\n    positions: Float32Array,\n    colors: Float32Array,\n    normals: Float32Array,\n  ) {\n    assertIsDefined(this.object);\n    const { geometry, material } = this.object;\n    if (\n      (material as PointsMaterial).size !== this.options.size &&\n      !Number.isNaN(this.options.size)\n    ) {\n      (material as PointsMaterial).size = this.options.size;\n      (material as PointsMaterial).needsUpdate = true;\n    }\n    const l = Math.min(MAX_POINTCLOUD_POINTS, Math.floor(positions.length / 3));\n    assertIsBufferGeometry(geometry);\n    geometry.setDrawRange(0, l);\n    updateGeometryAttribute(geometry, 'position', positions, l);\n    updateGeometryAttribute(geometry, 'color', colors, l);\n    updateGeometryAttribute(geometry, 'normal', normals, l);\n  }\n\n  update = (message: RosMessage.PointCloud2) => {\n    super.update(message);\n    const { colors, normals, positions } = editPointCloudPoints(\n      message,\n      this.options as typeof DEFAULT_OPTIONS_POINTCLOUD,\n    );\n    this.updatePointCloudGeometry(positions, colors, normals);\n  };\n}\n\nexport default PointCloud;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('three'), require('three/examples/jsm/loaders/STLLoader.js'), require('three/examples/jsm/loaders/ColladaLoader.js'), require('three-mesh-bvh')) :\n  typeof define === 'function' && define.amd ? define(['three', 'three/examples/jsm/loaders/STLLoader.js', 'three/examples/jsm/loaders/ColladaLoader.js', 'three-mesh-bvh'], factory) :\n  (global = global || self, global.URDFLoader = factory(global.THREE, global.THREE, global.THREE, global.THREE));\n}(this, function (THREE, STLLoader_js, ColladaLoader_js, threeMeshBvh) { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var REACT_ELEMENT_TYPE;\n\n  function _jsx(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol[\"for\"] && Symbol[\"for\"](\"react.element\") || 0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {\n        children: void 0\n      };\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  }\n\n  function _asyncIterator(iterable) {\n    var method;\n\n    if (typeof Symbol !== \"undefined\") {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator];\n        if (method != null) return method.call(iterable);\n      }\n\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator];\n        if (method != null) return method.call(iterable);\n      }\n    }\n\n    throw new TypeError(\"Object is not async iterable\");\n  }\n\n  function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n\n  function _AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n        var wrappedAwait = value instanceof _AwaitValue;\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n          if (wrappedAwait) {\n            resume(\"next\", arg);\n            return;\n          }\n\n          settle(result.done ? \"return\" : \"normal\", arg);\n        }, function (err) {\n          resume(\"throw\", err);\n        });\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  _AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  _AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  _AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  function _wrapAsyncGenerator(fn) {\n    return function () {\n      return new _AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n\n  function _awaitAsyncGenerator(value) {\n    return new _AwaitValue(value);\n  }\n\n  function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {},\n        waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function (resolve) {\n        resolve(inner[key](value));\n      });\n      return {\n        done: false,\n        value: awaitWrap(value)\n      };\n    }\n\n    ;\n\n    if (typeof Symbol === \"function\" && Symbol.iterator) {\n      iter[Symbol.iterator] = function () {\n        return this;\n      };\n    }\n\n    iter.next = function (value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump(\"next\", value);\n    };\n\n    if (typeof inner.throw === \"function\") {\n      iter.throw = function (value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n\n        return pump(\"throw\", value);\n      };\n    }\n\n    if (typeof inner.return === \"function\") {\n      iter.return = function (value) {\n        return pump(\"return\", value);\n      };\n    }\n\n    return iter;\n  }\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var self = this,\n          args = arguments;\n      return new Promise(function (resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if (\"value\" in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(source, true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(source).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== \"function\") {\n        throw new TypeError(\"Super expression must either be null or a function\");\n      }\n\n      if (typeof _cache !== \"undefined\") {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n      return !!right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== \"function\") return null;\n    var cache = new WeakMap();\n\n    _getRequireWildcardCache = function () {\n      return cache;\n    };\n\n    return cache;\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    var cache = _getRequireWildcardCache();\n\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n\n    if (obj != null) {\n      var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n          if (desc && (desc.get || desc.set)) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n\n    return newObj;\n  }\n\n  function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError(\"Cannot instantiate an arrow function\");\n    }\n  }\n\n  function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = _superPropBase(target, property);\n\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            return false;\n          }\n        }\n\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n        if (desc) {\n          if (!desc.writable) {\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          _defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n\n    if (!s && isStrict) {\n      throw new Error('failed to set property');\n    }\n\n    return value;\n  }\n\n  function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    return Object.freeze(Object.defineProperties(strings, {\n      raw: {\n        value: Object.freeze(raw)\n      }\n    }));\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  function _readOnlyError(name) {\n    throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n  }\n\n  function _classNameTDZError(name) {\n    throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n  }\n\n  function _temporalUndefined() {}\n\n  function _tdz(name) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  }\n\n  function _temporalRef(val, name) {\n    return val === _temporalUndefined ? _tdz(name) : val;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _slicedToArrayLoose(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n  }\n\n  function _toArray(arr) {\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n      return;\n    }\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _iterableToArrayLimitLoose(arr, i) {\n    if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n      return;\n    }\n\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  function _skipFirstGeneratorNext(fn) {\n    return function () {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    };\n  }\n\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n\n    return (hint === \"string\" ? String : Number)(input);\n  }\n\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n  }\n\n  function _initializerDefineProperty(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object.keys(descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object.defineProperty(target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) {\n    return \"__private_\" + id++ + \"_\" + name;\n  }\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError(\"attempted to use private field on non-instance\");\n    }\n\n    return receiver;\n  }\n\n  function _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = privateMap.get(receiver);\n\n    if (!descriptor) {\n      throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = privateMap.get(receiver);\n\n    if (!descriptor) {\n      throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError(\"attempted to set read only private field\");\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classPrivateFieldDestructureSet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.set) {\n      if (!(\"__destrObj\" in descriptor)) {\n        descriptor.__destrObj = {\n          set value(v) {\n            descriptor.set.call(receiver, v);\n          }\n\n        };\n      }\n\n      return descriptor.__destrObj;\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError(\"attempted to set read only private field\");\n      }\n\n      return descriptor;\n    }\n  }\n\n  function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n    if (receiver !== classConstructor) {\n      throw new TypeError(\"Private static access of wrong provenance\");\n    }\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n    if (receiver !== classConstructor) {\n      throw new TypeError(\"Private static access of wrong provenance\");\n    }\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError(\"attempted to set read only private field\");\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError(\"Private static access of wrong provenance\");\n    }\n\n    return method;\n  }\n\n  function _classStaticPrivateMethodSet() {\n    throw new TypeError(\"attempted to set read only static private field\");\n  }\n\n  function _decorate(decorators, factory, superClass, mixins) {\n    var api = _getDecoratorsApi();\n\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators);\n    api.initializeClassElements(r.F, decorated.elements);\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function () {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [[\"method\"], [\"field\"]],\n      initializeInstanceElements: function (O, elements) {\n        [\"method\", \"field\"].forEach(function (kind) {\n          elements.forEach(function (element) {\n            if (element.kind === kind && element.placement === \"own\") {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n      initializeClassElements: function (F, elements) {\n        var proto = F.prototype;\n        [\"method\", \"field\"].forEach(function (kind) {\n          elements.forEach(function (element) {\n            var placement = element.placement;\n\n            if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) {\n              var receiver = placement === \"static\" ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n      defineClassElement: function (receiver, element) {\n        var descriptor = element.descriptor;\n\n        if (element.kind === \"field\") {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver)\n          };\n        }\n\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n      decorateClass: function (elements, decorators) {\n        var newElements = [];\n        var finishers = [];\n        var placements = {\n          static: [],\n          prototype: [],\n          own: []\n        };\n        elements.forEach(function (element) {\n          this.addElementPlacement(element, placements);\n        }, this);\n        elements.forEach(function (element) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n          var elementFinishersExtras = this.decorateElement(element, placements);\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return {\n            elements: newElements,\n            finishers: finishers\n          };\n        }\n\n        var result = this.decorateConstructor(newElements, decorators);\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n        return result;\n      },\n      addElementPlacement: function (element, placements, silent) {\n        var keys = placements[element.placement];\n\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError(\"Duplicated element (\" + element.key + \")\");\n        }\n\n        keys.push(element.key);\n      },\n      decorateElement: function (element, placements) {\n        var extras = [];\n        var finishers = [];\n\n        for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n          var elementObject = this.fromElementDescriptor(element);\n          var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject);\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras = elementFinisherExtras.extras;\n\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return {\n          element: element,\n          finishers: finishers,\n          extras: extras\n        };\n      },\n      decorateConstructor: function (elements, decorators) {\n        var finishers = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj = this.fromClassDescriptor(elements);\n          var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj);\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) {\n                  throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\");\n                }\n              }\n            }\n          }\n        }\n\n        return {\n          elements: elements,\n          finishers: finishers\n        };\n      },\n      fromElementDescriptor: function (element) {\n        var obj = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor\n        };\n        var desc = {\n          value: \"Descriptor\",\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        if (element.kind === \"field\") obj.initializer = element.initializer;\n        return obj;\n      },\n      toElementDescriptors: function (elementObjects) {\n        if (elementObjects === undefined) return;\n        return _toArray(elementObjects).map(function (elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\");\n          this.disallowProperty(elementObject, \"extras\", \"An element descriptor\");\n          return element;\n        }, this);\n      },\n      toElementDescriptor: function (elementObject) {\n        var kind = String(elementObject.kind);\n\n        if (kind !== \"method\" && kind !== \"field\") {\n          throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"');\n        }\n\n        var key = _toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n\n        if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") {\n          throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"');\n        }\n\n        var descriptor = elementObject.descriptor;\n        this.disallowProperty(elementObject, \"elements\", \"An element descriptor\");\n        var element = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor)\n        };\n\n        if (kind !== \"field\") {\n          this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\");\n        } else {\n          this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\");\n          this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\");\n          this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\");\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n      toElementFinisherExtras: function (elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n\n        var finisher = _optionalCallableProperty(elementObject, \"finisher\");\n\n        var extras = this.toElementDescriptors(elementObject.extras);\n        return {\n          element: element,\n          finisher: finisher,\n          extras: extras\n        };\n      },\n      fromClassDescriptor: function (elements) {\n        var obj = {\n          kind: \"class\",\n          elements: elements.map(this.fromElementDescriptor, this)\n        };\n        var desc = {\n          value: \"Descriptor\",\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        return obj;\n      },\n      toClassDescriptor: function (obj) {\n        var kind = String(obj.kind);\n\n        if (kind !== \"class\") {\n          throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"');\n        }\n\n        this.disallowProperty(obj, \"key\", \"A class descriptor\");\n        this.disallowProperty(obj, \"placement\", \"A class descriptor\");\n        this.disallowProperty(obj, \"descriptor\", \"A class descriptor\");\n        this.disallowProperty(obj, \"initializer\", \"A class descriptor\");\n        this.disallowProperty(obj, \"extras\", \"A class descriptor\");\n\n        var finisher = _optionalCallableProperty(obj, \"finisher\");\n\n        var elements = this.toElementDescriptors(obj.elements);\n        return {\n          elements: elements,\n          finisher: finisher\n        };\n      },\n      runClassFinishers: function (constructor, finishers) {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor = (0, finishers[i])(constructor);\n\n          if (newConstructor !== undefined) {\n            if (typeof newConstructor !== \"function\") {\n              throw new TypeError(\"Finishers must return a constructor.\");\n            }\n\n            constructor = newConstructor;\n          }\n        }\n\n        return constructor;\n      },\n      disallowProperty: function (obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(objectType + \" can't have a .\" + name + \" property.\");\n        }\n      }\n    };\n    return api;\n  }\n\n  function _createElementDescriptor(def) {\n    var key = _toPropertyKey(def.key);\n\n    var descriptor;\n\n    if (def.kind === \"method\") {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === \"get\") {\n      descriptor = {\n        get: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === \"set\") {\n      descriptor = {\n        set: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === \"field\") {\n      descriptor = {\n        configurable: true,\n        writable: true,\n        enumerable: true\n      };\n    }\n\n    var element = {\n      kind: def.kind === \"field\" ? \"field\" : \"method\",\n      key: key,\n      placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\",\n      descriptor: descriptor\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === \"field\") element.initializer = def.value;\n    return element;\n  }\n\n  function _coalesceGetterSetter(element, other) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  function _coalesceClassElements(elements) {\n    var newElements = [];\n\n    var isSameElement = function (other) {\n      return other.kind === \"method\" && other.key === element.key && other.placement === element.placement;\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var other;\n\n      if (element.kind === \"method\" && (other = newElements.find(isSameElement))) {\n        if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\");\n          }\n\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\");\n            }\n\n            other.decorators = element.decorators;\n          }\n\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element) {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc) {\n    return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n  }\n\n  function _optionalCallableProperty(obj, name) {\n    var value = obj[name];\n\n    if (value !== undefined && typeof value !== \"function\") {\n      throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n    }\n\n    return value;\n  }\n\n  function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n\n    return fn;\n  }\n\n  function _classPrivateMethodSet() {\n    throw new TypeError(\"attempted to reassign private method\");\n  }\n\n  function _wrapRegExp(re, groups) {\n    _wrapRegExp = function (re, groups) {\n      return new BabelRegExp(re, undefined, groups);\n    };\n\n    var _RegExp = _wrapNativeSuper(RegExp);\n\n    var _super = RegExp.prototype;\n\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, flags, groups) {\n      var _this = _RegExp.call(this, re, flags);\n\n      _groups.set(_this, groups || _groups.get(re));\n\n      return _this;\n    }\n\n    _inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function (str) {\n      var result = _super.exec.call(this, str);\n\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n\n    BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n      if (typeof substitution === \"string\") {\n        var groups = _groups.get(this);\n\n        return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n          return \"$\" + groups[name];\n        }));\n      } else if (typeof substitution === \"function\") {\n        var _this = this;\n\n        return _super[Symbol.replace].call(this, str, function () {\n          var args = [];\n          args.push.apply(args, arguments);\n\n          if (typeof args[args.length - 1] !== \"object\") {\n            args.push(buildGroups(args, _this));\n          }\n\n          return substitution.apply(this, args);\n        });\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    };\n\n    function buildGroups(result, re) {\n      var g = _groups.get(re);\n\n      return Object.keys(g).reduce(function (groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n\n  function URDFColliderClone() {\n    var _proto$clone;\n\n    var proto = Object.getPrototypeOf(this);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var result = (_proto$clone = proto.clone).call.apply(_proto$clone, [this].concat(args));\n\n    result.isURDFCollider = true;\n    return result;\n  }\n\n  ;\n\n  function makeURDFCollider(object) {\n    object.isURDFCollider = true;\n    object.clone = URDFColliderClone;\n  }\n\n  var URDFLink =\n  /*#__PURE__*/\n  function (_Object3D) {\n    _inherits(URDFLink, _Object3D);\n\n    function URDFLink() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, URDFLink);\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(URDFLink)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _this.isURDFLink = true;\n      _this.type = 'URDFLink';\n      _this.urdfNode = null;\n      return _this;\n    }\n\n    _createClass(URDFLink, [{\n      key: \"show\",\n      value: function show() {\n        this.visible = true;\n      }\n    }, {\n      key: \"hide\",\n      value: function hide() {\n        this.visible = false;\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete() {\n        var _this2 = this;\n\n        this.parent.remove(this);\n        this.children.map(function (child) {\n          _this2.remove(child);\n        });\n      }\n    }, {\n      key: \"copy\",\n      value: function copy(source, recursive) {\n        _get(_getPrototypeOf(URDFLink.prototype), \"copy\", this).call(this, source, recursive);\n\n        this.urdfNode = source.urdfNode;\n        return this;\n      }\n    }]);\n\n    return URDFLink;\n  }(THREE.Object3D);\n\n  var URDFJoint =\n  /*#__PURE__*/\n  function (_Object3D2) {\n    _inherits(URDFJoint, _Object3D2);\n\n    _createClass(URDFJoint, [{\n      key: \"jointType\",\n      get: function get() {\n        return this._jointType;\n      },\n      set: function set(v) {\n        if (this.jointType === v) return;\n        this._jointType = v;\n\n        switch (v) {\n          case 'fixed':\n          case 'continuous':\n          case 'revolute':\n          case 'prismatic':\n            this.jointValue = 0;\n            break;\n\n          case 'planar':\n            this.jointValue = new Array(2).fill(0);\n            break;\n\n          case 'floating':\n            this.jointValue = new Array(6).fill(0);\n            break;\n        }\n      }\n    }, {\n      key: \"angle\",\n      get: function get() {\n        return this.jointValue;\n      }\n    }]);\n\n    function URDFJoint() {\n      var _getPrototypeOf3;\n\n      var _this3;\n\n      _classCallCheck(this, URDFJoint);\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      _this3 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(URDFJoint)).call.apply(_getPrototypeOf3, [this].concat(args)));\n      _this3.isURDFJoint = true;\n      _this3.type = 'URDFJoint';\n      _this3.urdfNode = null;\n      _this3.jointValue = null;\n      _this3.jointType = 'fixed';\n      _this3.axis = null;\n      _this3.limit = {\n        lower: 0,\n        upper: 0\n      };\n      _this3.ignoreLimits = false;\n      _this3.origPosition = null;\n      _this3.origQuaternion = null;\n      return _this3;\n    }\n    /* Overrides */\n\n\n    _createClass(URDFJoint, [{\n      key: \"copy\",\n      value: function copy(source, recursive) {\n        _get(_getPrototypeOf(URDFJoint.prototype), \"copy\", this).call(this, source, recursive);\n\n        this.urdfNode = source.urdfNode;\n        this.jointType = source.jointType;\n        this.axis = source.axis ? source.axis.clone() : null;\n        this.limit.lower = source.limit.lower;\n        this.limit.upper = source.limit.upper;\n        this.ignoreLimits = false;\n        this.jointValue = Array.isArray(source.jointValue) ? _toConsumableArray(source.jointValue) : source.jointValue;\n        this.origPosition = source.origPosition ? source.origPosition.clone() : null;\n        this.origQuaternion = source.origQuaternion ? source.origQuaternion.clone() : null;\n        return this;\n      }\n      /* Public Functions */\n\n    }, {\n      key: \"setAngle\",\n      value: function setAngle() {\n        return this.setOffset.apply(this, arguments);\n      }\n    }, {\n      key: \"setOffset\",\n      value: function setOffset() {\n        for (var _len4 = arguments.length, values = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          values[_key4] = arguments[_key4];\n        }\n\n        values = values.map(function (v) {\n          return parseFloat(v);\n        });\n\n        if (!this.origPosition || !this.origQuaternion) {\n          this.origPosition = this.position.clone();\n          this.origQuaternion = this.quaternion.clone();\n        }\n\n        switch (this.jointType) {\n          case 'fixed':\n            {\n              break;\n            }\n\n          case 'continuous':\n          case 'revolute':\n            {\n              var angle = values[0];\n              if (angle == null) break;\n              if (angle === this.jointValue) break;\n\n              if (!this.ignoreLimits && this.jointType === 'revolute') {\n                angle = Math.min(this.limit.upper, angle);\n                angle = Math.max(this.limit.lower, angle);\n              } // FromAxisAngle seems to rotate the opposite of the\n              // expected angle for URDF, so negate it here\n\n\n              var delta = new THREE.Quaternion().setFromAxisAngle(this.axis, angle);\n              this.quaternion.multiplyQuaternions(this.origQuaternion, delta);\n              this.jointValue = angle;\n              this.matrixWorldNeedsUpdate = true;\n              break;\n            }\n\n          case 'prismatic':\n            {\n              var _angle = values[0];\n              if (_angle == null) break;\n              if (_angle === this.jointValue) break;\n\n              if (!this.ignoreLimits) {\n                _angle = Math.min(this.limit.upper, _angle);\n                _angle = Math.max(this.limit.lower, _angle);\n              }\n\n              this.position.copy(this.origPosition);\n              this.position.addScaledVector(this.axis, _angle);\n              this.jointValue = _angle;\n              this.worldMatrixNeedsUpdate = true;\n              break;\n            }\n\n          case 'floating':\n          case 'planar':\n            // TODO: Support these joint types\n            console.warn(\"'\".concat(this.jointType, \"' joint not yet supported\"));\n        }\n\n        return this.jointValue;\n      }\n    }]);\n\n    return URDFJoint;\n  }(THREE.Object3D);\n\n  var URDFRobot =\n  /*#__PURE__*/\n  function (_URDFLink) {\n    _inherits(URDFRobot, _URDFLink);\n\n    function URDFRobot() {\n      var _getPrototypeOf4;\n\n      var _this4;\n\n      _classCallCheck(this, URDFRobot);\n\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      _this4 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(URDFRobot)).call.apply(_getPrototypeOf4, [this].concat(args)));\n      _this4.isURDFRobot = true;\n      _this4.urdfNode = null;\n      _this4.urdfRobotNode = null;\n      _this4.robotName = null;\n      _this4.links = null;\n      _this4.joints = null;\n      return _this4;\n    }\n\n    _createClass(URDFRobot, [{\n      key: \"copy\",\n      value: function copy(source, recursive) {\n        var _this5 = this;\n\n        _get(_getPrototypeOf(URDFRobot.prototype), \"copy\", this).call(this, source, recursive);\n\n        this.urdfRobotNode = source.urdfRobotNode;\n        this.robotName = source.robotName;\n        this.links = {};\n        this.joints = {};\n        this.traverse(function (c) {\n          if (c.isURDFJoint && c.name in source.joints) {\n            _this5.joints[c.name] = c;\n          }\n\n          if (c.isURDFLink && c.name in source.links) {\n            _this5.links[c.name] = c;\n          }\n        });\n        return this;\n      }\n    }, {\n      key: \"setAngle\",\n      value: function setAngle(jointName) {\n        var joint = this.joints[jointName];\n\n        if (joint) {\n          for (var _len6 = arguments.length, angle = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n            angle[_key6 - 1] = arguments[_key6];\n          }\n\n          return joint.setAngle.apply(joint, angle);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"setAngles\",\n      value: function setAngles(angles) {\n        // TODO: How to handle other, multi-dimensional joint types?\n        for (var name in angles) {\n          this.setAngle(name, angles[name]);\n        }\n      }\n    }]);\n\n    return URDFRobot;\n  }(URDFLink);\n\n  /*\n  Reference coordinate frames for THREE.js and ROS.\n  Both coordinate systems are right handed so the URDF is instantiated without\n  frame transforms. The resulting model can be rotated to rectify the proper up,\n  right, and forward directions\n\n  THREE.js\n     Y\n     |\n     |\n     .-----X\n   ／\n  Z\n\n  ROS URDf\n         Z\n         |   X\n         | ／\n   Y-----.\n\n  */\n\n  var tempQuaternion = new THREE.Quaternion();\n  var tempEuler = new THREE.Euler(); // take a vector \"x y z\" and process it into\n  // an array [x, y, z]\n\n  function processTuple(val) {\n    if (!val) return [0, 0, 0];\n    return val.trim().split(/\\s+/g).map(function (num) {\n      return parseFloat(num);\n    });\n  } // applies a rotation a threejs object in URDF order\n\n\n  function applyRotation(obj, rpy) {\n    var additive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    // if additive is true the rotation is applied in\n    // addition to the existing rotation\n    if (!additive) obj.rotation.set(0, 0, 0);\n    tempEuler.set(rpy[0], rpy[1], rpy[2], 'ZYX');\n    tempQuaternion.setFromEuler(tempEuler);\n    tempQuaternion.multiply(obj.quaternion);\n    obj.quaternion.copy(tempQuaternion);\n  }\n  /* URDFLoader Class */\n  // Loads and reads a URDF file into a THREEjs Object3D format\n\n\n  var URDFLoader =\n  /*#__PURE__*/\n  function () {\n    function URDFLoader(manager) {\n      var allowMeshBVH = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _classCallCheck(this, URDFLoader);\n\n      this.manager = manager || THREE.DefaultLoadingManager;\n      this.allowMeshBVH = allowMeshBVH;\n      this.retryMap = {};\n    }\n    /* Public API */\n    // urdf:    The path to the URDF within the package OR absolute\n    // onComplete:      Callback that is passed the model once loaded\n\n\n    _createClass(URDFLoader, [{\n      key: \"load\",\n      value: function load(urdf, onComplete, onProgress, onError, options) {\n        var _this = this;\n\n        // Check if a full URI is specified before\n        // prepending the package info\n        var manager = this.manager;\n        var workingPath = THREE.LoaderUtils.extractUrlBase(urdf);\n        var urdfPath = this.manager.resolveURL(urdf);\n        var errors = {};\n\n        var managerOnErrorDefault = function managerOnErrorDefault() {};\n\n        var managerOnProgressDefault = function managerOnProgressDefault() {};\n\n        var managerOnLoadDefault = function managerOnLoadDefault() {};\n\n        var model;\n\n        if (manager.onError) {\n          managerOnErrorDefault = manager.onProgress.bind(manager);\n        }\n\n        if (manager.onProgress) {\n          managerOnProgressDefault = manager.onProgress.bind(manager);\n        }\n\n        if (manager.onLoad) {\n          managerOnLoadDefault = manager.onLoad.bind(manager);\n        }\n\n        var that = this;\n\n        manager.onError = function (url) {\n          errors[url] = 'Error in loading resource';\n\n          if (onError) {\n            onError({\n              url: url,\n              retry: that.retryMap[url]\n            });\n          }\n\n          managerOnErrorDefault(url);\n        };\n\n        manager.onProgress = function (url, itemsLoaded, itemsTotal) {\n          if (onProgress) {\n            onProgress(url, itemsLoaded, itemsTotal);\n          }\n\n          managerOnProgressDefault(url, itemsLoaded, itemsTotal);\n        };\n\n        manager.onLoad = function () {\n          if (onComplete) {\n            var partialErrors = Object.keys(errors).length === 0 ? undefined : errors;\n            onComplete(model, partialErrors);\n          }\n\n          managerOnLoadDefault();\n        };\n\n        options = Object.assign({\n          workingPath: workingPath\n        }, options);\n        manager.itemStart(urdfPath);\n        fetch(urdfPath, options.fetchOptions).then(function (res) {\n          return res.text();\n        }).then(function (data) {\n          model = _this.parse(data, options);\n          window.model = model;\n          manager.itemEnd(urdfPath);\n        })[\"catch\"](function (e) {\n          console.error('URDFLoader: Error parsing file.', e);\n          manager.itemError(urdfPath);\n          manager.itemEnd(urdfPath);\n        });\n      }\n    }, {\n      key: \"parse\",\n      value: function parse(content) {\n        var _this2 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var packages = options.packages || '';\n        var loadMeshCb = options.loadMeshCb || this.defaultMeshLoader.bind(this);\n        var workingPath = options.workingPath || '';\n        var parseVisual = 'parseVisual' in options ? options.parseVisual : true;\n        var parseCollision = options.parseCollision || false;\n        var manager = this.manager;\n        var linkMap = {};\n        var jointMap = {};\n        var materialMap = {}; // Resolves the path of mesh files\n\n        function resolvePath(path) {\n          if (!/^package:\\/\\//.test(path)) {\n            return workingPath ? workingPath + path : path;\n          } // Remove \"package://\" keyword and split meshPath at the first slash\n\n\n          var _path$replace$split = path.replace(/^package:\\/\\//, '').split(/\\/(.+)/),\n              _path$replace$split2 = _slicedToArray(_path$replace$split, 2),\n              targetPkg = _path$replace$split2[0],\n              relPath = _path$replace$split2[1];\n\n          if (typeof packages === 'string') {\n            // \"pkg\" is one single package\n            if (packages.endsWith(targetPkg)) {\n              // \"pkg\" is the target package\n              return packages + '/' + relPath;\n            } else {\n              // Assume \"pkg\" is the target package's parent directory\n              return packages + '/' + targetPkg + '/' + relPath;\n            }\n          } else if (_typeof(packages) === 'object') {\n            // \"pkg\" is a map of packages\n            if (targetPkg in packages) {\n              return packages[targetPkg] + '/' + relPath;\n            } else {\n              console.error(\"URDFLoader : \".concat(targetPkg, \" not found in provided package list.\"));\n              return null;\n            }\n          }\n        } // Process the URDF text format\n\n\n        var processUrdf = function processUrdf(data) {\n          var parser = new DOMParser();\n          var urdf = parser.parseFromString(data, 'text/xml');\n\n          var children = _toConsumableArray(urdf.children);\n\n          var robotNode = children.filter(function (c) {\n            return c.nodeName === 'robot';\n          }).pop();\n          return processRobot.call(_this2, robotNode);\n        }; // Process the <robot> node\n\n\n        function processRobot(robot) {\n          var _this3 = this;\n\n          var robotNodes = _toConsumableArray(robot.children);\n\n          var links = robotNodes.filter(function (c) {\n            return c.nodeName.toLowerCase() === 'link';\n          });\n          var joints = robotNodes.filter(function (c) {\n            return c.nodeName.toLowerCase() === 'joint';\n          });\n          var materials = robotNodes.filter(function (c) {\n            return c.nodeName.toLowerCase() === 'material';\n          });\n          var obj = new URDFRobot();\n          obj.robotName = robot.getAttribute('name');\n          obj.urdfRobotNode = robot; // Create the <material> map\n\n          materials.forEach(function (m) {\n            var name = m.getAttribute('name');\n            materialMap[name] = processMaterial.call(_this3, m);\n          }); // Create the <link> map\n\n          links.forEach(function (l) {\n            var name = l.getAttribute('name');\n            var isRoot = robot.querySelector(\"child[link=\\\"\".concat(name, \"\\\"]\")) === null;\n            linkMap[name] = processLink.call(_this3, l, isRoot ? obj : null);\n          }); // Create the <joint> map\n\n          joints.forEach(function (j) {\n            var name = j.getAttribute('name');\n            jointMap[name] = processJoint.call(_this3, j);\n          });\n          obj.joints = jointMap;\n          obj.links = linkMap;\n          return obj;\n        } // Process joint nodes and parent them\n\n\n        function processJoint(joint) {\n          var children = _toConsumableArray(joint.children);\n\n          var jointType = joint.getAttribute('type');\n          var obj = new URDFJoint();\n          obj.urdfNode = joint;\n          obj.name = joint.getAttribute('name');\n          obj.jointType = jointType;\n          var parent = null;\n          var child = null;\n          var xyz = [0, 0, 0];\n          var rpy = [0, 0, 0]; // Extract the attributes\n\n          children.forEach(function (n) {\n            var type = n.nodeName.toLowerCase();\n\n            if (type === 'origin') {\n              xyz = processTuple(n.getAttribute('xyz'));\n              rpy = processTuple(n.getAttribute('rpy'));\n            } else if (type === 'child') {\n              child = linkMap[n.getAttribute('link')];\n            } else if (type === 'parent') {\n              parent = linkMap[n.getAttribute('link')];\n            } else if (type === 'limit') {\n              obj.limit.lower = parseFloat(n.getAttribute('lower') || obj.limit.lower);\n              obj.limit.upper = parseFloat(n.getAttribute('upper') || obj.limit.upper);\n            }\n          }); // Join the links\n\n          parent.add(obj);\n          obj.add(child);\n          applyRotation(obj, rpy);\n          obj.position.set(xyz[0], xyz[1], xyz[2]); // Set up the rotate function\n\n          var axisNode = children.filter(function (n) {\n            return n.nodeName.toLowerCase() === 'axis';\n          })[0];\n\n          if (axisNode) {\n            var axisXYZ = axisNode.getAttribute('xyz').split(/\\s+/g).map(function (num) {\n              return parseFloat(num);\n            });\n            obj.axis = new THREE.Vector3(axisXYZ[0], axisXYZ[1], axisXYZ[2]);\n            obj.axis.normalize();\n          }\n\n          return obj;\n        } // Process the <link> nodes\n\n\n        function processLink(link) {\n          var _this4 = this;\n\n          var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          if (target === null) {\n            target = new URDFLink();\n          }\n\n          var children = _toConsumableArray(link.children);\n\n          target.name = link.getAttribute('name');\n          target.urdfNode = link;\n\n          if (parseVisual) {\n            var visualNodes = children.filter(function (n) {\n              return n.nodeName.toLowerCase() === 'visual';\n            });\n            visualNodes.forEach(function (vn) {\n              return processLinkElement.call(_this4, vn, target, materialMap);\n            });\n          }\n\n          if (parseCollision) {\n            var collisionNodes = children.filter(function (n) {\n              return n.nodeName.toLowerCase() === 'collision';\n            });\n            collisionNodes.forEach(function (vn) {\n              return processLinkElement.call(_this4, vn, target);\n            });\n          }\n\n          return target;\n        }\n\n        function processMaterial(node) {\n          var _this5 = this;\n\n          var matNodes = _toConsumableArray(node.children);\n\n          var material = new THREE.MeshPhongMaterial();\n          material.name = node.getAttribute('name') || '';\n          matNodes.forEach(function (n) {\n            var type = n.nodeName.toLowerCase();\n\n            if (type === 'color') {\n              var rgba = n.getAttribute('rgba').split(/\\s/g).map(function (v) {\n                return parseFloat(v);\n              });\n              material.color.setRGB(rgba[0], rgba[1], rgba[2]);\n              material.opacity = rgba[3];\n              material.transparent = rgba[3] < 1;\n            } else if (type === 'texture') {\n              var loader = new THREE.TextureLoader(manager);\n              var filename = n.getAttribute('filename');\n              var filePath = resolvePath(filename);\n\n              var onError = function onError() {\n                _this5.retryMap[filePath] = function () {\n                  return loader.load(filePath, function () {\n                    return null;\n                  }, function () {\n                    return null;\n                  }, onError);\n                };\n              };\n\n              material.map = loader.load(filePath, function () {\n                return null;\n              }, function () {\n                return null;\n              }, onError);\n            }\n          });\n          return material;\n        } // Process the visual and collision nodes into meshes\n\n\n        function processLinkElement(vn, linkObj) {\n          var _this6 = this;\n\n          var materialMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var isCollisionNode = vn.nodeName.toLowerCase() === 'collision';\n          var xyz = [0, 0, 0];\n          var rpy = [0, 0, 0];\n          var scale = [1, 1, 1];\n\n          var children = _toConsumableArray(vn.children);\n\n          var material = null;\n          var primitiveModel = null; // get the material first\n\n          var materialNode = children.filter(function (n) {\n            return n.nodeName.toLowerCase() === 'material';\n          })[0];\n\n          if (materialNode) {\n            var name = materialNode.getAttribute('name');\n\n            if (name && name in materialMap) {\n              material = materialMap[name];\n            } else {\n              material = processMaterial.call(this, materialNode);\n            }\n          } else {\n            material = new THREE.MeshPhongMaterial();\n          }\n\n          children.forEach(function (n) {\n            var type = n.nodeName.toLowerCase();\n\n            if (type === 'geometry') {\n              var geoType = n.children[0].nodeName.toLowerCase();\n\n              if (geoType === 'mesh') {\n                var filename = n.children[0].getAttribute('filename');\n                var filePath = resolvePath(filename); // file path is null if a package directory is not provided.\n\n                if (filePath !== null) {\n                  var scaleAttr = n.children[0].getAttribute('scale');\n                  if (scaleAttr) scale = processTuple(scaleAttr);\n\n                  var cb = function cb(obj, err) {\n                    if (err) {\n                      console.error('URDFLoader: Error loading mesh.', err);\n\n                      _this6.retryMap[filePath] = function () {\n                        return loadMeshCb(filePath, manager, cb);\n                      };\n                    } else if (obj) {\n                      if (obj instanceof THREE.Mesh) {\n                        obj.material = material;\n\n                        if (_this6.allowMeshBVH) {\n                          obj.raycast = threeMeshBvh.acceleratedRaycast;\n                          obj.geometry.boundsTree = new threeMeshBvh.MeshBVH(obj.geometry);\n                        }\n                      }\n\n                      linkObj.add(obj);\n                      obj.position.set(xyz[0], xyz[1], xyz[2]);\n                      obj.rotation.set(0, 0, 0); // multiply the existing scale by the scale components because\n                      // the loaded model could have important scale values already applied\n                      // to the root. Collada files, for example, can load in with a scale\n                      // to convert the model units to meters.\n\n                      obj.scale.x *= scale[0];\n                      obj.scale.y *= scale[1];\n                      obj.scale.z *= scale[2];\n                      applyRotation(obj, rpy);\n\n                      if (isCollisionNode) {\n                        makeURDFCollider(obj);\n                      }\n                    }\n                  };\n\n                  loadMeshCb(filePath, manager, cb);\n                }\n              } else if (geoType === 'box') {\n                primitiveModel = new THREE.Mesh();\n                primitiveModel.geometry = new THREE.BoxBufferGeometry(1, 1, 1);\n                primitiveModel.material = material;\n\n                if (_this6.allowMeshBVH) {\n                  primitiveModel.raycast = threeMeshBvh.acceleratedRaycast;\n                  primitiveModel.geometry.boundsTree = new threeMeshBvh.MeshBVH(primitiveModel.geometry);\n                }\n\n                var size = processTuple(n.children[0].getAttribute('size'));\n                linkObj.add(primitiveModel);\n                primitiveModel.scale.set(size[0], size[1], size[2]);\n\n                if (isCollisionNode) {\n                  makeURDFCollider(primitiveModel);\n                }\n              } else if (geoType === 'sphere') {\n                primitiveModel = new THREE.Mesh();\n                primitiveModel.geometry = new THREE.SphereBufferGeometry(1, 30, 30);\n                primitiveModel.material = material;\n\n                if (_this6.allowMeshBVH) {\n                  primitiveModel.raycast = threeMeshBvh.acceleratedRaycast;\n                  primitiveModel.geometry.boundsTree = new threeMeshBvh.MeshBVH(primitiveModel.geometry);\n                }\n\n                var radius = parseFloat(n.children[0].getAttribute('radius')) || 0;\n                primitiveModel.scale.set(radius, radius, radius);\n                linkObj.add(primitiveModel);\n\n                if (isCollisionNode) {\n                  makeURDFCollider(primitiveModel);\n                }\n              } else if (geoType === 'cylinder') {\n                primitiveModel = new THREE.Mesh();\n                primitiveModel.geometry = new THREE.CylinderBufferGeometry(1, 1, 1, 30);\n                primitiveModel.material = material;\n\n                if (_this6.allowMeshBVH) {\n                  primitiveModel.raycast = threeMeshBvh.acceleratedRaycast;\n                  primitiveModel.geometry.boundsTree = new threeMeshBvh.MeshBVH(primitiveModel.geometry);\n                }\n\n                var _radius = parseFloat(n.children[0].getAttribute('radius')) || 0;\n\n                var length = parseFloat(n.children[0].getAttribute('length')) || 0;\n                primitiveModel.scale.set(_radius, length, _radius);\n                primitiveModel.rotation.set(Math.PI / 2, 0, 0);\n                linkObj.add(primitiveModel);\n\n                if (isCollisionNode) {\n                  makeURDFCollider(primitiveModel);\n                }\n              }\n            } else if (type === 'origin') {\n              xyz = processTuple(n.getAttribute('xyz'));\n              rpy = processTuple(n.getAttribute('rpy'));\n            }\n          }); // apply the position and rotation to the primitive geometry after\n          // the fact because it's guaranteed to have been scraped from the child\n          // nodes by this point\n\n          if (primitiveModel) {\n            applyRotation(primitiveModel, rpy, true);\n            primitiveModel.position.set(xyz[0], xyz[1], xyz[2]);\n          }\n        }\n\n        return processUrdf(content);\n      } // Default mesh loading function\n\n    }, {\n      key: \"defaultMeshLoader\",\n      value: function defaultMeshLoader(path, manager, done) {\n        if (/\\.stl(?:\\?|$)/i.test(path)) {\n          var loader = new STLLoader_js.STLLoader(manager);\n          loader.load(path, function (geom) {\n            var mesh = new THREE.Mesh(geom, new THREE.MeshPhongMaterial());\n            done(mesh);\n          });\n        } else if (/\\.dae(?:\\?|$)/i.test(path)) {\n          var _loader = new ColladaLoader_js.ColladaLoader(manager);\n\n          _loader.load(path, function (dae) {\n            return done(dae.scene);\n          });\n        } else {\n          console.warn(\"URDFLoader: Could not load model at \".concat(path, \".\\nNo loader available\"));\n        }\n      }\n    }]);\n\n    return URDFLoader;\n  }();\n  ;\n\n  return URDFLoader;\n\n}));\n//# sourceMappingURL=URDFLoader.js.map\n","import { MathUtils as THREEMath, MeshStandardMaterial, TorusGeometry } from 'three';\nimport Arrow from './Arrow';\nimport Cone from './Cone';\nimport {\n  DEFAULT_COLOR_X_AXIS,\n  DEFAULT_OPTIONS_TORUS,\n} from '../utils/constants';\nimport * as TransformUtils from '../utils/transform';\nimport { assertIsMaterial, assertIsTorusGeometry } from '../utils/helpers';\nimport Mesh from './Mesh';\n\nclass ArrowWithCircle extends Arrow {\n  private readonly circleCone = new Cone(DEFAULT_COLOR_X_AXIS);\n  public readonly material = new MeshStandardMaterial({\n    color: this.cone.material.color,\n  });\n  private readonly torus: Mesh;\n\n  constructor() {\n    super();\n    this.add(this.circleCone);\n    this.material.transparent = true;\n\n    const torusOptions = DEFAULT_OPTIONS_TORUS;\n    const torusGeometry = new TorusGeometry(\n      torusOptions.circleRadius,\n      torusOptions.tube,\n      torusOptions.radialSegments,\n      torusOptions.tubularSegments,\n      torusOptions.arc,\n    );\n    this.torus = new Mesh(torusGeometry, this.material);\n    this.add(this.torus);\n\n    this.circleCone.rotateX(torusGeometry.parameters.arc);\n    this.circleCone.translateZ(\n      -Math.cos(-torusGeometry.parameters.arc) *\n        torusGeometry.parameters.radius,\n    );\n    this.circleCone.translateY(\n      -Math.sin(-torusGeometry.parameters.arc) *\n        torusGeometry.parameters.radius,\n    );\n    this.circleCone.translateX(this.cylinder.scale.y / 2);\n    this.torus.translateX(this.cylinder.scale.y / 2);\n    this.torus.rotateY(Math.PI / 2);\n  }\n\n  setTorusDimensions(args: { radius: number; tube: number }) {\n    const { radius, tube } = args;\n    const torusOptions = DEFAULT_OPTIONS_TORUS;\n    this.torus.geometry = new TorusGeometry(\n      radius,\n      tube,\n      torusOptions.radialSegments,\n      torusOptions.tubularSegments,\n      torusOptions.arc,\n    );\n    this.torus.position.set(0, 0, 0);\n    this.torus.rotation.set(0, 0, 0);\n    this.torus.translateX(this.cylinder.scale.y / 2);\n    this.torus.rotateY(Math.PI / 2);\n  }\n\n  setCircleConeDimensions(args: { radius: number; length: number }) {\n    const { radius, length } = args;\n    const parsedRadius = +`${radius}`;\n    const parsedLength = +`${length}`;\n    assertIsTorusGeometry(this.torus.geometry);\n\n    if (parsedRadius) {\n      const { y } = this.circleCone.scale;\n      this.circleCone.setScale({ x: radius, y, z: radius });\n    }\n\n    if (parsedLength) {\n      const { x, z } = this.circleCone.scale;\n      this.circleCone.setScale({ x, y: parsedLength, z });\n    }\n\n    this.circleCone.position.set(0, 0, 0);\n    this.circleCone.rotation.set(0, 0, 0);\n    this.circleCone.translateX(this.cylinder.scale.y / 2);\n    this.circleCone.translateZ(\n      -Math.cos(-this.torus.geometry.parameters.arc) *\n        this.torus.geometry.parameters.radius,\n    );\n    this.circleCone.translateY(\n      -Math.sin(-this.torus.geometry.parameters.arc) *\n        this.torus.geometry.parameters.radius,\n    );\n    this.circleCone.rotateX(this.torus.geometry.parameters.arc);\n  }\n\n  setColor(args: { [object: string]: RosMessage.Color | string }) {\n    const { cone, cylinder, torus, circleCone } = args;\n\n    if (cone) {\n      this.cone.setColor(cone);\n    }\n    if (cylinder) {\n      this.cylinder.setColor(cylinder);\n    }\n    if (torus) {\n      TransformUtils.setColor(this.torus, this.cone.material.color);\n    }\n    if (circleCone) {\n      this.circleCone.setColor(circleCone);\n    }\n  }\n\n  setAlpha(alpha: number) {\n    super.setAlpha(alpha);\n    assertIsMaterial(this.torus.material);\n    this.torus.material.opacity = THREEMath.clamp(alpha, 0, 1);\n    this.circleCone.setAlpha(alpha);\n  }\n}\n\nexport default ArrowWithCircle;\n","/* eslint-disable prettier/prettier */\nimport { Group } from 'three';\n\nexport const OBJECT_TYPE_ARROW = 'Arrow';\nexport const OBJECT_TYPE_ARROW_WITH_CIRCLE = 'ArrowWithCircle';\nexport const OBJECT_TYPE_AXES = 'Axes';\nexport const OBJECT_TYPE_FLAT_ARROW = 'FlatArrow';\n\nexport const MAX_POINTCLOUD_POINTS = 5000000;\n\nexport const DEFAULT_BACKGROUND_COLOR = 0xF0F0F0;\nexport const DEFAULT_GRID_SIZE = 30;\nexport const DEFAULT_GRID_DIVISIONS = 30;\nexport const DEFAULT_GRID_COLOR = 0xAAAAAA;\nexport const DEFAULT_GRID_COLOR_CENTERLINE = 0x707070;\n\nexport const INTERACTIVE_MARKER_ORIENTATION_MODES = {\n  INHERIT: 0,\n  FIXED: 1,\n  VIEW_FACING: 2,\n};\n\nexport const UNSUPPORTED_INTERACTIVE_MARKER_ORIENTATION_MODES = [\n  INTERACTIVE_MARKER_ORIENTATION_MODES.VIEW_FACING,\n];\n\nexport const INTERACTIVE_MARKER_INTERACTION_MODES = {\n  NONE: 0,\n  MENU: 1,\n  BUTTON: 2,\n  MOVE_AXIS: 3,\n  MOVE_PLANE: 4,\n  ROTATE_AXIS: 5,\n  MOVE_ROTATE: 6,\n  MOVE_3D: 7,\n  ROTATE_3D: 8,\n  MOVE_ROTATE_3D: 9,\n};\n\n/* * ***************************\n *   Message types\n * ************************** */\nexport const MESSAGE_TYPE_ROBOT_MODEL = 'robot_description';\nexport const MESSAGE_TYPE_ACCELSTAMPED = 'geometry_msgs/AccelStamped';\nexport const MESSAGE_TYPE_POINTSTAMPED = 'geometry_msgs/PointStamped';\nexport const MESSAGE_TYPE_POINTSTAMPED2 = 'geometry_msgs/msg/PointStamped';\nexport const MESSAGE_TYPE_POLYGONSTAMPED = 'geometry_msgs/PolygonStamped';\nexport const MESSAGE_TYPE_POSEARRAY = 'geometry_msgs/PoseArray';\nexport const MESSAGE_TYPE_POSEARRAY2 = 'geometry_msgs/msg/PoseArray';\nexport const MESSAGE_TYPE_POSECOVARIANCE = 'geometry_msgs/PoseWithCovariance';\nexport const MESSAGE_TYPE_POSECOVARIANCE2 = 'geometry_msgs/msg/PoseWithCovariance';\nexport const MESSAGE_TYPE_POSESTAMPED = 'geometry_msgs/PoseStamped';\nexport const MESSAGE_TYPE_POSESTAMPED2 = 'geometry_msgs/msg/PoseStamped';\nexport const MESSAGE_TYPE_TWISTSTAMPED = 'geometry_msgs/TwistStamped';\nexport const MESSAGE_TYPE_VECTOR3STAMPED = 'geometry_msgs/Vector3Stamped';\nexport const MESSAGE_TYPE_WRENCHSTAMPED = 'geometry_msgs/WrenchStamped';\nexport const MESSAGE_TYPE_WRENCHSTAMPED2 = 'geometry_msgs/msg/WrenchStamped';\n\nexport const MESSAGE_TYPE_BOUNDINGVOLUME = 'moveit_msgs/BoundingVolume';\nexport const MESSAGE_TYPE_COLLISION_OBJECT = 'moveit_msgs/CollisionObject';\nexport const MESSAGE_TYPE_DISPLAYROBOTSTATE = 'moveit_msgs/DisplayRobotState';\nexport const MESSAGE_TYPE_DISPLAYTRAJECTORY = 'moveit_msgs/DisplayTrajectory';\nexport const MESSAGE_TYPE_PLANNINGSCENE = 'moveit_msgs/PlanningScene';\n\nexport const MESSAGE_TYPE_OCCUPANCYGRID = 'nav_msgs/OccupancyGrid';\nexport const MESSAGE_TYPE_OCCUPANCYGRID2 = 'nav_msgs/msg/OccupancyGrid';\nexport const MESSAGE_TYPE_ODOMETRY = 'nav_msgs/Odometry';\nexport const MESSAGE_TYPE_ODOMETRY2 = 'nav_msgs/msg/Odometry';\nexport const MESSAGE_TYPE_PATH = 'nav_msgs/Path';\nexport const MESSAGE_TYPE_PATH2 = 'nav_msgs/msg/Path';\n\nexport const MESSAGE_TYPE_COMPRESSEDIMAGE = 'sensor_msgs/CompressedImage';\nexport const MESSAGE_TYPE_DISPLAYJOINTSTATE = 'sensor_msgs/JointState';\nexport const MESSAGE_TYPE_IMAGE = 'sensor_msgs/Image';\nexport const MESSAGE_TYPE_IMAGE2 = 'sensor_msgs/msg/Image';\nexport const MESSAGE_TYPE_LASERSCAN = 'sensor_msgs/LaserScan';\nexport const MESSAGE_TYPE_LASERSCAN2 = 'sensor_msgs/msg/LaserScan';\nexport const MESSAGE_TYPE_MAGNETICFIELD = 'sensor_msgs/MagneticField';\nexport const MESSAGE_TYPE_POINTCLOUD = 'sensor_msgs/PointCloud';\nexport const MESSAGE_TYPE_POINTCLOUD2 = 'sensor_msgs/PointCloud2';\nexport const MESSAGE_TYPE_ROS2POINTCLOUD2 = 'sensor_msgs/msg/PointCloud2';\nexport const MESSAGE_TYPE_RANGE = 'sensor_msgs/Range';\nexport const MESSAGE_TYPE_RANGE2 = 'sensor_msgs/msg/Range';\n\nexport const MESSAGE_TYPE_TF = 'tf/tfMessage';\nexport const MESSAGE_TYPE_ROS2_TF = 'tf/msg/tfMessage';\nexport const MESSAGE_TYPE_TF2 = 'tf2_msgs/TFMessage';\nexport const MESSAGE_TYPE_ROS2_TF2 = 'tf2_msgs/msg/TFMessage';\n\nexport const MESSAGE_TYPE_MARKER = 'visualization_msgs/Marker';\nexport const MESSAGE_TYPE_MARKER2 = 'visualization_msgs/msg/Marker';\nexport const MESSAGE_TYPE_MARKERARRAY = 'visualization_msgs/MarkerArray';\nexport const MESSAGE_TYPE_MARKERARRAY2= 'visualization_msgs/msg/MarkerArray';\nexport const MESSAGE_TYPE_INTERACTIVEMARKER =\n  'visualization_msgs/InteractiveMarkerInit';\nexport const MESSAGE_TYPE_INTERACTIVEMARKER2 =\n  'visualization_msgs/msg/InteractiveMarkerInit';\nexport const MESSAGE_TYPE_INTERACTIVEMARKER_UPDATE =\n  'visualization_msgs/InteractiveMarkerUpdate';\nexport const MESSAGE_TYPE_INTERACTIVEMARKER_UPDATE2 =\n  'visualization_msgs/msg/InteractiveMarkerUpdate';\nexport const MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK =\n  'visualization_msgs/InteractiveMarkerFeedback';\nexport const MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK2 =\n  'visualization_msgs/msg/InteractiveMarkerFeedback';\n\n/** ***************************\n *   Visualizations\n * ************************** */\nexport const VIZ_TYPE_IMAGE = 'Image';\nexport const VIZ_TYPE_INTERACTIVEMARKER = 'InteractiveMarker';\nexport const VIZ_TYPE_LASERSCAN = 'LaserScan';\nexport const VIZ_TYPE_MAP = 'Map';\nexport const VIZ_TYPE_MARKER = 'Marker';\nexport const VIZ_TYPE_MARKERARRAY = 'MarkerArray';\nexport const VIZ_TYPE_ODOMETRY = 'Odometry';\nexport const VIZ_TYPE_PATH = 'Path';\nexport const VIZ_TYPE_POINT = 'Point';\nexport const VIZ_TYPE_POINTCLOUD = 'PointCloud';\nexport const VIZ_TYPE_POLYGON = 'Polygon';\nexport const VIZ_TYPE_POSE = 'Pose';\nexport const VIZ_TYPE_POSEARRAY = 'PoseArray';\nexport const VIZ_TYPE_RANGE = 'Range';\nexport const VIZ_TYPE_ROBOTMODEL = 'RobotModel';\nexport const VIZ_TYPE_TF = 'Tf';\nexport const VIZ_TYPE_WRENCH = 'Wrench';\n\n/* * ***************************\n *   Viz specific constants\n * ************************** */\n\nexport const POINT_FIELD_DATATYPES = {\n  INT8: 1,\n  UINT8: 2,\n  INT16: 3,\n  UINT16: 4,\n  INT32: 5,\n  UINT32: 6,\n  FLOAT32: 7,\n  FLOAT64: 8,\n};\n\nexport const COLLISION_OBJECT_OPERATIONS = {\n  ADD: 0,\n  REMOVE: 1,\n  APPEND: 2,\n  MOVE: 3,\n};\n\nexport const SOLID_PRIMITIVE_TYPES = {\n  BOX: 1,\n  SPHERE: 2,\n  CYLINDER: 3,\n  CONE: 4,\n};\n\nexport const MARKER_OBJECT_TYPES = {\n  ARROW: 0,\n  CUBE: 1,\n  SPHERE: 2,\n  CYLINDER: 3,\n  LINE_STRIP: 4,\n  LINE_LIST: 5,\n  CUBE_LIST: 6,\n  SPHERE_LIST: 7,\n  POINTS: 8,\n  TEXT_VIEW_FACING: 9,\n  MESH_RESOURCE: 10,\n  TRIANGLE_LIST: 11,\n};\n\nexport const LINE_STYLES = {\n  LINES: 'Lines',\n  BILLBOARDS: 'Billboards',\n};\n\nexport const MAP_COLOR_SCHEMES = {\n  MAP: 'map',\n  CONST_MAP: 'constmap',\n  RAW: 'raw',\n};\n\nexport const LASERSCAN_STYLES = {\n  SQUARES: 'squares',\n  POINTS: 'points',\n  FLAT_SQUARES: 'flat_squares',\n  SPHERES: 'spheres',\n  BOXES: 'boxes',\n};\n\nexport const COLOR_TRANSFORMERS = {\n  INTENSITY: 'Intensity',\n  AXIS_COLOR: 'AxisColor',\n  FLAT_COLOR: 'FlatColor',\n};\n\nconst DEPTHCLOUD_STREAMTYPES = {\n  VP8: 'vp8',\n  MJPEG: 'mjpeg',\n};\n\nexport const POINTCLOUD_COLOR_CHANNELS = {\n  RGB: 'rgb',\n  INTENSITY: 'intensity',\n};\n\nexport const AXES = {\n  X: 'x',\n  Y: 'y',\n  Z: 'z',\n};\n\nexport const INTENSITY_CHANNEL_OPTIONS = {\n  INTENSITY: 'intensity',\n  ...AXES,\n};\n\nexport const ODOMETRY_OBJECT_TYPES = {\n  arrow: OBJECT_TYPE_ARROW,\n  axes: OBJECT_TYPE_AXES,\n};\n\nexport const POSE_OBJECT_TYPES = {\n  arrow: OBJECT_TYPE_ARROW,\n  axes: OBJECT_TYPE_AXES,\n  flatArrow: OBJECT_TYPE_FLAT_ARROW,\n};\n\nexport const WRENCH_OBJECT_TYPES = {\n  arrow: OBJECT_TYPE_ARROW,\n  arrowWithCircle: OBJECT_TYPE_ARROW_WITH_CIRCLE,\n};\n\n/** ***************************\n *   Default Options\n * ************************** */\nexport const DEFAULT_CYLINDER_HEIGHT = 1;\nexport const DEFAULT_CYLINDER_RADIUS = 1;\nexport const DEFAULT_RADIAL_SEGMENTS = 32;\n\nexport const DEFAULT_CONE_HEIGHT = 1;\nexport const DEFAULT_CONE_RADIUS = 1;\n\nexport const DEFAULT_COLOR_X_AXIS = '#ff0000';\nexport const DEFAULT_COLOR_Y_AXIS = '#008000';\nexport const DEFAULT_COLOR_Z_AXIS = '#0000ff';\nexport const DEFAULT_COLOR_ARROW = '#f0ff00';\nexport const DEFAULT_COLOR_LINE = '#f0ff00';\n\nexport const DEFAULT_OPTIONS_SCENE = {\n  backgroundColor: DEFAULT_BACKGROUND_COLOR,\n  gridSize: DEFAULT_GRID_SIZE,\n  gridDivisions: DEFAULT_GRID_DIVISIONS,\n  gridColor: DEFAULT_GRID_COLOR,\n  gridCenterlineColor: DEFAULT_GRID_COLOR_CENTERLINE,\n};\n\nexport const DEFAULT_OPTIONS_TF_VIEWER = {\n  selectedFrame: '',\n};\n\nexport const DEFAULT_OPTIONS_ARROW = {\n  shaftLength: 1,\n  shaftRadius: 0.05,\n  headLength: 0.3,\n  headRadius: 0.1,\n};\n\nexport const DEFAULT_OPTIONS_AXES = {\n  axesLength: 1,\n  axesRadius: 0.1,\n};\n\nexport const DEFAULT_OPTIONS_FLATARROW = {\n  arrowLength: 0.3,\n};\n\nexport const DEFAULT_OPTIONS_DISPLAYTRAJECTORY = {\n  robot: new Group(),\n  loop: true,\n};\n\nconst DEFAULT_OPTIONS_INTENSITY = {\n  channelName: INTENSITY_CHANNEL_OPTIONS.INTENSITY,\n  useRainbow: false,\n  invertRainbow: false,\n  minColor: '#000000',\n  maxColor: '#ffffff',\n  autocomputeIntensityBounds: false,\n  maxIntensity: 3730,\n  minIntensity: 388,\n};\n\nexport const DEFAULT_OPTIONS_COLLISION_OBJECT = {};\n\nconst DEFAULT_OPITONS_AXIS_COLOR = {\n  axis: AXES.X,\n  autocomputeValueBounds: false,\n  useFixedFrame: false,\n  minAxisValue: 0,\n  maxAxisValue: 0,\n};\n\nexport const DEFAULT_OPTIONS_DEPTHCLOUD = {\n  streamType: DEPTHCLOUD_STREAMTYPES.MJPEG,\n  f: 526,\n  maxDepthPerTile: 1.0,\n  pointSize: 3,\n  width: 1024,\n  height: 1024,\n  whiteness: 0,\n  varianceThreshold: 0.000016667,\n};\n\nexport const DEFAULT_OPTIONS_IMAGE = {\n  queueSize: 1,\n  width: 320,\n  height: 240,\n  compression: 'cbor',\n};\n\nexport const DEFAULT_OPTIONS_IMAGE_STREAM = {\n  width: 320,\n  height: 240,\n};\n\nexport const DEFAULT_OPTIONS_LASERSCAN = {\n  selectable: false,\n  style: LASERSCAN_STYLES.FLAT_SQUARES,\n  size: 0.05,\n  alpha: 1,\n  decayTime: 0,\n  queueSize: 10,\n  compression: 'cbor',\n  colorTransformer: COLOR_TRANSFORMERS.INTENSITY,\n  flatColor: '#ffffff',\n  ...DEFAULT_OPTIONS_INTENSITY,\n  ...DEFAULT_OPITONS_AXIS_COLOR,\n};\n\nexport const DEFAULT_OPTIONS_MAP = {\n  alpha: 1,\n  colorScheme: MAP_COLOR_SCHEMES.MAP,\n  compression: 'cbor',\n  drawBehind: false,\n};\n\nexport const DEFAULT_OPTIONS_MARKER = {\n  queueSize: 1,\n  namespaces: [],\n};\n\nexport const DEFAULT_OPTIONS_MARKERARRAY = {\n  queueSize: 1,\n  namespaces: [],\n  throttleRate: 0,\n};\n\nexport const DEFAULT_OPTIONS_INTERACTIVE_MARKER = {\n  queueSize: 1,\n  namespaces: [],\n  throttleRate: 0,\n  publishThrottleRate: 0,\n  hideOtherHandlesOnSelect: true,\n  hideOtherControlsInstancesOnSelect: true,\n};\n\nexport const DEFAULT_OPTIONS_ODOMETRY = {\n  type: OBJECT_TYPE_ARROW,\n  color: DEFAULT_COLOR_X_AXIS,\n  alpha: 1,\n  ...DEFAULT_OPTIONS_ARROW,\n  ...DEFAULT_OPTIONS_AXES,\n  ...DEFAULT_OPTIONS_FLATARROW,\n  positionTolerance: 0.1,\n  angleTolerance: 0.1,\n  keep: 100,\n};\n\nexport const DEFAULT_OPTIONS_PATH = {\n  color: '#ffffff',\n  alpha: 1,\n};\n\nexport const DEFAULT_OPTIONS_PLANNINGSCENE = {};\n\nexport const DEFAULT_OPTIONS_POINTCLOUD = {\n  compression: 'cbor',\n  colorChannel: POINTCLOUD_COLOR_CHANNELS.RGB,\n  size: 0.0125,\n  useRainbow: true,\n  queueSize: 1,\n};\n\nexport const DEFAULT_OPTIONS_POINT = {\n  color: '#ff0000',\n  alpha: 1,\n  radius: 0.2,\n};\n\nexport const DEFAULT_OPTIONS_POLYGON = {\n  color: '#ffffff',\n  alpha: 1,\n};\n\nexport const DEFAULT_OPTIONS_POSE = {\n  color: DEFAULT_COLOR_X_AXIS,\n  alpha: 1,\n  ...DEFAULT_OPTIONS_ARROW,\n  ...DEFAULT_OPTIONS_AXES,\n  type: POSE_OBJECT_TYPES.arrow,\n};\n\nexport const DEFAULT_OPTIONS_TORUS = {\n  circleRadius: 0.3,\n  tube: 0.03,\n  radialSegments: 16,\n  tubularSegments: 100,\n  arc: 1.7 * Math.PI,\n};\n\nexport const DEFAULT_OPTIONS_ARROW_WITH_CIRCLE = {\n  ...DEFAULT_OPTIONS_ARROW,\n  ...DEFAULT_OPTIONS_TORUS,\n  circleConeLength: 0.1,\n  circleConeRadius: 0.1,\n};\n\nexport const DEFAULT_OPTIONS_WRENCH = {\n  forceColor: DEFAULT_COLOR_X_AXIS,\n  torqueColor: DEFAULT_COLOR_ARROW,\n  alpha: 1,\n  forceArrowScale: 1,\n  torqueArrowScale: 1,\n  arrowWidth: 1,\n  ...DEFAULT_OPTIONS_ARROW_WITH_CIRCLE,\n  type: WRENCH_OBJECT_TYPES.arrow,\n};\n\nexport const DEFAULT_OPTIONS_POSEARRAY = {\n  color: DEFAULT_COLOR_X_AXIS,\n  alpha: 1,\n  ...DEFAULT_OPTIONS_ARROW,\n  ...DEFAULT_OPTIONS_AXES,\n  ...DEFAULT_OPTIONS_FLATARROW,\n  type: POSE_OBJECT_TYPES.arrow,\n};\n\nexport const DEFAULT_OPTIONS_RANGE = {\n  color: DEFAULT_COLOR_X_AXIS,\n  alpha: 1,\n};\n\nexport const DEFAULT_OPTIONS_ROBOTMODEL = {};\n\nexport const DEFAULT_OPTIONS_TF = {};\n\n/** ***************************\n *   Zethus exports\n * ************************** */\nexport const SUPPORTED_MESSAGE_TYPES = [\n  MESSAGE_TYPE_IMAGE,\n  MESSAGE_TYPE_IMAGE2,\n  MESSAGE_TYPE_LASERSCAN,\n  MESSAGE_TYPE_LASERSCAN2,\n  MESSAGE_TYPE_MARKER,\n  MESSAGE_TYPE_MARKER2,\n  MESSAGE_TYPE_MARKERARRAY,\n  MESSAGE_TYPE_MARKERARRAY2,\n  MESSAGE_TYPE_OCCUPANCYGRID,\n  MESSAGE_TYPE_OCCUPANCYGRID2,\n  MESSAGE_TYPE_ODOMETRY,\n  MESSAGE_TYPE_ODOMETRY2,\n  MESSAGE_TYPE_PATH,\n  MESSAGE_TYPE_PATH2,\n  MESSAGE_TYPE_PLANNINGSCENE,\n  MESSAGE_TYPE_POINTCLOUD2,\n  MESSAGE_TYPE_ROS2POINTCLOUD2,\n  MESSAGE_TYPE_POLYGONSTAMPED,\n  MESSAGE_TYPE_POSESTAMPED,\n  MESSAGE_TYPE_POSESTAMPED2,\n  MESSAGE_TYPE_POSEARRAY,\n  MESSAGE_TYPE_POSEARRAY2,\n  MESSAGE_TYPE_POSESTAMPED,\n  MESSAGE_TYPE_POSESTAMPED2,\n  MESSAGE_TYPE_ROBOT_MODEL,\n  MESSAGE_TYPE_TF,\n  MESSAGE_TYPE_ROS2_TF,\n  MESSAGE_TYPE_TF2,\n  MESSAGE_TYPE_ROS2_TF2,\n];\n\nexport const UNSUPPORTED_MESSAGE_TYPES = [\n  MESSAGE_TYPE_ACCELSTAMPED,\n  MESSAGE_TYPE_BOUNDINGVOLUME,\n  MESSAGE_TYPE_COMPRESSEDIMAGE,\n  MESSAGE_TYPE_DISPLAYJOINTSTATE,\n  MESSAGE_TYPE_DISPLAYROBOTSTATE,\n  MESSAGE_TYPE_DISPLAYTRAJECTORY,\n  MESSAGE_TYPE_INTERACTIVEMARKER,\n  MESSAGE_TYPE_MAGNETICFIELD,\n  MESSAGE_TYPE_POINTCLOUD,\n  MESSAGE_TYPE_POSECOVARIANCE,\n  MESSAGE_TYPE_RANGE,\n  MESSAGE_TYPE_TWISTSTAMPED,\n  MESSAGE_TYPE_VECTOR3STAMPED,\n  MESSAGE_TYPE_WRENCHSTAMPED,\n];","import {\n  BufferAttribute,\n  BufferGeometry,\n  Color,\n  Material,\n  Mesh,\n  MeshBasicMaterial,\n  Object3D,\n  Quaternion,\n  TorusGeometry,\n  Vector3,\n} from 'three';\n\nimport {\n  OBJECT_TYPE_ARROW,\n  OBJECT_TYPE_ARROW_WITH_CIRCLE,\n  OBJECT_TYPE_AXES,\n  OBJECT_TYPE_FLAT_ARROW,\n} from './constants';\n\nexport const checkToleranceThresholdExceed = (\n  oldPose: { position: Vector3; quaternion: Quaternion },\n  newPose: { position: Vector3; quaternion: Quaternion },\n  options: any,\n) => {\n  const { angleTolerance, positionTolerance } = options;\n  const { position, quaternion } = newPose;\n  const { position: oldPosition, quaternion: oldQuaternion } = oldPose;\n\n  const positionToleranceBool =\n    oldPosition.distanceTo(position) > positionTolerance;\n  const angleToleranceBool = oldQuaternion.angleTo(quaternion) > angleTolerance;\n\n  return positionToleranceBool || angleToleranceBool;\n};\n\nexport const setObjectDimension = (object: any, options: any) => {\n  switch (options.type) {\n    case OBJECT_TYPE_ARROW: {\n      const {\n        alpha,\n        color,\n        headLength,\n        headRadius,\n        shaftLength,\n        shaftRadius,\n      } = options;\n\n      object.setHeadDimensions({ radius: headRadius, length: headLength });\n      object.setShaftDimensions({ radius: shaftRadius, length: shaftLength });\n      object.setAlpha(alpha);\n      object.setColor({\n        cone: new Color(color),\n        cylinder: new Color(color),\n      });\n      break;\n    }\n    case OBJECT_TYPE_AXES: {\n      const { axesLength, axesRadius } = options;\n\n      object.setLength(axesLength);\n      object.setRadius(axesRadius);\n      break;\n    }\n    case OBJECT_TYPE_FLAT_ARROW: {\n      const { arrowLength, color } = options;\n\n      object.setLength(arrowLength);\n      object.setColor(new Color(color));\n      break;\n    }\n    case OBJECT_TYPE_ARROW_WITH_CIRCLE:\n      const {\n        alpha,\n        circleConeLength,\n        circleConeRadius,\n        circleRadius,\n        color,\n        headLength,\n        headRadius,\n        shaftLength,\n        shaftRadius,\n        tube,\n      } = options;\n\n      object.setHeadDimensions({ radius: headRadius, length: headLength });\n      object.setShaftDimensions({ radius: shaftRadius, length: shaftLength });\n      object.setTorusDimensions({ radius: circleRadius, tube });\n      object.setCircleConeDimensions({\n        radius: circleConeRadius,\n        length: circleConeLength,\n      });\n      object.setAlpha(alpha);\n      object.setColor({\n        cone: new Color(color),\n        cylinder: new Color(color),\n        torus: new Color(color),\n        circleCone: new Color(color),\n      });\n      break;\n  }\n};\n\nexport const removeChildren = (object: any) => {\n  while (object.children.length > 0) {\n    object.remove(object.children[0]);\n  }\n};\n\nexport function assertIsDefined<T>(val: T): asserts val is NonNullable<T> {\n  if (val === undefined || val === null) {\n    throw new TypeError(`Expected 'val' to be defined, but received ${val}`);\n  }\n}\n\nexport function assertIsMesh(val: any): asserts val is Mesh {\n  if (!(val instanceof Mesh)) {\n    throw new TypeError(`Expected 'val' to be mesh`);\n  }\n}\n\nexport function assertIsMaterial(val: any): asserts val is Material {\n  if (!(val instanceof Material)) {\n    throw new TypeError(`Expected 'val' to be Material`);\n  }\n}\n\nexport function assertIsMeshBasicMaterial(\n  val: any,\n): asserts val is MeshBasicMaterial {\n  if (!(val instanceof MeshBasicMaterial)) {\n    throw new TypeError(`Expected 'val' to be MeshBasicMaterial`);\n  }\n}\n\nexport function assertIsMaterialWithColor(\n  val: any,\n): asserts val is MeshBasicMaterial {\n  if (!('color' in val)) {\n    throw new TypeError(`Expected 'val' to be MeshBasicMaterial with color`);\n  }\n}\n\nexport function assertBehavesLikeArray<T>(val: any): asserts val is Array<T> {\n  if (val.length === undefined) {\n    throw new TypeError(`Expected 'val' to be an array`);\n  }\n}\n\nexport function isObject3D(val: any): val is Object3D {\n  return val instanceof Object3D;\n}\n\nexport function isHTMLElement(val: any): val is HTMLElement {\n  return val instanceof HTMLElement;\n}\n\nexport function assertIsTorusGeometry(val: any): asserts val is TorusGeometry {\n  if (!(val instanceof TorusGeometry)) {\n    throw new Error('the provided geometry was not TorusGeometry');\n  }\n}\n\nexport function assertIsHTMLVideoElement(\n  val: any,\n): asserts val is HTMLVideoElement {\n  if (!(val instanceof HTMLVideoElement)) {\n    throw new Error('the provided element must be an HTMLVideoElement');\n  }\n}\n\nexport function assertIsBufferGeometry(\n  val: any,\n): asserts val is BufferGeometry {\n  if (!(val instanceof BufferGeometry)) {\n    throw new Error('the provided attribute must be an BufferGeometry');\n  }\n}\n\nexport function assertIsBufferAttribute(\n  val: any,\n): asserts val is BufferAttribute {\n  if (!(val instanceof BufferAttribute)) {\n    throw new Error('the provided attribute must be an BufferAttribute');\n  }\n}\n","import { DataSource } from './index';\nimport { Message, Ros, Topic } from 'roslib';\nimport xs, { Listener, Producer, Stream } from 'xstream';\n\ninterface RosTopicDataSourceOptions {\n  ros: Ros;\n  topicName: string;\n  messageType: string;\n  memory?: boolean;\n  compression?: 'png' | 'cbor';\n  // the rate (in ms in between messages) at which to throttle the topics\n  throttleRate?: number;\n  // the queue created at bridge side for re-publishing webtopics (defaults to 100)\n  queueSize?: number;\n  // the queue length at bridge side used when subscribing (defaults to 0, no queueing)\n  queueLength?: number;\n}\n\nexport class RosTopicDataSource<T extends Message> implements DataSource<T> {\n  public readonly createdAt: Date = new Date();\n  public readonly hasMemory: boolean;\n  private readonly ros: Ros;\n  private readonly topic: Topic;\n  private readonly producer: Producer<T>;\n  private stream: Stream<T>;\n  private isStreamLive: boolean = false;\n  private isStreamPaused: boolean = false;\n  private internalListener: ((message: Message) => void) | null = null;\n  private readonly listeners = new Set<Listener<T>>();\n  private readonly rosConnectionHook: (() => void) | null = null;\n  private rosCloseHook: (() => void) | null = null;\n  private rosErrorHook: ((error: any) => void) | null = null;\n\n  constructor(options: RosTopicDataSourceOptions) {\n    this.ros = options.ros;\n    this.hasMemory = options.memory ?? false;\n\n    const topicOptions: any = {\n      ros: this.ros,\n      name: options.topicName,\n      messageType: options.messageType,\n    };\n    if (options.compression) {\n      topicOptions.compression = options.compression;\n    }\n    if (options.queueSize) {\n      topicOptions.queue_size = options.queueSize;\n    }\n    if (options.queueLength) {\n      topicOptions.queue_length = options.queueLength;\n    }\n    this.topic = new Topic(topicOptions);\n    this.producer = {\n      start: listener => {\n        if (!this.rosCloseHook && !this.rosErrorHook) {\n          this.addRosHealthHooks();\n        }\n        this.internalListener = (message: Message) => {\n          if (this.isStreamPaused) {\n            return;\n          }\n          listener.next(message as T);\n        };\n        this.topic.subscribe(this.internalListener);\n      },\n      stop: () => {\n        this.topic.unsubscribe(this.internalListener!);\n        this.removeRosHealthHooks();\n      },\n    };\n    this.stream = this.hasMemory\n      ? xs.createWithMemory(this.producer)\n      : xs.create(this.producer);\n    this.isStreamLive = true;\n\n    this.rosConnectionHook = () => {\n      if (this.isStreamLive) {\n        return;\n      }\n      this.stream = this.hasMemory\n        ? xs.createWithMemory(this.producer)\n        : xs.create(this.producer);\n      this.isStreamLive = true;\n      this.listeners.forEach(listener => {\n        this.stream.addListener(listener);\n      });\n    };\n    this.ros.on('connection', this.rosConnectionHook);\n  }\n\n  private addRosHealthHooks = () => {\n    this.rosCloseHook = () => {\n      this.isStreamLive = false;\n      this.cleanStream('complete');\n    };\n    this.rosErrorHook = error => {\n      this.isStreamLive = false;\n      this.cleanStream('error', error);\n    };\n    this.ros.on('error', this.rosErrorHook);\n    this.ros.on('close', this.rosCloseHook);\n  };\n\n  private removeRosHealthHooks = () => {\n    // type definitions for ros do not expose \"off\" function\n    (this.ros as any).off('error', this.rosErrorHook);\n    (this.ros as any).off('close', this.rosCloseHook);\n    this.rosErrorHook = null;\n    this.rosCloseHook = null;\n  };\n\n  public addListener = (listener: Listener<T>) => {\n    if (this.listeners.has(listener)) {\n      return { success: false, reason: 'listener already present' };\n    }\n    this.listeners.add(listener);\n    if (this.isStreamLive) {\n      this.stream.addListener(listener);\n    }\n    return { success: true };\n  };\n\n  public removeListener = (listener: Listener<T>) => {\n    if (!this.listeners.has(listener)) {\n      return { success: false, reason: 'listener not present' };\n    }\n    this.listeners.delete(listener);\n    this.stream.removeListener(listener);\n    return { success: true };\n  };\n\n  private cleanStream = (event: 'error' | 'complete', error?: any) => {\n    if (event === 'error') {\n      this.stream.shamefullySendError(error);\n    } else {\n      this.stream.shamefullySendComplete();\n    }\n    this.listeners.forEach(listener => {\n      this.stream.removeListener(listener);\n    });\n  };\n\n  public removeAllListeners = () => {\n    this.listeners.forEach(listener => {\n      this.stream.removeListener(listener);\n    });\n    this.listeners.clear();\n    return { success: true };\n  };\n\n  public pause = () => {\n    this.isStreamPaused = true;\n    return { success: true };\n  };\n\n  public resume = () => {\n    this.isStreamPaused = false;\n    return { success: true };\n  };\n}\n","import { RosTopicDataSource } from '../data/rosTopic';\nimport { Ros } from 'roslib';\nimport { Object3D } from 'three';\nimport { assertIsDefined } from '../utils/helpers';\nimport { DataSource } from '../data';\n\nclass LegacyCore {\n  public options: { [p: string]: any };\n  public readonly ros: Ros | null;\n  private headerFrameId: string;\n  private readonly onHeaderChange: (headerId: string) => void;\n  public object?: Object3D | null;\n  private dataSourceInstances?: DataSource<RosMessage.Base>[];\n  public topicName?: string | Array<{ name: string; messageType: string }>;\n  public messageType?: string;\n\n  constructor(\n    ros: Ros | null,\n    resourceName: string | null,\n    messageType: string,\n    options: { [p: string]: any } = {},\n  ) {\n    const { onHeaderChange } = options;\n    this.options = options;\n    this.ros = ros;\n    this.headerFrameId = '';\n\n    if (ros && resourceName) {\n      this.changeTopic(resourceName, messageType, false);\n    }\n    this.onHeaderChange = onHeaderChange || (() => {});\n    this.update = this.update.bind(this);\n  }\n\n  hide() {\n    assertIsDefined(this.object);\n    this.object.visible = false;\n  }\n\n  show() {\n    assertIsDefined(this.object);\n    this.object.visible = true;\n  }\n\n  destroy() {\n    this.unsubscribe();\n    if (this.object && this.object.parent) {\n      this.object.parent.remove(this.object);\n      this.object = null;\n    }\n  }\n\n  reset() {}\n\n  subscribe() {\n    if (!this.dataSourceInstances) {\n      return;\n    }\n    this.dataSourceInstances.forEach(t => {\n      const listener = {\n        next: this.update,\n        error: (error: any) => console.log(error),\n        complete: () => console.log('stream complete'),\n      };\n      t.addListener(listener);\n    });\n  }\n\n  unsubscribe() {\n    if (!this.dataSourceInstances) {\n      return;\n    }\n    this.dataSourceInstances.forEach(t => {\n      t.removeAllListeners();\n    });\n  }\n\n  update(message: RosMessage.Base) {\n    const header = message.header ? message.header.frame_id : '';\n    if (header !== this.headerFrameId) {\n      this.headerFrameId = header;\n      this.onHeaderChange(this.headerFrameId);\n    }\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n  }\n\n  changeTopic(\n    resourceName: string | Array<{ name: string; messageType: string }>,\n    type: string,\n    autoSubscribe = true,\n  ) {\n    const { compression, queueSize, throttleRate } = this.options;\n\n    if (autoSubscribe) {\n      this.unsubscribe();\n    }\n\n    // unused variable; left for legacy purposes\n    this.topicName = resourceName;\n\n    this.messageType = type || this.messageType;\n    this.dataSourceInstances = (Array.isArray(resourceName)\n      ? resourceName\n      : [{ name: resourceName, messageType: type }]\n    ).map(\n      ({ name, messageType }) =>\n        new RosTopicDataSource({\n          ros: this.ros!,\n          topicName: name,\n          messageType,\n          compression: compression || 'none',\n          throttleRate: throttleRate || 0,\n          queueSize: queueSize || 10,\n        }),\n    );\n\n    if (autoSubscribe) {\n      this.reset();\n      this.subscribe();\n    }\n  }\n}\n\nexport default LegacyCore;\n","import { Color, Mesh, Object3D, Quaternion } from 'three';\nimport { assertIsMaterialWithColor } from './helpers';\nimport Line from '../primitives/Line';\nimport LineSegments from '../primitives/LineSegment';\n\nexport interface Transform {\n  translation: { x: number; y: number; z: number };\n  rotation: { w: number; x: number; y: number; z: number };\n}\n\nexport const setTransform = (object: Object3D, transform: Transform) => {\n  const {\n    translation: { x: posX, y: posY, z: posZ },\n    rotation: { w: orientW, x: orientX, y: orientY, z: orientZ },\n  } = transform;\n  object.position.set(posX, posY, posZ);\n  object.quaternion.copy(\n    new Quaternion(orientX, orientY, orientZ, orientW).normalize(),\n  );\n};\n\nexport const setScale = (object: Object3D, scale: RosMessage.Point) => {\n  const { x, y, z } = scale;\n  object.scale.set(x, y, z);\n};\n\nexport const setColor = (\n  object: Mesh | Line | LineSegments,\n  color: string | number | RosMessage.Color,\n) => {\n  assertIsMaterialWithColor(object.material);\n  \n  if (typeof color === 'string' || typeof color === 'number') {\n    object.material.color = new Color(color);\n  } else {\n    object.material.color.setRGB(color.r, color.g, color.b);\n  }\n};\n","import { Group as ThreeGroup } from 'three';\n\nimport * as TransformUtils from '../utils/transform';\nimport Mesh from './Mesh';\n\nclass Group extends ThreeGroup {\n  setTransform(transform: {\n    translation: RosMessage.Point;\n    rotation: RosMessage.Quaternion;\n  }) {\n    TransformUtils.setTransform(this, transform);\n  }\n\n  setScale(scale: RosMessage.Point) {\n    TransformUtils.setScale(this, scale);\n  }\n\n  setColor(colors: RosMessage.Color) {\n    this.children.forEach(child => {\n      TransformUtils.setColor(child as Mesh, colors);\n    });\n  }\n}\n\nexport default Group;\n","import { MathUtils, Mesh as THREEMesh } from 'three';\n\nimport * as TransformUtils from '../utils/transform';\n\nclass Mesh extends THREEMesh {\n  setTransform(transform: {\n    translation: RosMessage.Point;\n    rotation: RosMessage.Quaternion;\n  }) {\n    TransformUtils.setTransform(this, transform);\n  }\n\n  setScale(scale?: RosMessage.Point) {\n    if (scale) {\n      TransformUtils.setScale(this, scale);\n    }\n  }\n\n  setColor(colors: RosMessage.Color | string | null) {\n    if (colors) {\n      TransformUtils.setColor(this, colors);\n    }\n  }\n\n  setAlpha(alpha: number) {\n    if (Array.isArray(this.material)) {\n      this.material.forEach(material => {\n        material.opacity = MathUtils.clamp(alpha, 0, 1);\n      });\n    } else {\n      debugger;\n      this.material.opacity = MathUtils.clamp(alpha, 0, 1);\n    }\n  }\n}\n\nexport default Mesh;\n","import { BoxGeometry, MeshStandardMaterial } from 'three';\n\nimport Mesh from './Mesh';\n\nclass Box extends Mesh {\n  public readonly geometry: BoxGeometry;\n  public readonly material: MeshStandardMaterial;\n\n  constructor() {\n    super();\n    this.geometry = new BoxGeometry();\n    this.material = new MeshStandardMaterial();\n  }\n}\n\nexport default Box;\n","import LegacyCore from '../core';\nimport {\n  COLLISION_OBJECT_OPERATIONS,\n  DEFAULT_OPTIONS_COLLISION_OBJECT,\n  MESSAGE_TYPE_COLLISION_OBJECT,\n  SOLID_PRIMITIVE_TYPES,\n} from '../utils/constants';\nimport Group from '../primitives/Group';\nimport Box from '../primitives/Box';\nimport { Ros } from 'roslib';\nimport { Object3D } from 'three';\n\nclass CollisionObject extends LegacyCore {\n  public object: Object3D;\n\n  constructor(\n    ros?: Ros,\n    topicName?: string,\n    options = DEFAULT_OPTIONS_COLLISION_OBJECT,\n  ) {\n    super(ros ?? null, topicName ?? null, MESSAGE_TYPE_COLLISION_OBJECT, {\n      ...DEFAULT_OPTIONS_COLLISION_OBJECT,\n      ...options,\n    });\n\n    this.object = new Group();\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_COLLISION_OBJECT,\n      ...options,\n    });\n  }\n\n  update(message: RosMessage.CollisionObject) {\n    super.update(message);\n    const { id, operation, primitive_poses: poses, primitives } = message;\n    const existingObject = this.object.getObjectByName(id);\n    switch (operation) {\n      case COLLISION_OBJECT_OPERATIONS.ADD: {\n        if (existingObject) {\n          existingObject.parent?.remove(existingObject);\n        }\n        const newObject = new Group();\n        newObject.name = id;\n        primitives.forEach((primitiveInfo, index) => {\n          const primitive = CollisionObject.getNewPrimitive(primitiveInfo);\n          primitive?.setTransform({\n            translation: poses[index].position,\n            rotation: poses[index].orientation,\n          });\n          if (primitive) {\n            newObject.add(primitive);\n          }\n        });\n        this.object.add(newObject);\n        break;\n      }\n      case COLLISION_OBJECT_OPERATIONS.REMOVE: {\n        if (existingObject) {\n          existingObject.parent?.remove(existingObject);\n        }\n        break;\n      }\n      case COLLISION_OBJECT_OPERATIONS.APPEND: {\n        primitives.forEach((primitiveInfo, index) => {\n          const primitive = CollisionObject.getNewPrimitive(primitiveInfo);\n          primitive?.setTransform({\n            translation: poses[index].position,\n            rotation: poses[index].orientation,\n          });\n          if (primitive) {\n            existingObject?.add(primitive);\n          }\n        });\n        break;\n      }\n    }\n  }\n\n  static getNewPrimitive(args: { type: number; dimensions: number[] }) {\n    const { type, dimensions } = args;\n    switch (type) {\n      case SOLID_PRIMITIVE_TYPES.BOX:\n        const primitive = new Box();\n        const [x, y, z] = dimensions;\n        primitive.setScale({ x, y, z });\n        return primitive;\n      default:\n        return null;\n    }\n  }\n}\n\nexport default CollisionObject;\n","import { Mesh, MeshPhongMaterial } from 'three';\n\nimport LegacyCore from '../core';\nimport {\n  DEFAULT_OPTIONS_DISPLAYTRAJECTORY,\n  MESSAGE_TYPE_DISPLAYTRAJECTORY,\n} from '../utils/constants';\nimport Group from '../primitives/Group';\nimport { Ros } from 'roslib';\nimport { URDFJoint, URDFRobot } from 'urdf-js/src/URDFClasses';\n\nclass DisplayTrajectory extends LegacyCore {\n  private readonly robotClone: URDFRobot;\n  private lastMessage?: RosMessage.DisplayTrajectory;\n  private loopbackId?: number;\n  private poseRemovalId?: number;\n  private pointsUpdateIds: number[] = [];\n\n  constructor(\n    ros: Ros,\n    topicName: string,\n    options:any = DEFAULT_OPTIONS_DISPLAYTRAJECTORY,\n  ) {\n    super(ros, topicName, MESSAGE_TYPE_DISPLAYTRAJECTORY, options);\n\n    this.object = new Group();\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_DISPLAYTRAJECTORY,\n      ...options,\n    });\n    const { robot } = this.options;\n    this.robotClone = robot.clone(true);\n\n    Object.keys(this.robotClone.links).forEach(linkName => {\n      const link = this.robotClone.links[linkName];\n      link.traverse(child => {\n        if ((child as Mesh).material) {\n          (child as Mesh).material = new MeshPhongMaterial({\n            color: '#ff0000',\n          });\n        }\n      });\n    });\n  }\n\n  updateOptions(options: any) {\n    super.updateOptions(options);\n    if (options.loop && this.lastMessage) {\n      this.update(this.lastMessage, true);\n    } else {\n      this.resetLoopback();\n    }\n  }\n\n  resetLoopback() {\n    clearTimeout(this.loopbackId);\n    clearTimeout(this.poseRemovalId);\n    if (this.pointsUpdateIds) {\n      this.pointsUpdateIds.map(x => clearTimeout(x));\n    }\n    this.pointsUpdateIds = [];\n    if (this.robotClone && this.robotClone.parent) {\n      this.robotClone.parent.remove(this.robotClone);\n    }\n  }\n\n  update(message: RosMessage.DisplayTrajectory, loopback?: boolean) {\n    const { loop } = this.options;\n    this.resetLoopback();\n    if (!loopback) {\n      this.lastMessage = message;\n    }\n\n    super.update(message);\n    const {\n      trajectory: [\n        {\n          joint_trajectory: { joint_names: jointNames, points },\n        },\n      ],\n      trajectory_start: {\n        joint_state: { name: initialNames, position: initialPositions },\n      },\n    } = message;\n    this.object?.add(this.robotClone);\n    initialNames.forEach((name, index) => {\n      const joint = this.robotClone.getObjectByName(name) as URDFJoint;\n      if (joint) {\n        joint.setAngle(initialPositions[index]);\n      }\n    });\n    points.forEach(point => {\n      const {\n        positions,\n        time_from_start: { nsec, secs },\n      } = point;\n      this.pointsUpdateIds.push(\n        window.setTimeout(() => {\n          jointNames.forEach((jointName, index) => {\n            const joint = this.robotClone.getObjectByName(\n              jointName,\n            ) as URDFJoint;\n            if (joint) {\n              joint.setAngle(positions[index]);\n            }\n          });\n        }, 1000 * secs + nsec / 1000000),\n      );\n    });\n    if (points.length > 0) {\n      const {\n        time_from_start: { nsec: lastNsec, secs: lastSec },\n      } = points[points.length - 1];\n      this.poseRemovalId = window.setTimeout(() => {\n        this.robotClone.parent?.remove(this.robotClone);\n        if (loop) {\n          this.loopbackId = window.setTimeout(() => {\n            if (this.lastMessage) {\n              this.update(this.lastMessage, true);\n            }\n          }, 1000);\n        }\n      }, 1000 * lastSec + lastNsec / 1000000);\n    }\n  }\n}\n\nexport default DisplayTrajectory;\n","import LegacyCore from '../core';\nimport {\n  COLLISION_OBJECT_OPERATIONS,\n  DEFAULT_OPTIONS_PLANNINGSCENE,\n  MESSAGE_TYPE_PLANNINGSCENE,\n} from '../utils/constants';\nimport Group from '../primitives/Group';\nimport CollisionObject from './CollisionObject';\nimport { Ros } from 'roslib';\nimport { assertIsDefined } from '../utils/helpers';\nimport { URDFJoint } from 'urdf-js/src/URDFClasses';\n\nclass PlanningScene extends LegacyCore {\n  private readonly collisionObjectViz = new CollisionObject();\n  private readonly attachedCollisionObjects = new Map();\n\n  constructor(\n    ros: Ros,\n    topicName: string,\n    options = DEFAULT_OPTIONS_PLANNINGSCENE,\n  ) {\n    super(ros, topicName, MESSAGE_TYPE_PLANNINGSCENE, {\n      ...DEFAULT_OPTIONS_PLANNINGSCENE,\n      ...options,\n    });\n\n    this.object = new Group();\n    this.object.add(this.collisionObjectViz.object);\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_PLANNINGSCENE,\n      ...options,\n    });\n  }\n\n  update(message: RosMessage.PlanningScene) {\n    super.update(message);\n    const {\n      robot_state: {\n        attached_collision_objects: attachedCollisionObjects = [],\n        is_diff: isRobotStateDiff,\n        joint_state: { name, position },\n      },\n      world: { collision_objects: worldCollisionObjects },\n    } = message;\n    worldCollisionObjects.forEach(collisionMessage => {\n      this.collisionObjectViz.update(collisionMessage);\n    });\n    if (attachedCollisionObjects.length) {\n      attachedCollisionObjects.map(({ link_name: linkName, object }) => {\n        const collisionVizInstance = new CollisionObject();\n        const collisionVizObject = this.object?.getObjectByName(linkName);\n        assertIsDefined(collisionVizObject);\n        collisionVizInstance.object = collisionVizObject as Group;\n        collisionVizInstance.update(object);\n        this.attachedCollisionObjects.set(object.id, collisionVizInstance);\n      });\n    }\n    if (!isRobotStateDiff) {\n      const newCollisionObjectNames = attachedCollisionObjects.map(\n        ({ object: { id } }) => id,\n      );\n      for (const [\n        collObjName,\n        collObj,\n      ] of this.attachedCollisionObjects.entries()) {\n        if (newCollisionObjectNames.indexOf(collObjName) === -1) {\n          collObj.update({\n            id: collObjName,\n            operation: COLLISION_OBJECT_OPERATIONS.REMOVE,\n          });\n          this.attachedCollisionObjects.delete(collObjName);\n        }\n      }\n    }\n    name.forEach((jointName, index) => {\n      const joint = this.object?.getObjectByName(jointName) as URDFJoint;\n      if (joint) {\n        joint.setAngle(position[index]);\n      }\n    });\n  }\n}\n\nexport default PlanningScene;\n","import { CylinderGeometry, MeshStandardMaterial } from 'three';\nimport {\n  DEFAULT_COLOR_ARROW,\n  DEFAULT_CYLINDER_HEIGHT,\n  DEFAULT_CYLINDER_RADIUS,\n  DEFAULT_RADIAL_SEGMENTS,\n} from '../utils/constants';\nimport Mesh from './Mesh';\n\nclass Cylinder extends Mesh {\n  public geometry: CylinderGeometry;\n  public material: MeshStandardMaterial;\n\n  constructor(\n    color = DEFAULT_COLOR_ARROW,\n    radius = DEFAULT_CYLINDER_RADIUS,\n    height = DEFAULT_CYLINDER_HEIGHT,\n  ) {\n    super();\n    this.geometry = new CylinderGeometry(\n      radius,\n      radius,\n      height,\n      DEFAULT_RADIAL_SEGMENTS,\n    );\n    this.material = new MeshStandardMaterial({ color });\n    this.material.transparent = true;\n    this.rotateX(Math.PI / 2);\n  }\n}\n\nexport default Cylinder;\n","import { ConeGeometry, MeshStandardMaterial } from 'three';\n\nimport Mesh from './Mesh';\nimport {\n  DEFAULT_COLOR_X_AXIS,\n  DEFAULT_CONE_HEIGHT,\n  DEFAULT_CONE_RADIUS,\n  DEFAULT_RADIAL_SEGMENTS,\n} from '../utils/constants';\n\nclass Cone extends Mesh {\n  public readonly material: MeshStandardMaterial;\n  public readonly geometry: ConeGeometry;\n\n  constructor(color = DEFAULT_COLOR_X_AXIS) {\n    super();\n    this.geometry = new ConeGeometry(\n      DEFAULT_CONE_RADIUS,\n      DEFAULT_CONE_HEIGHT,\n      DEFAULT_RADIAL_SEGMENTS,\n    );\n    this.material = new MeshStandardMaterial({ color });\n    this.material.transparent = true;\n  }\n}\n\nexport default Cone;\n","import {\n  DEFAULT_COLOR_X_AXIS,\n  DEFAULT_CONE_HEIGHT,\n  DEFAULT_CONE_RADIUS,\n  DEFAULT_CYLINDER_HEIGHT,\n  DEFAULT_CYLINDER_RADIUS,\n} from '../utils/constants';\nimport Cylinder from './Cylinder';\nimport Cone from './Cone';\nimport * as TransformUtils from '../utils/transform';\nimport { Group } from 'three';\n\nclass Arrow extends Group {\n  public readonly cone = new Cone(DEFAULT_COLOR_X_AXIS);\n  public readonly cylinder = new Cylinder(DEFAULT_COLOR_X_AXIS);\n\n  constructor() {\n    super();\n    this.cone.rotateZ(-Math.PI / 2);\n    this.cylinder.rotateZ(-Math.PI / 2);\n\n    this.cone.setScale({\n      x: DEFAULT_CONE_RADIUS,\n      y: DEFAULT_CONE_HEIGHT,\n      z: DEFAULT_CONE_RADIUS,\n    });\n    this.cylinder.setScale({\n      x: DEFAULT_CYLINDER_RADIUS,\n      y: DEFAULT_CYLINDER_HEIGHT,\n      z: DEFAULT_CYLINDER_RADIUS,\n    });\n\n    this.cylinder.translateY(this.cylinder.scale.y / 2);\n    this.cone.translateY(this.cylinder.scale.y + this.cone.scale.y / 2);\n    this.add(this.cone);\n    this.add(this.cylinder);\n  }\n\n  setTransform(transform: {\n    translation: RosMessage.Point;\n    rotation: RosMessage.Quaternion;\n  }) {\n    TransformUtils.setTransform(this, transform);\n  }\n\n  setColor(color: { cone: RosMessage.Color; cylinder: RosMessage.Color }) {\n    const { cone, cylinder } = color;\n\n    if (cone) {\n      this.cone.setColor(cone);\n    }\n    if (cylinder) {\n      this.cylinder.setColor(cylinder);\n    }\n  }\n\n  setHeadDimensions(dimensions: { radius?: number; length?: number }) {\n    const { radius, length } = dimensions;\n    if (radius) {\n      const { y } = this.cone.scale;\n      this.cone.setScale({ x: radius, y, z: radius });\n    }\n\n    if (length) {\n      const { x, z } = this.cone.scale;\n      this.cone.setScale({ x, y: length, z });\n      this.cone.position.set(0, 0, 0);\n      this.cone.translateY(this.cylinder.scale.y + length / 2);\n    }\n  }\n\n  setShaftDimensions(dimensions: { radius?: number; length?: number }) {\n    const { radius, length } = dimensions;\n\n    if (radius) {\n      const { y } = this.cylinder.scale;\n      this.cylinder.setScale({ x: radius, y, z: radius });\n    }\n\n    if (length) {\n      const { x, z } = this.cylinder.scale;\n      this.cylinder.setScale({ x, y: length, z });\n      this.cylinder.position.set(0, 0, 0);\n      this.cylinder.translateY(length / 2);\n      this.setHeadDimensions({ length: this.cone.scale.y });\n    }\n  }\n\n  setAlpha(alpha: number) {\n    this.cylinder.setAlpha(alpha);\n    this.cone.setAlpha(alpha);\n  }\n\n  setScale(scale: RosMessage.Point) {\n    const { x } = scale;\n    const [y, z] = [x / 2, x / 2];\n    TransformUtils.setScale(this, { x, y, z });\n  }\n}\n\nexport default Arrow;\n","import Cylinder from './Cylinder';\nimport {\n  DEFAULT_COLOR_X_AXIS,\n  DEFAULT_COLOR_Y_AXIS,\n  DEFAULT_COLOR_Z_AXIS,\n  DEFAULT_CYLINDER_HEIGHT,\n  DEFAULT_CYLINDER_RADIUS,\n  OBJECT_TYPE_AXES,\n} from '../utils/constants';\nimport Group from './Group';\n\nclass Axes extends Group {\n  private readonly x: Cylinder;\n  private readonly y: Cylinder;\n  private readonly z: Cylinder;\n  public readonly objectType = OBJECT_TYPE_AXES;\n\n  constructor(\n    radius = DEFAULT_CYLINDER_RADIUS,\n    height = DEFAULT_CYLINDER_HEIGHT,\n  ) {\n    super();\n    this.x = new Cylinder(DEFAULT_COLOR_X_AXIS, radius, height);\n    this.y = new Cylinder(DEFAULT_COLOR_Y_AXIS, radius, height);\n    this.z = new Cylinder(DEFAULT_COLOR_Z_AXIS, radius, height);\n\n    this.x.translateX(height / 2);\n    this.y.translateZ(-height / 2);\n    this.z.translateY(height / 2);\n\n    this.x.rotateZ(-Math.PI / 2);\n    this.y.rotateX(Math.PI / 2);\n\n    this.add(this.x);\n    this.add(this.y);\n    this.add(this.z);\n  }\n\n  setLength(length: number) {\n    const parsedLength = +`${length}`;\n\n    [this.x, this.y, this.z].forEach(axis => {\n      axis.position.set(0, 0, 0);\n      axis.scale.setY(parsedLength);\n    });\n\n    this.x.translateY(parsedLength / 2);\n    this.y.translateY(-parsedLength / 2);\n    this.z.translateY(parsedLength / 2);\n  }\n\n  setRadius(radius: number) {\n    const parsedRadius = +`${radius}`;\n\n    this.children.forEach(child => {\n      child.scale.setX(parsedRadius);\n      child.scale.setZ(parsedRadius);\n    });\n  }\n}\n\nexport default Axes;\n","import {\n  Color,\n  Geometry,\n  Line as ThreeLine,\n  LineBasicMaterial,\n  Vector3,\n  VertexColors,\n} from 'three';\n\nimport * as TransformUtils from '../utils/transform';\nimport { assertIsMaterial } from '../utils/helpers';\nimport { DEFAULT_COLOR_LINE } from '../utils/constants';\n\nclass Line extends ThreeLine {\n  public readonly geometry: Geometry;\n  public readonly material: LineBasicMaterial;\n\n  constructor(\n    color: string | number | null | RosMessage.Color = DEFAULT_COLOR_LINE,\n    disableVertexColor: boolean = false,\n  ) {\n    super();\n    this.geometry = new Geometry();\n    this.geometry.vertices.push(new Vector3(0, 0, 0));\n    const colorOptions: { vertexColors?: any } = {};\n\n    if (!disableVertexColor) {\n      colorOptions.vertexColors = VertexColors;\n    }\n\n    this.material = new LineBasicMaterial({ ...colorOptions });\n    this.material.transparent = true;\n    this.setColor(color);\n  }\n\n  setColor(color: string | number | null | RosMessage.Color) {\n    if (!color) {\n      return;\n    }\n    TransformUtils.setColor(this, color);\n  }\n\n  updatePoints(\n    points: RosMessage.Point[],\n    colors: Array<string | number | null | RosMessage.Color> = [],\n  ) {\n    this.geometry.vertices = points.map(({ x, y, z }) => new Vector3(x, y, z));\n    this.geometry.verticesNeedUpdate = true;\n\n    const color: Color[] = [];\n    colors.forEach(c => {\n      if (typeof c === 'string' || typeof c === 'number') {\n        color.push(new Color(c));\n      } else if (c) {\n        const { r, g, b } = c;\n        color.push(new Color(r, g, b));\n      }\n    });\n\n    this.geometry.colors = color;\n    this.geometry.colorsNeedUpdate = true;\n  }\n\n  setTransform(transform: TransformUtils.Transform) {\n    TransformUtils.setTransform(this, transform);\n  }\n\n  setAlpha(alpha: number) {\n    assertIsMaterial(this.material);\n    this.material.opacity = alpha;\n  }\n}\n\nexport default Line;\n","import { Vector3 } from 'three';\n\nimport Group from './Group';\nimport Line from './Line';\nimport { OBJECT_TYPE_FLAT_ARROW } from '../utils/constants';\n\nclass LineArrow extends Group {\n  private objectType = OBJECT_TYPE_FLAT_ARROW;\n  private readonly arrowTop = new Line(0xff0000, true);\n  private readonly topPoints: Vector3[] = [];\n  private readonly arrowLength = new Line(0xff0000, true);\n\n  constructor() {\n    super();\n    this.topPoints.push(new Vector3(2, 1, 0));\n    this.topPoints.push(new Vector3(3, 0, 0));\n    this.topPoints.push(new Vector3(2, -1, 0));\n    this.arrowTop.updatePoints(this.topPoints);\n    this.add(this.arrowTop);\n\n    this.arrowLength.updatePoints([new Vector3(0, 0, 0), new Vector3(3, 0, 0)]);\n    this.add(this.arrowLength);\n\n    this.scale.set(0.1, 0.1, 0.1);\n  }\n\n  setLength(length: number) {\n    this.scale.set(length, length, length);\n  }\n\n  setColor(color: RosMessage.Color) {\n    const { r, g, b } = color;\n    this.arrowTop.material.color.setRGB(r, g, b);\n    this.arrowLength.material.color.setRGB(r, g, b);\n  }\n}\n\nexport default LineArrow;\n","import { DataSource } from '../data';\nimport { Object3D } from 'three';\nimport { assertIsDefined, isHTMLElement, isObject3D } from '../utils/helpers';\nimport { Listener } from 'xstream';\n\ninterface CoreOptions<T> {\n  sources: Array<DataSource<T>>;\n  options?: { [k: string]: any };\n}\n\nclass LiveCore<T extends RosMessage.Base, V extends Object3D | HTMLElement> {\n  private onHeaderChange = (headerFrameId: string) => {};\n  private sources: Array<DataSource<T>>;\n  protected options: { [k: string]: any };\n  private headerFrameId = '';\n  public object?: V;\n\n  constructor(args: CoreOptions<T>) {\n    this.sources = args.sources;\n    this.options = args.options ?? {};\n\n    this.update = this.update.bind(this);\n    this.updateOptions = this.updateOptions.bind(this);\n  }\n\n  hide = () => {\n    assertIsDefined(this.object);\n    if (isObject3D(this.object)) {\n      this.object.visible = false;\n    } else if (isHTMLElement(this.object)) {\n      this.object.style.visibility = 'hidden';\n    }\n  };\n\n  show = () => {\n    assertIsDefined(this.object);\n    if (isObject3D(this.object)) {\n      this.object.visible = true;\n    } else if (isHTMLElement(this.object)) {\n      this.object.style.visibility = 'visible';\n    }\n  };\n\n  destroy = () => {\n    this.unsubscribe();\n    if (isObject3D(this.object)) {\n      this.object?.parent?.remove(this.object);\n    } else if (isHTMLElement(this.object)) {\n      this.object?.parentElement?.removeChild(this.object);\n    }\n    this.object = undefined;\n  };\n\n  reset = () => {};\n\n  subscribe = () => {\n    this.sources.forEach(source => {\n      const listener: Listener<T> = {\n        next: this.update,\n        error: error => console.log(error),\n        complete: () => {},\n      };\n      source.addListener(listener);\n    });\n  };\n\n  unsubscribe = () => {\n    this.sources.forEach(source => {\n      source.removeAllListeners();\n    });\n  };\n\n  update(message: T) {\n    const headerFrameId = message.header?.frame_id ?? '';\n    if (headerFrameId !== this.headerFrameId) {\n      this.headerFrameId = headerFrameId;\n      this.onHeaderChange(this.headerFrameId);\n    }\n  }\n\n  updateOptions(options: { [k: string]: any }) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n  }\n\n  changeSources(sources: Array<DataSource<T>>) {\n    this.unsubscribe();\n    this.sources = sources;\n    this.subscribe();\n  }\n}\n\nexport default LiveCore;\n","import { Group } from 'three';\nimport { DEFAULT_OPTIONS_POSE, POSE_OBJECT_TYPES } from '../utils/constants';\nimport Arrow from '../primitives/Arrow';\nimport Axes from '../primitives/Axes';\nimport LineArrow from '../primitives/LineArrow';\nimport { setObjectDimension } from '../utils/helpers';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Pose extends LiveCore<RosMessage.PoseStamped, Group> {\n  private primitive: Arrow | Axes | LineArrow | any;\n  constructor(\n    source: DataSource<RosMessage.PoseStamped>,\n    options = DEFAULT_OPTIONS_POSE,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_POSE,\n        ...options,\n      },\n    });\n    this.object = new Group();\n    this.primitive = null;\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_POSE,\n      ...options,\n    });\n  }\n\n  static getNewPrimitive(options: { [k: string]: any }) {\n    const { type } = options;\n    let newObject = null;\n\n    switch (type) {\n      case POSE_OBJECT_TYPES.arrow:\n        newObject = new Arrow();\n        break;\n      case POSE_OBJECT_TYPES.axes:\n        newObject = new Axes();\n        break;\n      case POSE_OBJECT_TYPES.flatArrow:\n        newObject = new LineArrow();\n        break;\n    }\n\n    return newObject;\n  }\n\n  updateOptions(options: { [k: string]: any }) {\n    super.updateOptions(options);\n    const { type } = this.options;\n\n    if (this.primitive?.type !== type) {\n      this.object?.remove(this.primitive);\n      this.primitive = null;\n    }\n\n    if (!this.primitive) {\n      const primitive = Pose.getNewPrimitive(this.options);\n      if (primitive) {\n        this.primitive = primitive;\n        this.object?.add(this.primitive);\n      }\n    }\n\n    setObjectDimension(this.primitive, this.options);\n  }\n\n  update(message: RosMessage.PoseStamped) {\n    super.update(message);\n    const {\n      pose: { orientation, position },\n    } = message;\n    this.primitive?.setTransform({\n      translation: position,\n      rotation: orientation,\n    });\n  }\n}\n\nexport default Pose;\n","import { Group, Quaternion, Vector3 } from 'three';\nimport {\n  DEFAULT_OPTIONS_WRENCH,\n  WRENCH_OBJECT_TYPES,\n} from '../utils/constants';\nimport Arrow from '../primitives/Arrow';\nimport ArrowWithCircle from '../primitives/ArrowWithCircle';\nimport { setObjectDimension } from '../utils/helpers';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Wrench extends LiveCore<RosMessage.WrenchStamped, Group> {\n  private primitiveX: Arrow | ArrowWithCircle | null = null;\n  private primitiveY: Arrow | ArrowWithCircle | null = null;\n\n  constructor(\n    source: DataSource<RosMessage.WrenchStamped>,\n    options = DEFAULT_OPTIONS_WRENCH,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_WRENCH,\n        ...options,\n      },\n    });\n    this.object = new Group();\n  }\n\n  static getNewPrimitive(options: { type: string }) {\n    const { type } = options;\n    let newObject = null;\n\n    switch (type) {\n      case WRENCH_OBJECT_TYPES.arrow:\n        newObject = new Arrow();\n        break;\n      case WRENCH_OBJECT_TYPES.arrowWithCircle:\n        newObject = new ArrowWithCircle();\n        break;\n    }\n    return newObject;\n  }\n\n  getOrUpdatePrimitive(\n    primitive: Arrow | ArrowWithCircle | null,\n    type: string,\n  ) {\n    const mustUpdatePrimitive = primitive === null || primitive?.type !== type;\n\n    if (mustUpdatePrimitive) {\n      if (primitive) {\n        this.object?.remove(primitive);\n      }\n      const object = Wrench.getNewPrimitive({ type });\n      if (object) {\n        this.object?.add(object);\n      }\n      return object;\n    }\n\n    return primitive;\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    super.updateOptions(options);\n    this.primitiveX = this.getOrUpdatePrimitive(\n      this.primitiveX,\n      WRENCH_OBJECT_TYPES.arrow,\n    );\n    this.primitiveY = this.getOrUpdatePrimitive(\n      this.primitiveY,\n      WRENCH_OBJECT_TYPES.arrowWithCircle,\n    );\n\n    const forceOptions = {\n      color: this.options.forceColor,\n      alpha: this.options.alpha,\n      headLength: this.options.headLength * this.options.forceArrowScale,\n      headRadius: this.options.headRadius * this.options.arrowWidth,\n      shaftLength: this.options.shaftLength * this.options.forceArrowScale,\n      shaftRadius: this.options.shaftRadius * this.options.arrowWidth,\n      type: WRENCH_OBJECT_TYPES.arrow,\n    };\n\n    const torqueOptions = {\n      color: this.options.torqueColor,\n      alpha: this.options.alpha,\n      arc: this.options.arc,\n      circleConeRadius: this.options.circleConeRadius * this.options.arrowWidth,\n      circleConeLength: this.options.circleConeLength * this.options.arrowWidth,\n      circleRadius: this.options.circleRadius * this.options.torqueArrowScale,\n      headLength: this.options.headLength * this.options.torqueArrowScale,\n      headRadius: this.options.headRadius * this.options.arrowWidth,\n      shaftLength: this.options.shaftLength * this.options.torqueArrowScale,\n      shaftRadius: this.options.shaftRadius * this.options.arrowWidth,\n      tube: this.options.tube * this.options.arrowWidth,\n      tubularSegments: this.options.tubularSegments,\n      type: WRENCH_OBJECT_TYPES.arrowWithCircle,\n    };\n\n    setObjectDimension(this.primitiveX, forceOptions);\n    setObjectDimension(this.primitiveY, torqueOptions);\n  }\n\n  update(message: RosMessage.WrenchStamped) {\n    super.update(message);\n    const {\n      wrench: { force, torque },\n    } = message;\n    const translationVector = new Vector3(1, 0, 0);\n    const forceVector = new Vector3(force.x, force.y, force.z).normalize();\n    const torqueVector = new Vector3(torque.x, torque.y, torque.z).normalize();\n    const forceQuaternion = new Quaternion().setFromUnitVectors(\n      translationVector,\n      forceVector,\n    );\n    const torqueQuaternion = new Quaternion().setFromUnitVectors(\n      translationVector,\n      torqueVector,\n    );\n    this.primitiveX?.setTransform({\n      translation: { y: 0, x: 0, z: 0 },\n      rotation: forceQuaternion,\n    });\n    this.primitiveY?.setTransform({\n      translation: { y: 0, x: 0, z: 0 },\n      rotation: torqueQuaternion,\n    });\n  }\n}\n\nexport default Wrench;\n","import { Color } from 'three';\n\nimport LegacyCore from '../core';\nimport {\n  DEFAULT_OPTIONS_POLYGON,\n  MESSAGE_TYPE_POLYGONSTAMPED,\n} from '../utils/constants';\nimport Group from '../primitives/Group';\nimport Line from '../primitives/Line';\nimport { Ros } from 'roslib';\n\nclass Polygon extends LegacyCore {\n  public readonly object: Group;\n  private readonly line: Line;\n\n  constructor(ros: Ros, topicName: string, options = DEFAULT_OPTIONS_POLYGON) {\n    super(ros, topicName, MESSAGE_TYPE_POLYGONSTAMPED, {\n      ...DEFAULT_OPTIONS_POLYGON,\n      ...options,\n    });\n    this.object = new Group();\n    this.line = new Line(null, true);\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_POLYGON,\n      ...options,\n    });\n  }\n\n  updateOptions(options: any) {\n    super.updateOptions(options);\n    const { alpha, color } = this.options;\n    this.line.setColor(new Color(color));\n    this.line.setAlpha(alpha);\n  }\n\n  update(message: RosMessage.PolygonStamped) {\n    super.update(message);\n    const {\n      polygon: { points },\n    } = message;\n    points.push(points[0]);\n    this.line.updatePoints(points);\n    this.object.add(this.line);\n  }\n}\n\nexport default Polygon;\n","import {\n  FontLoader,\n  Geometry,\n  Material,\n  MeshBasicMaterial,\n  TextGeometry,\n} from 'three';\n\nimport Mesh from './Mesh';\n\nclass Text extends Mesh {\n  public geometry: TextGeometry | Geometry = new Geometry();\n  public material: MeshBasicMaterial | Material = new Material();\n\n  constructor(text: string) {\n    super();\n    const loader = new FontLoader();\n\n    this.material = new MeshBasicMaterial({ color: 0xdddddd });\n    loader.load(\n      'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/fonts/helvetiker_regular.typeface.json',\n      font => {\n        this.geometry = new TextGeometry(text, {\n          font,\n          size: 0.05,\n          height: 0.005,\n          curveSegments: 12,\n          bevelEnabled: false,\n          bevelThickness: 10,\n          bevelSize: 8,\n          bevelSegments: 5,\n        });\n      },\n    );\n\n    this.rotateX(Math.PI / 2);\n    this.rotateY(Math.PI);\n  }\n}\n\nexport default Text;\n","import { Color } from 'three';\n\nimport Axes from './Axes';\nimport Group from './Group';\nimport Text from './Text';\nimport Arrow from './Arrow';\nimport {\n  DEFAULT_COLOR_ARROW,\n  DEFAULT_CONE_HEIGHT,\n  DEFAULT_CONE_RADIUS,\n  DEFAULT_CYLINDER_HEIGHT,\n  DEFAULT_CYLINDER_RADIUS,\n} from '../utils/constants';\n\nclass TfFrame extends Group {\n  public readonly arrow = new Arrow();\n\n  constructor(frameId: string) {\n    super();\n\n    this.add(new Axes(0.015, 0.25));\n\n    const textObject = new Text(frameId);\n    textObject\n      .rotateY(Math.PI)\n      .translateX(0.03)\n      .translateY(0.03);\n    this.add(textObject);\n\n    this.arrow.setHeadDimensions({\n      length: (DEFAULT_CONE_HEIGHT * 0.3) / 2,\n      radius: (DEFAULT_CONE_RADIUS * 0.1) / 2,\n    });\n    this.arrow.setShaftDimensions({\n      length: DEFAULT_CYLINDER_HEIGHT * 0.85,\n      radius: (DEFAULT_CYLINDER_RADIUS * 0.05) / 6,\n    });\n    this.arrow.setColor({\n      cone: new Color('#FF1493'),\n      cylinder: new Color(DEFAULT_COLOR_ARROW),\n    });\n    this.add(this.arrow);\n    this.name = TfFrame.getName(frameId);\n  }\n\n  static getName(frameId: string) {\n    return `tf-${frameId}`;\n  }\n}\n\nexport default TfFrame;\n","import { Group, Vector3 } from 'three';\nimport TfFrame from '../primitives/TfFrame';\nimport { DEFAULT_OPTIONS_TF } from '../utils/constants';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Tf extends LiveCore<RosMessage.TFMessage, Group> {\n  constructor(\n    source: DataSource<RosMessage.TFMessage>,\n    options = DEFAULT_OPTIONS_TF,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_TF,\n        ...options,\n      },\n    });\n    this.object = new Group();\n    this.object.name = 'tf-tree';\n  }\n\n  update(message: RosMessage.TFMessage) {\n    const { transforms } = message;\n    transforms.forEach(\n      ({\n        header: { frame_id: parentFrameId },\n        child_frame_id: childFrameId,\n        transform,\n      }) => {\n        const [childFrame, parentFrame] = [\n          this.getFrameOrCreate(childFrameId),\n          this.getFrameOrCreate(parentFrameId),\n        ];\n\n        parentFrame.add(childFrame);\n        childFrame.setTransform(transform);\n\n        if (childFrame.position.length() < 0.1) {\n          childFrame.arrow.visible = false;\n        } else {\n          childFrame.arrow.lookAt(parentFrame.getWorldPosition(new Vector3()));\n          childFrame.arrow.rotateY(-Math.PI / 2);\n          childFrame.arrow.visible = true;\n\n          const arrowConeLength = childFrame.arrow.cone.scale.y;\n          childFrame.arrow.setShaftDimensions({\n            length: childFrame.position.length() - arrowConeLength,\n          });\n        }\n      },\n    );\n\n    this.object?.children.forEach(child => {\n      (child as any).arrow.visible = false;\n    });\n  }\n\n  getFrameOrCreate(frameId: string) {\n    const existingFrame = this.object?.getObjectByName(\n      TfFrame.getName(frameId),\n    );\n    if (existingFrame) {\n      return existingFrame as TfFrame;\n    }\n\n    const newFrame = new TfFrame(frameId);\n    this.object?.add(newFrame);\n    return newFrame;\n  }\n}\n\nexport default Tf;\n","import { DefaultLoadingManager, LoadingManager, Object3D } from 'three';\nimport { assertIsDefined } from '../utils/helpers';\nimport ROSLIB, { Ros } from 'roslib';\nimport { DEFAULT_OPTIONS_ROBOTMODEL } from '../utils/constants';\n// @ts-ignore\nimport URDFLoader from 'urdf-js/umd/URDFLoader';\n// @ts-ignore\nimport { URDFLink, URDFRobot } from 'urdf-js/umd/URDFClasses';\n\nclass URDFCore<V extends Object3D> extends URDFLoader {\n  private readonly param: ROSLIB.Param;\n  protected options: { [k: string]: any };\n  private urdfObject?: URDFRobot;\n  private readonly packages: { [packageName: string]: string } = {};\n  public object?: V;\n\n  constructor(\n    ros: Ros,\n    paramName: string,\n    options: any = DEFAULT_OPTIONS_ROBOTMODEL,\n  ) {\n    super(DefaultLoadingManager);\n    this.options = options;\n    this.packages = options.packages;\n    this.param = new ROSLIB.Param({\n      ros,\n      name: paramName,\n    });\n\n    this.updateOptions = this.updateOptions.bind(this);\n    this.getPackages = this.getPackages.bind(this);\n    this.defaultLoadMeshCallback = this.defaultLoadMeshCallback.bind(this);\n    this.onComplete = this.onComplete.bind(this);\n    this.loadURDF = this.loadURDF.bind(this);\n    this.loadFromParam = this.loadFromParam.bind(this);\n  }\n\n  onComplete(object: Object3D) {}\n\n  loadFromParam(onComplete = this.onComplete, options = {}) {\n    this.param.get(urdfString => {\n      this.loadURDF(urdfString, onComplete, options);\n    });\n  }\n\n  loadURDF(urdfString: string, onComplete = this.onComplete, options: any) {\n    const urdfObject = super.parse(urdfString, {\n      packages: options.packages || this.packages,\n      loadMeshCb: options.loadMeshCb || this.defaultLoadMeshCallback,\n      fetchOptions: { mode: 'cors', credentials: 'same-origin' },\n      ...options,\n    });\n    assertIsDefined(this.object);\n    this.urdfObject = urdfObject;\n    this.object.add(urdfObject);\n    this.object.name = urdfObject.robotName;\n\n    onComplete(this.object);\n  }\n\n  public defaultLoadMeshCallback(\n    path: string,\n    ext: LoadingManager,\n    done: (mesh: Object3D) => void,\n  ) {\n    super.defaultMeshLoader(path, ext, (mesh: Object3D) => {\n      done(mesh);\n    });\n  }\n\n  getPackages(onComplete: (packages: string[]) => void) {\n    this.param.get(robotString => {\n      const parser = new DOMParser();\n      const urdf = parser.parseFromString(robotString, 'text/xml');\n      const packages = [...Array.from(urdf.querySelectorAll('mesh'))].map(\n        mesh => {\n          const [targetPkg] = mesh\n            ?.getAttribute('filename')\n            ?.replace(/^package:\\/\\//, '')\n            .split(/\\/(.+)/);\n          return targetPkg;\n        },\n      );\n      onComplete([...new Set(packages)]);\n    });\n  }\n\n  hide = () => {\n    assertIsDefined(this.object);\n    Object.values(this.urdfObject?.links ?? []).forEach((link: URDFLink) => {\n      link.hide();\n    });\n  };\n\n  show = () => {\n    assertIsDefined(this.object);\n    Object.values(this.urdfObject?.links ?? []).forEach((link: URDFLink) => {\n      link.show();\n    });\n  };\n\n  destroy = () => {\n    Object.values(this.urdfObject?.links ?? []).forEach((link: URDFLink) => {\n      link.delete();\n    });\n    this.object?.parent?.remove(this.object);\n    this.object = undefined;\n  };\n\n  reset = () => {};\n\n  updateOptions(options: { [k: string]: any }) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n  }\n}\n\nexport default URDFCore;\n","import { Ros } from 'roslib';\nimport { Object3D } from 'three';\nimport Group from '../primitives/Group';\nimport { DEFAULT_OPTIONS_ROBOTMODEL } from '../utils/constants';\nimport URDFCore from '../core/urdf';\n\nclass RobotModel extends URDFCore<Object3D> {\n  constructor(\n    ros: Ros,\n    paramName: string,\n    options = DEFAULT_OPTIONS_ROBOTMODEL,\n  ) {\n    super(ros, paramName, options);\n    this.object = new Group();\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_ROBOTMODEL,\n      ...options,\n    });\n  }\n}\n\nexport default RobotModel;\n","import { MeshStandardMaterial, SphereGeometry } from 'three';\n\nimport Mesh from './Mesh';\nimport { DEFAULT_RADIAL_SEGMENTS } from '../utils/constants';\n\nclass Sphere extends Mesh {\n  public readonly geometry: SphereGeometry;\n  public readonly material: MeshStandardMaterial;\n\n  constructor() {\n    super();\n    // Radius handled through scale\n    this.geometry = new SphereGeometry(\n      1,\n      DEFAULT_RADIAL_SEGMENTS,\n      DEFAULT_RADIAL_SEGMENTS,\n    );\n    this.material = new MeshStandardMaterial();\n    this.material.transparent = true;\n  }\n}\n\nexport default Sphere;\n","import { DEFAULT_OPTIONS_POINT } from '../utils/constants';\nimport Group from '../primitives/Group';\nimport Sphere from '../primitives/Sphere';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Point extends LiveCore<RosMessage.PointStamped, Group> {\n  private readonly sphere: Sphere;\n\n  constructor(\n    source: DataSource<RosMessage.PointStamped>,\n    options = DEFAULT_OPTIONS_POINT,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_POINT,\n        ...options,\n      },\n    });\n    const { alpha, color, radius } = this.options;\n    this.object = new Group();\n    this.sphere = new Sphere();\n    this.object.add(this.sphere);\n    this.sphere.setColor(color);\n    this.sphere.setAlpha(alpha);\n    this.sphere.setScale({ x: radius, y: radius, z: radius });\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    super.updateOptions(options);\n  }\n\n  update(message: RosMessage.PointStamped) {\n    super.update(message);\n    const {\n      point: { x, y, z },\n    } = message;\n    this.object?.position.set(x, y, z);\n  }\n}\n\nexport default Point;\n","/*\n  This file is in js format intentionally.\n  Using dynamic import requires targeting \"esnext\",\n  which prevents us from creating a UMD bundle\n */\nimport { PCLDecoder } from './pcl';\n\nif (!window.WebAssembly) {\n  import('pcl-decoder').then(module => {\n    PCLDecoder.attachDecoder(module);\n  });\n}\n","import { BufferGeometry, Color } from 'three';\nimport { POINT_FIELD_DATATYPES, POINTCLOUD_COLOR_CHANNELS } from './constants';\nimport { assertIsBufferAttribute } from './helpers';\nimport './attachPCL';\n\nexport const getAccessorForDataType = (\n  dataView: DataView,\n  dataType: number,\n) => {\n  switch (dataType) {\n    case POINT_FIELD_DATATYPES.INT8: {\n      return dataView.getInt8;\n    }\n    case POINT_FIELD_DATATYPES.UINT8: {\n      return dataView.getUint8;\n    }\n    case POINT_FIELD_DATATYPES.INT16: {\n      return dataView.getInt16;\n    }\n    case POINT_FIELD_DATATYPES.UINT16: {\n      return dataView.getUint16;\n    }\n    case POINT_FIELD_DATATYPES.INT32: {\n      return dataView.getInt32;\n    }\n    case POINT_FIELD_DATATYPES.UINT32: {\n      return dataView.getUint32;\n    }\n    case POINT_FIELD_DATATYPES.FLOAT64: {\n      return dataView.getFloat64;\n    }\n    case POINT_FIELD_DATATYPES.FLOAT32:\n    default: {\n      return dataView.getFloat32;\n    }\n  }\n};\n\nexport const updateGeometryAttribute = (\n  geometry: BufferGeometry,\n  attributeName: string,\n  data: Float32Array,\n  l: number,\n) => {\n  const attribute = geometry.attributes[attributeName];\n  assertIsBufferAttribute(attribute);\n  attribute.updateRange = {\n    offset: 0,\n    count: l * 3,\n  };\n  attribute.count = l;\n  attribute.array = data;\n  attribute.needsUpdate = true;\n};\n\nexport class PCLDecoder {\n  static decode(\n    message: RosMessage.PointCloud2,\n    colorChannel: string,\n    useRainbow: boolean,\n  ) {\n    const n = message.height * message.width;\n    const positions = new Float32Array(3 * n);\n    const colors = new Float32Array(3 * n);\n    const normals = new Float32Array(3 * n);\n\n    const uint8Buffer = Uint8Array.from(message.data).buffer;\n    const dataView = new DataView(uint8Buffer);\n    const offsets: {\n      x?: number;\n      y?: number;\n      z?: number;\n      rgb?: number;\n      intensity?: number;\n      normal_x?: number;\n      normal_y?: number;\n      normal_z?: number;\n    } = {};\n    const accessor: {\n      [p: string]: (\n        this: DataView,\n        byteOffset: number,\n        littleEndian?: boolean,\n      ) => number;\n    } = {};\n\n    const rgbCache = new Color();\n\n    message.fields.forEach(f => {\n      offsets[f.name as keyof typeof offsets] = f.offset;\n      accessor[f.name] = getAccessorForDataType(dataView, f.datatype);\n    });\n\n    for (let i = 0; i < n; i++) {\n      const stride = i * message.point_step;\n      if (\n        offsets.x !== undefined &&\n        offsets.y !== undefined &&\n        offsets.z !== undefined\n      ) {\n        positions[3 * i] = accessor.x.call(\n          dataView,\n          stride + offsets.x,\n          !message.is_bigendian,\n        );\n        positions[3 * i + 1] = accessor.y.call(\n          dataView,\n          stride + offsets.y,\n          !message.is_bigendian,\n        );\n        positions[3 * i + 2] = accessor.z.call(\n          dataView,\n          stride + offsets.z,\n          !message.is_bigendian,\n        );\n      }\n\n      if (\n        offsets.rgb !== undefined &&\n        colorChannel === POINTCLOUD_COLOR_CHANNELS.RGB\n      ) {\n        colors[3 * i] = dataView.getUint8(stride + offsets.rgb + 2) / 255.0;\n        colors[3 * i + 1] = dataView.getUint8(stride + offsets.rgb + 1) / 255.0;\n        colors[3 * i + 2] = dataView.getUint8(stride + offsets.rgb) / 255.0;\n      }\n\n      if (\n        offsets.intensity !== undefined &&\n        colorChannel === POINTCLOUD_COLOR_CHANNELS.INTENSITY\n      ) {\n        const intensity = accessor.intensity.call(\n          dataView,\n          stride + offsets.intensity,\n          !message.is_bigendian,\n        );\n\n        const normalizedIntensity = Math.min(intensity, 360) / 360;\n\n        if (useRainbow) {\n          const rgb = rgbCache\n            .setHSL(normalizedIntensity, 1.0, 0.5)\n            .toArray()\n            .map(x => x * 255);\n          colors[3 * i] = rgb[0] / 255;\n          colors[3 * i + 1] = rgb[1] / 255;\n          colors[3 * i + 2] = rgb[2] / 255;\n        } else {\n          colors[3 * i] = normalizedIntensity / 360;\n          colors[3 * i + 1] = normalizedIntensity / 360;\n          colors[3 * i + 2] = normalizedIntensity / 360;\n        }\n      }\n\n      if (\n        offsets.normal_x !== undefined &&\n        offsets.normal_y !== undefined &&\n        offsets.normal_z !== undefined\n      ) {\n        normals[3 * i] = accessor.normal_x.call(\n          dataView,\n          stride + offsets.normal_x,\n          !message.is_bigendian,\n        );\n        normals[3 * i + 1] = accessor.normal_y.call(\n          dataView,\n          stride + offsets.normal_y,\n          !message.is_bigendian,\n        );\n        normals[3 * i + 2] = accessor.normal_z.call(\n          dataView,\n          stride + offsets.normal_z,\n          !message.is_bigendian,\n        );\n      }\n    }\n    return { positions, colors, normals };\n  }\n\n  static attachDecoder(module: any) {\n    const { get_memory: getMemory, PCLDecoder: PCLDecoderWasm } = module;\n    const pclDecoderModule = new PCLDecoderWasm();\n    const memory = getMemory();\n\n    PCLDecoder.decode = (message, colorChannel, useRainbow) => {\n      const n = message.height * message.width;\n      const offsets: { [p: string]: number } = {};\n      const normals = new Float32Array(3 * n);\n\n      message.fields.forEach(f => {\n        offsets[f.name] = f.offset;\n      });\n\n      const memoryTypedArray = new Uint8Array(memory.buffer);\n\n      const copyMemPtr = pclDecoderModule.get_copy_memory_ptr();\n\n      memoryTypedArray.set(message.data, copyMemPtr);\n      pclDecoderModule.compute(\n        n,\n        message.point_step,\n        offsets.x,\n        offsets.y,\n        offsets.z,\n        offsets.rgb || 0,\n        offsets.intensity || 0,\n        colorChannel === POINTCLOUD_COLOR_CHANNELS.INTENSITY,\n        useRainbow,\n      );\n      const positionMemPointer = pclDecoderModule.get_position_memory_ptr();\n      const colorMemPointer = pclDecoderModule.get_color_memory_ptr();\n      const positions = new Float32Array(\n        memory.buffer,\n        positionMemPointer,\n        3 * n,\n      );\n      const invalidChannel =\n        (colorChannel === POINTCLOUD_COLOR_CHANNELS.INTENSITY &&\n          !offsets.intensity) ||\n        (colorChannel === POINTCLOUD_COLOR_CHANNELS.RGB && !offsets.rgb);\n      const colors = invalidChannel\n        ? new Float32Array(3 * n)\n        : new Float32Array(memory.buffer, colorMemPointer, 3 * n);\n      return { positions, colors, normals };\n    };\n  }\n}\n","import { BoxGeometry, MeshStandardMaterial } from 'three';\n\nimport Mesh from './Mesh';\n\nclass Cube extends Mesh {\n  public readonly geometry: BoxGeometry;\n  public readonly material: MeshStandardMaterial;\n\n  constructor() {\n    super();\n    this.geometry = new BoxGeometry();\n    this.material = new MeshStandardMaterial();\n  }\n}\n\nexport default Cube;\n","import {\n  Color,\n  Geometry,\n  LineBasicMaterial,\n  LineSegments as ThreeLineSegments,\n  Vector3,\n  VertexColors,\n} from 'three';\nimport * as TransformUtils from '../utils/transform';\nimport { DEFAULT_COLOR_LINE } from '../utils/constants';\n\nclass LineSegments extends ThreeLineSegments {\n  public readonly material: LineBasicMaterial;\n  public readonly geometry: Geometry;\n\n  constructor(color = DEFAULT_COLOR_LINE, linewidth = 5) {\n    super();\n    this.geometry = new Geometry();\n\n    this.material = new LineBasicMaterial({ linewidth, color: VertexColors });\n    // this.material.color = VertexColors;\n  }\n\n  isValid(points: RosMessage.Point[]) {\n    return points.length <= this.geometry.vertices.length;\n  }\n\n  setColor(color: string | number | RosMessage.Color) {\n    TransformUtils.setColor(this, color);\n  }\n\n  updatePoints(points: RosMessage.Point[], colors: RosMessage.Color[]) {\n    this.geometry.vertices = points.map(({ x, y, z }) => new Vector3(x, y, z));\n    this.geometry.verticesNeedUpdate = true;\n\n    if (colors.length > 0) {\n      this.geometry.colors = colors.map(({ r, g, b }) => new Color(r, g, b));\n      this.geometry.colorsNeedUpdate = true;\n    }\n  }\n\n  setTransform(transform: TransformUtils.Transform) {\n    TransformUtils.setTransform(this, transform);\n  }\n}\n\nexport default LineSegments;\n","import { Object3D } from 'three';\nimport Mesh from '../primitives/Mesh';\n\nclass ObjectCacher {\n  private readonly objectPool: Object3D;\n  private readonly Primitive: any;\n\n  constructor(objectPool: Object3D, Primitive: any) {\n    this.objectPool = objectPool;\n    this.Primitive = Primitive;\n  }\n\n  setObjectDimension(\n    object: Mesh,\n    position: RosMessage.Point,\n    color: RosMessage.Color | null,\n    scale?: RosMessage.Point,\n  ) {\n    const { x, y, z } = position;\n    object.setColor(color);\n    object.setScale(scale);\n    object.position.set(x, y, z);\n  }\n\n  reusePool(\n    points: RosMessage.Point[],\n    colors: Array<RosMessage.Color | null>,\n    options: { scale?: RosMessage.Point },\n  ) {\n    const { scale } = options;\n    const currentCount = points.length;\n\n    for (let i = 0; i < currentCount; i++) {\n      const currentChild = this.objectPool.children[i];\n      this.setObjectDimension(\n        currentChild as Mesh,\n        points[i],\n        colors[i],\n        scale,\n      );\n    }\n\n    for (let i = currentCount; i < this.objectPool.children.length; i++) {\n      this.objectPool.children[i].visible = false;\n    }\n  }\n\n  increasePool(\n    points: RosMessage.Point[],\n    colors: Array<RosMessage.Color | null>,\n    options: { scale?: RosMessage.Point },\n  ) {\n    const currentCount = this.objectPool.children.length;\n    const { scale } = options;\n\n    for (let i = 0; i < currentCount; i++) {\n      const currentChild = this.objectPool.children[i];\n      this.setObjectDimension(\n        currentChild as Mesh,\n        points[i],\n        colors[i],\n        scale,\n      );\n    }\n\n    for (let i = currentCount; i < points.length; i++) {\n      const sphere = new this.Primitive();\n      const { x, y, z } = points[i];\n\n      sphere.setColor(colors[i]);\n      sphere.setScale(scale);\n      sphere.position.set(x, y, z);\n      this.objectPool.add(sphere);\n    }\n  }\n}\n\nexport default ObjectCacher;\n","import { Geometry, MeshBasicMaterial } from 'three';\nimport Mesh from './Mesh';\nimport ObjectCacher from '../utils/objectCacher';\nimport { MARKER_OBJECT_TYPES } from '../utils/constants';\nimport Sphere from './Sphere';\n\nclass SphereList extends Mesh {\n  private readonly objectCacher: ObjectCacher;\n\n  constructor() {\n    super();\n    this.geometry = new Geometry();\n    this.material = new MeshBasicMaterial();\n    this.objectCacher = new ObjectCacher(this, Sphere);\n  }\n\n  updatePoints(\n    points: RosMessage.Point[],\n    colors: Array<RosMessage.Color | null>,\n    options: { scale: RosMessage.Point },\n  ) {\n    const optionsOverride = {\n      ...options,\n      subtype: MARKER_OBJECT_TYPES.SPHERE,\n    };\n\n    if (points.length < this.children.length) {\n      this.objectCacher.reusePool(points, colors, optionsOverride);\n    } else {\n      this.objectCacher.increasePool(points, colors, optionsOverride);\n    }\n  }\n}\n\nexport default SphereList;\n","import {\n  Color,\n  Geometry,\n  Points as ThreePoints,\n  PointsMaterial,\n  Vector3,\n  VertexColors,\n} from 'three';\n\nimport * as TransformUtils from '../utils/transform';\n\nclass Points extends ThreePoints {\n  public readonly geometry: Geometry;\n  public readonly material: PointsMaterial;\n\n  constructor() {\n    super();\n    this.geometry = new Geometry();\n    this.material = new PointsMaterial({\n      color: VertexColors,\n    });\n  }\n\n  setTransform(transform: TransformUtils.Transform) {\n    TransformUtils.setTransform(this, transform);\n  }\n\n  updatePoints(\n    points: RosMessage.Point[],\n    colors: RosMessage.Color[],\n    options: { scale: RosMessage.Point },\n  ) {\n    const {\n      scale: { x },\n    } = options;\n\n    this.material.size = x;\n    this.geometry.vertices = points.map(\n      vertex => new Vector3(vertex.x, vertex.y, vertex.z),\n    );\n    this.geometry.verticesNeedUpdate = true;\n\n    if (colors.length > 0) {\n      this.geometry.colors = colors.map(\n        color => new Color(color.r, color.g, color.b),\n      );\n      this.geometry.colorsNeedUpdate = true;\n    }\n  }\n\n  setScale(scale: RosMessage.Point | number) {\n    if (typeof scale === 'number') {\n      this.material.size = scale;\n    } else {\n      this.material.size = scale.x;\n    }\n  }\n}\n\nexport default Points;\n","import {\n  Color,\n  DoubleSide,\n  Face3,\n  FaceColors,\n  Geometry,\n  MeshBasicMaterial,\n  Vector3,\n} from 'three';\n\nimport Mesh from './Mesh';\n\nclass TriangleList extends Mesh {\n  public readonly geometry: Geometry;\n  public readonly material: MeshBasicMaterial;\n\n  constructor() {\n    super();\n    this.geometry = new Geometry();\n    this.material = new MeshBasicMaterial({\n      color: FaceColors,\n    });\n    this.material.side = DoubleSide;\n  }\n\n  updatePoints(\n    points: RosMessage.Point[],\n    colors: RosMessage.Color[] = [],\n    options: { scale: RosMessage.Point },\n  ) {\n    const vertices: Vector3[] = [];\n    const faces = [];\n    const {\n      scale: { x, y, z },\n    } = options;\n\n    this.scale.set(x, y, z);\n    for (let index = 0, l = points.length / 3; index < l; index++) {\n      const verticesArray = [\n        points[3 * index],\n        points[3 * index + 1],\n        points[3 * index + 2],\n      ];\n      verticesArray.map(side => {\n        vertices.push(new Vector3(side.x, side.y, side.z));\n      });\n\n      const color =\n        colors.length === 0 ? { r: 1, g: 0, b: 0 } : colors[3 * index];\n      faces.push(\n        new Face3(\n          3 * index,\n          3 * index + 2,\n          3 * index + 1,\n          new Vector3(),\n          new Color(color.r, color.g, color.b),\n        ),\n      );\n    }\n\n    this.geometry.vertices = vertices;\n    this.geometry.faces = faces;\n\n    this.geometry.computeFaceNormals();\n    this.geometry.computeVertexNormals();\n    this.geometry.elementsNeedUpdate = true;\n    this.geometry.verticesNeedUpdate = true;\n  }\n}\n\nexport default TriangleList;\n","import { Geometry, MeshBasicMaterial } from 'three';\nimport Mesh from './Mesh';\nimport ObjectCacher from '../utils/objectCacher';\nimport { MARKER_OBJECT_TYPES } from '../utils/constants';\nimport Cube from './Cube';\n\nclass CubeList extends Mesh {\n  private readonly objectCacher: ObjectCacher;\n\n  constructor() {\n    super();\n    this.geometry = new Geometry();\n    this.material = new MeshBasicMaterial();\n    this.objectCacher = new ObjectCacher(this, Cube);\n  }\n\n  updatePoints(\n    points: RosMessage.Point[],\n    colors: Array<RosMessage.Color | null>,\n    options: { scale?: RosMessage.Point },\n  ) {\n    const optionsOverride = {\n      ...options,\n      subType: MARKER_OBJECT_TYPES.CUBE,\n    };\n\n    if (points.length < this.children.length) {\n      this.objectCacher.reusePool(points, colors, optionsOverride);\n    } else {\n      this.objectCacher.increasePool(points, colors, optionsOverride);\n    }\n  }\n}\n\nexport default CubeList;\n","// @ts-ignore\nimport SpriteText from 'three-spritetext';\nimport { Color } from 'three';\nimport Mesh from './Mesh';\n\nclass ViewFacingText extends Mesh {\n  private color: Color;\n  private readonly text: SpriteText;\n\n  constructor(text: string) {\n    super();\n    this.color = new Color(1, 1, 1);\n    this.text = new SpriteText(text, 1, `#${this.color.getHexString()}`);\n    this.add(this.text);\n  }\n\n  setColor(color: RosMessage.Color) {\n    const { b, g, r } = color;\n    if (!(this.color.r === r && this.color.g === g && this.color.b === b)) {\n      this.color = new Color(r, g, b);\n      this.text.color = `#${this.color.getHexString()}`;\n    }\n  }\n}\n\nexport default ViewFacingText;\n","import {\n  DEFAULT_CONE_HEIGHT,\n  DEFAULT_CONE_RADIUS,\n  DEFAULT_CYLINDER_HEIGHT,\n  DEFAULT_CYLINDER_RADIUS,\n  MARKER_OBJECT_TYPES,\n} from './constants';\nimport Cube from '../primitives/Cube';\nimport Sphere from '../primitives/Sphere';\nimport Group from '../primitives/Group';\nimport Cylinder from '../primitives/Cylinder';\nimport LineSegments from '../primitives/LineSegment';\nimport Line from '../primitives/Line';\nimport SphereList from '../primitives/SphereList';\nimport Points from '../primitives/Points';\nimport TriangleList from '../primitives/TriangleList';\nimport CubeList from '../primitives/CubeList';\nimport Arrow from '../primitives/Arrow';\nimport ViewFacingText from '../primitives/ViewFacingText';\n\nexport type MarkerObjectType =\n  | Cube\n  | Sphere\n  | Group\n  | LineSegments\n  | Line\n  | SphereList\n  | Points\n  | TriangleList\n  | CubeList\n  | ViewFacingText\n  | Arrow;\n\nconst getNewPrimitive: (marker: RosMessage.Marker) => MarkerObjectType = (\n  marker: RosMessage.Marker,\n) => {\n  switch (marker.type) {\n    case MARKER_OBJECT_TYPES.CUBE:\n      return new Cube();\n    case MARKER_OBJECT_TYPES.SPHERE:\n      return new Sphere();\n    case MARKER_OBJECT_TYPES.CYLINDER: {\n      const group = new Group();\n      group.add(new Cylinder());\n      return group;\n    }\n    case MARKER_OBJECT_TYPES.LINE_LIST:\n      return new LineSegments();\n    case MARKER_OBJECT_TYPES.LINE_STRIP:\n      return new Line();\n    case MARKER_OBJECT_TYPES.SPHERE_LIST:\n      return new SphereList();\n    case MARKER_OBJECT_TYPES.POINTS:\n      return new Points();\n    case MARKER_OBJECT_TYPES.TRIANGLE_LIST:\n      return new TriangleList();\n    case MARKER_OBJECT_TYPES.CUBE_LIST:\n      return new CubeList();\n    case MARKER_OBJECT_TYPES.TEXT_VIEW_FACING:\n      return new ViewFacingText(marker.text);\n    case MARKER_OBJECT_TYPES.ARROW:\n    default: {\n      const arrow = new Arrow();\n      arrow.setHeadDimensions({\n        radius: DEFAULT_CONE_RADIUS * 0.1,\n        length: DEFAULT_CONE_HEIGHT * 0.3,\n      });\n      arrow.setShaftDimensions({\n        radius: DEFAULT_CYLINDER_RADIUS * 0.05,\n        length: DEFAULT_CYLINDER_HEIGHT * 0.7,\n      });\n      return arrow;\n    }\n  }\n};\n\nexport default getNewPrimitive;\n","export default class MarkerLifetime {\n  private readonly timeouts: { [p: string]: number } = {};\n  private readonly onTimeout: (id: string) => void;\n\n  constructor(onTimeout: (id: string) => void) {\n    this.timeouts = {};\n    this.onTimeout = onTimeout;\n  }\n\n  track(id: string, timeoutSecs: number) {\n    clearInterval(this.timeouts[id]);\n    if (timeoutSecs === 0) {\n      return;\n    }\n    this.timeouts[id] = window.setTimeout(() => {\n      this.onTimeout(id);\n    }, timeoutSecs * 1000);\n  }\n\n  untrack(id: string) {\n    clearInterval(this.timeouts[id]);\n    delete this.timeouts[id];\n  }\n\n  destroy() {\n    const ids = Object.keys(this.timeouts);\n    for (const id of ids) {\n      clearInterval(this.timeouts[id]);\n      delete this.timeouts[id];\n    }\n  }\n}\n","import getNewPrimitive, { MarkerObjectType } from './markerTypes';\nimport MarkerLifetime from './markerLifetime';\nimport { Object3D } from 'three';\nimport LineSegments from '../primitives/LineSegment';\n\nexport default class MarkerManager {\n  public object: Object3D;\n  private readonly onChangeCb: () => void;\n  private readonly objectMap: { [p: string]: MarkerObjectType } = {};\n  private namespaces: { [p: string]: boolean } = {};\n  private readonly markerLifetime: MarkerLifetime;\n\n  constructor(rootObject: Object3D, onChangeCb: () => void) {\n    this.object = rootObject;\n    this.onChangeCb = onChangeCb;\n    this.markerLifetime = new MarkerLifetime(\n      this.onMarkerLifetimeOver.bind(this),\n    );\n  }\n\n  onMarkerLifetimeOver(id: string) {\n    const marker = this.objectMap[id];\n    if (!marker) {\n      return;\n    }\n\n    this.removeObject(id);\n  }\n\n  getMarkerOrCreate(marker: RosMessage.Marker) {\n    const id = MarkerManager.getId(marker);\n    if (!this.objectMap[id]) {\n      const object = getNewPrimitive(marker);\n      this.objectMap[id] = object;\n      this.object.add(object);\n    } else {\n      // We need to create a new geometry when there are more or less points\n      if (this.objectMap[id] instanceof LineSegments) {\n        if (!(this.objectMap[id] as LineSegments).isValid(marker.points)) {\n          this.removeObject(id);\n          this.objectMap[id] = getNewPrimitive(marker);\n          this.object.add(this.objectMap[id]);\n        }\n      }\n    }\n    this.objectMap[id].visible = this.namespaces[marker.ns];\n    return this.objectMap[id];\n  }\n\n  extractNameSpace(str: string) {\n    const tokens = str.split('-');\n    return tokens[0];\n  }\n\n  updateOptions(options: { namespaces: { [p: string]: boolean } }) {\n    const { namespaces } = options;\n    this.namespaces = namespaces;\n    for (const key in this.objectMap) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (this.objectMap.hasOwnProperty(key)) {\n        const namespace = this.extractNameSpace(key);\n        this.objectMap[key].visible = this.namespaces[namespace];\n      }\n    }\n  }\n\n  onChange() {\n    this.onChangeCb();\n  }\n\n  updateMarker(marker: RosMessage.Marker) {\n    const {\n      color,\n      colors,\n      lifetime,\n      points,\n      pose: { orientation, position },\n      scale,\n    } = marker;\n\n    // markerObject should be of the type MarkerObjectType\n    // certain functions used below are not available on\n    // all types, hence any\n    const markerObject: any = this.getMarkerOrCreate(marker);\n    const markerId = MarkerManager.getId(marker);\n    this.markerLifetime.track(markerId, lifetime.secs);\n\n    if (markerObject.updatePoints) {\n      markerObject.updatePoints(points, colors, marker);\n    }\n\n    markerObject.setTransform({ translation: position, rotation: orientation });\n\n    // To avoid settings these properties for list types: LINE, TRIANGLE, CUBELIST etc\n    if (markerObject.setScale && !markerObject.updatePoints) {\n      markerObject.setScale({ x: scale.x, y: scale.y, z: scale.z });\n    }\n    if (markerObject.setColor && colors.length <= 0) {\n      markerObject.setColor(color);\n    }\n\n    const { ns } = marker;\n    if (!(ns in this.namespaces)) {\n      this.namespaces[ns] = true;\n      this.onChange();\n    }\n  }\n\n  removeObject(id: string) {\n    const obj = this.objectMap[id];\n    obj.parent?.remove(obj);\n    delete this.objectMap[id];\n  }\n\n  reset() {\n    this.namespaces = {};\n    this.markerLifetime.destroy();\n    this.onChange();\n\n    Object.keys(this.objectMap).forEach(id => {\n      this.removeObject(id);\n    });\n  }\n\n  static getId(marker: RosMessage.Marker) {\n    const { ns, id } = marker;\n    return `${ns}-${id}`;\n  }\n}\n","import { DEFAULT_OPTIONS_MARKERARRAY } from '../utils/constants';\nimport Group from '../primitives/Group';\nimport MarkerManager from '../utils/markerManager';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass MarkerArray extends LiveCore<RosMessage.MarkerArray, Group> {\n  private markerManager: MarkerManager;\n  private onNameSpaceChange?: () => void;\n\n  constructor(\n    source: DataSource<RosMessage.MarkerArray>,\n    options = DEFAULT_OPTIONS_MARKERARRAY,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_MARKERARRAY,\n        ...options,\n      },\n    });\n\n    this.object = new Group();\n    this.markerManager = new MarkerManager(\n      this.object,\n      this.onNameSpaceChange ?? (() => null),\n    );\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    super.updateOptions(options);\n    this.markerManager.updateOptions(this.options as any);\n  }\n\n  update(message: RosMessage.MarkerArray) {\n    super.update(message);\n    message.markers.forEach(marker => {\n      this.markerManager.updateMarker(marker);\n    });\n  }\n\n  reset = () => {\n    this.markerManager.reset();\n  };\n}\n\nexport default MarkerArray;\n","import {\n  BufferAttribute,\n  BufferGeometry,\n  Object3D,\n  Points as ThreePoints,\n  PointsMaterial,\n  TextureLoader,\n  VertexColors,\n  DynamicDrawUsage\n} from 'three';\nimport { LASERSCAN_STYLES } from './constants';\nimport { assertIsDefined } from './helpers';\n\nclass Points {\n  private readonly maxPts: number;\n  public readonly rootObject: Object3D;\n  public positions?: BufferAttribute;\n  public colors?: BufferAttribute;\n  private geometry?: BufferGeometry;\n  private material?: PointsMaterial;\n  private object?: ThreePoints;\n\n  constructor(options: { max_pts?: number; rootObject?: Object3D } = {}) {\n    this.maxPts = options.max_pts || 10000;\n    this.rootObject = options.rootObject || new Object3D();\n  }\n\n  setup(type: string, size: number, alpha: number) {\n    this.rootObject.children.forEach(child => {\n      this.rootObject.remove(child);\n    });\n\n    this.positions = new BufferAttribute(\n      new Float32Array(this.maxPts * 3),\n      3,\n      false,\n    );\n    this.colors = new BufferAttribute(\n      new Float32Array(this.maxPts * 3),\n      3,\n      false,\n    );\n\n    let options = {};\n\n    if (type === LASERSCAN_STYLES.POINTS) {\n      const sprite = new TextureLoader().load(\n        'https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/sprites/circle.png',\n      );\n\n      options = {\n        map: sprite,\n        alphaTest: 0.5,\n      };\n    }\n\n    this.geometry = new BufferGeometry();\n    this.geometry.setAttribute('position', this.positions.setUsage(DynamicDrawUsage));\n    this.geometry.setAttribute('color', this.colors.setUsage(DynamicDrawUsage));\n\n    this.material = new PointsMaterial({\n      color: 0x888888,\n      size,\n      ...options,\n    });\n    //this.material.vertexColors = VertexColors;\n    this.material.transparent = true;\n    this.material.opacity = alpha;\n\n    this.object = new ThreePoints(this.geometry, this.material);\n    this.rootObject.add(this.object);\n  }\n\n  update(l: number) {\n    assertIsDefined(this.geometry);\n    assertIsDefined(this.positions);\n    assertIsDefined(this.colors);\n    this.geometry.setDrawRange(0, l);\n    this.positions.needsUpdate = true;\n    this.colors.needsUpdate = true;\n    this.positions.updateRange.count = l * this.positions.itemSize;\n    this.colors.updateRange.count = l * this.colors.itemSize;\n  }\n\n  setAlpha(alpha: number) {\n    assertIsDefined(this.material);\n    this.material.opacity = alpha;\n  }\n\n  setSize(size: number) {\n    assertIsDefined(this.material);\n    this.material.size = size;\n  }\n}\n\nexport default Points;\n","import { Color } from 'three';\nimport {\n  AXES,\n  COLOR_TRANSFORMERS,\n  DEFAULT_OPTIONS_LASERSCAN,\n  INTENSITY_CHANNEL_OPTIONS,\n  LASERSCAN_STYLES,\n} from '../utils/constants';\nimport Points from '../utils/points';\nimport Group from '../primitives/Group';\nimport SphereList from '../primitives/SphereList';\nimport CubeList from '../primitives/CubeList';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\nimport { assertBehavesLikeArray, assertIsDefined } from '../utils/helpers';\n\nclass LaserScan extends LiveCore<RosMessage.LaserScan, Group> {\n  private points: Points;\n  private readonly sphereList: SphereList;\n  private readonly cubeList: CubeList;\n  private cachedMessage: RosMessage.LaserScan | null = null;\n\n  constructor(\n    source: DataSource<RosMessage.LaserScan>,\n    options = DEFAULT_OPTIONS_LASERSCAN,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_LASERSCAN,\n        ...options,\n      },\n    });\n\n    this.points = new Points();\n    this.sphereList = new SphereList();\n    this.cubeList = new CubeList();\n\n    this.object = new Group();\n    this.object.add(this.points.rootObject);\n    this.object.add(this.sphereList);\n    this.object.add(this.cubeList);\n  }\n\n  getNormalizedIntensity(intensity: number) {\n    const { maxIntensity, minIntensity } = this.options;\n    return (intensity - minIntensity) / (maxIntensity - minIntensity);\n  }\n\n  applyIntensityTransform(intensity: number, position: RosMessage.Point) {\n    const { channelName, maxColor, minColor } = this.options;\n    const { x, y, z } = position;\n\n    let normI;\n\n    switch (channelName) {\n      case INTENSITY_CHANNEL_OPTIONS.INTENSITY:\n        normI = this.getNormalizedIntensity(intensity);\n        break;\n      case INTENSITY_CHANNEL_OPTIONS.X:\n        normI = this.getNormalizedIntensity(x);\n        break;\n      case INTENSITY_CHANNEL_OPTIONS.Y:\n        normI = this.getNormalizedIntensity(y);\n        break;\n      case INTENSITY_CHANNEL_OPTIONS.Z:\n        normI = this.getNormalizedIntensity(z);\n        break;\n      default:\n        break;\n    }\n\n    const minColorHex = new Color(minColor);\n    const maxColorHex = new Color(maxColor);\n\n    assertIsDefined(normI);\n    const finalColor =\n      normI * maxColorHex.getHex() + (1 - normI) * minColorHex.getHex();\n    return new Color(finalColor);\n  }\n\n  getNormalizedAxisValue(axisValue: number) {\n    const { maxAxisValue, minAxisValue } = this.options;\n    return (axisValue - minAxisValue) / (maxAxisValue - minAxisValue);\n  }\n\n  applyAxisColorTransform(intensity: number, position: RosMessage.Point) {\n    const { axis, maxAxisValue, minAxisValue } = this.options;\n    const { x, y, z } = position;\n\n    let normI;\n\n    switch (axis) {\n      case AXES.X:\n        normI = this.getNormalizedAxisValue(x);\n        break;\n      case AXES.Y:\n        normI = this.getNormalizedAxisValue(y);\n        break;\n      case AXES.Z:\n        normI = this.getNormalizedAxisValue(z);\n        break;\n      default:\n        break;\n    }\n\n    assertIsDefined(normI);\n    const finalColor = normI * maxAxisValue + (1 - normI) * minAxisValue;\n    return new Color(finalColor);\n  }\n\n  colorTransformer(intensity: number, position: RosMessage.Point) {\n    const { colorTransformer, flatColor } = this.options;\n\n    switch (colorTransformer) {\n      case COLOR_TRANSFORMERS.INTENSITY:\n        return this.applyIntensityTransform(intensity, position);\n      case COLOR_TRANSFORMERS.AXIS_COLOR:\n        return this.applyAxisColorTransform(intensity, position);\n      case COLOR_TRANSFORMERS.FLAT_COLOR:\n        return new Color(flatColor);\n      default:\n        return null;\n    }\n  }\n\n  setupPoints(\n    index: number,\n    position: RosMessage.Point,\n    color: RosMessage.Color | null,\n  ) {\n    assertIsDefined(color);\n    assertIsDefined(this.points.colors);\n    assertIsDefined(this.points.positions);\n    assertBehavesLikeArray(this.points.colors.array);\n    assertBehavesLikeArray(this.points.positions.array);\n\n    this.points.colors.array[index] = color.r;\n    this.points.positions.array[index++] = position.x;\n    this.points.colors.array[index] = color.g;\n    this.points.positions.array[index++] = position.y;\n    this.points.colors.array[index] = color.b;\n    this.points.positions.array[index++] = position.z;\n  }\n\n  hideAllObjects() {\n    this.points.rootObject.visible = false;\n    this.sphereList.visible = false;\n    this.cubeList.visible = false;\n  }\n\n  setStyleDimensions(message: RosMessage.LaserScan) {\n    const { alpha, style } = this.options;\n    const { size } = this.options;\n    const { intensities, ranges } = message;\n    const n = ranges.length;\n    const positions = [];\n    const colors = [];\n\n    if (size < 0.001 || !size) {\n      return;\n    }\n\n    this.hideAllObjects();\n    this.points.setup(style, size, alpha);\n\n    let j = 0;\n    for (let i = 0; i < n; i++) {\n      const range = message.ranges[i];\n\n      if (range >= message.range_min && range <= message.range_max) {\n        const angle = message.angle_min + i * message.angle_increment;\n        const position = {\n          x: range * Math.cos(angle),\n          y: range * Math.sin(angle),\n          z: 0,\n        };\n        const color = this.colorTransformer(intensities[i], position);\n\n        switch (style) {\n          case LASERSCAN_STYLES.POINTS:\n          case LASERSCAN_STYLES.SQUARES:\n          case LASERSCAN_STYLES.FLAT_SQUARES: {\n            this.setupPoints(j, position, color);\n            j += 3;\n            break;\n          }\n          default:\n            positions.push(position);\n            colors.push(color);\n            break;\n        }\n      }\n    }\n\n    const options = { scale: { x: size, y: size, z: size } };\n\n    switch (style) {\n      case LASERSCAN_STYLES.SPHERES: {\n        this.sphereList.visible = true;\n        this.sphereList.updatePoints(positions, colors, options);\n        break;\n      }\n      case LASERSCAN_STYLES.BOXES: {\n        this.cubeList.visible = true;\n        this.cubeList.updatePoints(positions, colors, options);\n        break;\n      }\n      default:\n        this.points.rootObject.visible = true;\n        this.points.update(j / 3);\n        break;\n    }\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    super.updateOptions(options);\n    if (this.cachedMessage) {\n      this.setStyleDimensions(this.cachedMessage);\n    }\n  }\n\n  update(message: RosMessage.LaserScan) {\n    super.update(message);\n    this.setStyleDimensions(message);\n    this.cachedMessage = message;\n  }\n}\n\nexport default LaserScan;\n","export const COLOR_TYPES = {\n  OCCUPIED: 100,\n  UNOCCUPIED: 0,\n  UNKNOWN: -1,\n  OTHER: 127,\n};\n\nexport const populateImageDataFromNavMsg = (\n  imageData: ImageData,\n  width: number,\n  height: number,\n  dataSource: number[],\n) => {\n  for (let row = 0; row < height; row++) {\n    for (let col = 0; col < width; col++) {\n      const mapI = col + (height - row - 1) * width;\n      const data = dataSource[mapI];\n      const val = new DataView(Uint8Array.from([data]).buffer).getUint8(0);\n      let i = (col + row * width) * 4;\n\n      if (val >= 0 && val <= 100) {\n        const v = 255 - (255 * val) / 100;\n        imageData.data[i] = v; // red\n        imageData.data[++i] = v; // green\n        imageData.data[++i] = v; // blue\n        imageData.data[++i] = 255; // alpha\n      } else if (val >= 101 && val <= 127) {\n        // illegal positive values in green\n        imageData.data[i] = 0; // red\n        imageData.data[++i] = 255; // green\n        imageData.data[++i] = 0; // blue\n        imageData.data[++i] = 255; // alpha\n      } else if (val >= 128 && val <= 254) {\n        // illegal negative (char) values in shades of red/yellow\n        imageData.data[i] = 255; // red\n        imageData.data[++i] = (255 * (val - 128)) / (254 - 128); // green\n        imageData.data[++i] = 0; // blue\n        imageData.data[++i] = 255; // alpha\n      } else {\n        // legal -1 value is tasteful blueish greenish grayish color\n        imageData.data[i] = 0x70; // red\n        imageData.data[++i] = 0x89; // green\n        imageData.data[++i] = 0x86; // blue\n        imageData.data[++i] = 255; // alpha\n      }\n    }\n  }\n};\n\nexport const populateRawImageDataFromNavMsg = (\n  imageData: ImageData,\n  width: number,\n  height: number,\n  dataSource: number[],\n) => {\n  for (let row = 0; row < height; row++) {\n    for (let col = 0; col < width; col++) {\n      const mapI = col + (height - row - 1) * width;\n      const data = dataSource[mapI];\n\n      let i = (col + row * width) * 4;\n\n      const Uint8DV = new DataView(Uint8Array.from([data]).buffer);\n      const val = Uint8DV.getUint8(0);\n\n      imageData.data[i] = val;\n      imageData.data[++i] = val;\n      imageData.data[++i] = val;\n      imageData.data[++i] = 255;\n    }\n  }\n};\n\nexport const populateConstImageDataFromNavMsg = (\n  imageData: ImageData,\n  width: number,\n  height: number,\n  dataSource: number[],\n) => {\n  for (let row = 0; row < height; row++) {\n    for (let col = 0; col < width; col++) {\n      const mapI = col + (height - row - 1) * width;\n      const data = dataSource[mapI];\n      const val = new DataView(Uint8Array.from([data]).buffer).getUint8(0);\n\n      let i = (col + row * width) * 4;\n\n      if (val === 0) {\n        imageData.data[i] = 0;\n        imageData.data[++i] = 0;\n        imageData.data[++i] = 0;\n        imageData.data[++i] = 0; // alpha\n      } else if (val >= 1 && val <= 98) {\n        // Blue to red spectrum for most normal cost values\n        const v = (255 * val) / 100;\n        imageData.data[i] = v; // red\n        imageData.data[++i] = 0; // green\n        imageData.data[++i] = 255 - v; // blue\n        imageData.data[++i] = 255; // alpha\n      } else if (val === 99) {\n        // inscribed obstacle values (99) in cyan\n        imageData.data[i] = 0; // red\n        imageData.data[++i] = 255; // green\n        imageData.data[++i] = 255; // blue\n        imageData.data[++i] = 255; // alpha\n      } else if (val === 100) {\n        // lethal obstacle values (100) in purple\n        imageData.data[i] = 255; // red\n        imageData.data[++i] = 0; // green\n        imageData.data[++i] = 255; // blue\n        imageData.data[++i] = 255; // alpha\n      } else if (val > 100 && val <= 127) {\n        // illegal positive values in green\n        imageData.data[i] = 0; // red\n        imageData.data[++i] = 255; // green\n        imageData.data[++i] = 0; // blue\n        imageData.data[++i] = 255; // alpha\n      } else if (val >= 128 && val <= 254) {\n        // illegal negative (char) values in shades of red/yellow\n        imageData.data[i] = 255; // red\n        imageData.data[++i] = (255 * (val - 128)) / (254 - 128); // green\n        imageData.data[++i] = 0; // blue\n        imageData.data[++i] = 255; // alpha\n      } else {\n        // legal -1 value is tasteful blueish greenish grayish color\n        imageData.data[i] = 0x70; // red\n        imageData.data[++i] = 0x89; // green\n        imageData.data[++i] = 0x86; // blue\n        imageData.data[++i] = 255; // alpha\n      }\n    }\n  }\n};\n\nexport const imageDataToCanvas = (imageData: ImageData) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = imageData.width;\n  canvas.height = imageData.height;\n  const context = canvas.getContext('2d');\n  context?.putImageData(imageData, 0, 0);\n  return canvas;\n};\n\nexport const populateImageDataFromImageMsg = (\n  message: RosMessage.Image,\n  offset: number,\n  rgbaOrder: number[],\n  imageData: ImageData,\n) => {\n  const { data: rawData, height, step } = message;\n  const typedArray = Uint8Array.from(rawData);\n  // endianness is required for > 8bit encodings\n  const encodedDataView = new DataView(typedArray.buffer);\n\n  let j = 0;\n  for (let i = 0; i < step * height; i += offset) {\n    for (let k = 0; k < rgbaOrder.length; k++) {\n      imageData.data[j++] = encodedDataView.getUint8(i + rgbaOrder[k]);\n    }\n    if (rgbaOrder.length === 3) {\n      imageData.data[j++] = 255;\n    }\n  }\n};\n","import { MeshBasicMaterial, PlaneGeometry } from 'three';\nimport Mesh from './Mesh';\n\nclass Plane extends Mesh {\n  constructor() {\n    super();\n    this.geometry = new PlaneGeometry();\n    this.material = new MeshBasicMaterial();\n  }\n}\n\nexport default Plane;\n","import {\n  DoubleSide,\n  FrontSide,\n  CanvasTexture,\n  NearestFilter,\n  Quaternion,\n} from 'three';\nimport {\n  DEFAULT_OPTIONS_MAP,\n  MAP_COLOR_SCHEMES,\n} from '../utils/constants';\nimport {\n  imageDataToCanvas,\n  populateConstImageDataFromNavMsg,\n  populateImageDataFromNavMsg,\n  populateRawImageDataFromNavMsg,\n} from '../utils/processing';\nimport Plane from '../primitives/Plane';\nimport LiveCore from '../core/live';\nimport { RosTopicDataSource } from '../data/rosTopic';\nimport {\n  assertIsMaterial,\n  assertIsMesh,\n  assertIsMeshBasicMaterial,\n} from '../utils/helpers';\n\nclass Map extends LiveCore<RosMessage.OccupancyGrid, Plane> {\n  private cachedMessage: RosMessage.OccupancyGrid | null = null;\n\n  constructor(\n    source: RosTopicDataSource<RosMessage.OccupancyGrid>,\n    options = DEFAULT_OPTIONS_MAP,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_MAP,\n        ...options,\n      },\n    });\n    this.object = new Plane();\n    assertIsMesh(this.object);\n    assertIsMaterial(this.object.material);\n    this.object.material.transparent = true;\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_MAP,\n      ...options,\n    });\n  }\n\n  updateOptions(options: { [k: string]: any }) {\n    assertIsMesh(this.object);\n    assertIsMaterial(this.object.material);\n\n    super.updateOptions(options);\n    const { alpha, drawBehind } = this.options;\n    this.object.material.opacity = alpha;\n    if (drawBehind) {\n      this.object.material.side = DoubleSide;\n    } else {\n      this.object.material.side = FrontSide;\n    }\n    this.object.material.needsUpdate = true;\n    if (this.cachedMessage) {\n      this.setCanvasData(this.cachedMessage);\n    }\n  }\n\n  updateCanvasDimensions(message: RosMessage.OccupancyGrid) {\n    const {\n      info: {\n        height,\n        origin: {\n          orientation: { w: qw, x: qx, y: qy, z: qz },\n          position: { x, y, z },\n        },\n        resolution,\n        width,\n      },\n    } = message;\n\n    this.object?.scale.set(width * resolution, -1 * height * resolution, 1);\n    const translatedX = (width * resolution) / 2 + x;\n    const translatedY = (height * resolution) / 2 + y;\n    this.object?.position.set(\n      translatedX,\n      translatedY,\n      z || 0.01,\n    );\n    this.object?.quaternion.copy(new Quaternion(qx, qy, qz, qw).normalize());\n  }\n\n  setCanvasData(message: RosMessage.OccupancyGrid) {\n    const { colorScheme } = this.options;\n    const {\n      data,\n      info: { height, width },\n    } = message;\n\n    const imageData = new ImageData(width, height);\n    let bitmapCanvas = null;\n\n    switch (colorScheme) {\n      case MAP_COLOR_SCHEMES.MAP:\n        populateImageDataFromNavMsg(imageData, width, height, data);\n        bitmapCanvas = imageDataToCanvas(imageData);\n        break;\n      case MAP_COLOR_SCHEMES.CONST_MAP:\n        populateConstImageDataFromNavMsg(imageData, width, height, data);\n        bitmapCanvas = imageDataToCanvas(imageData);\n        break;\n      case MAP_COLOR_SCHEMES.RAW:\n        populateRawImageDataFromNavMsg(imageData, width, height, data);\n        bitmapCanvas = imageDataToCanvas(imageData);\n        break;\n      default:\n        break;\n    }\n\n    assertIsMesh(this.object);\n    assertIsMeshBasicMaterial(this.object.material);\n    if (bitmapCanvas) {\n      this.object.material.map = new CanvasTexture(bitmapCanvas);\n      this.object.material.map.minFilter = NearestFilter;\n      this.object.material.map.magFilter = NearestFilter;\n      this.object.material.needsUpdate = true;\n    }\n    this.updateCanvasDimensions(message);\n  }\n\n  update(message: RosMessage.OccupancyGrid) {\n    super.update(message);\n    this.setCanvasData(message);\n    this.cachedMessage = message;\n  }\n}\n\nexport default Map;\n","import { MathUtils, Object3D, Quaternion, Vector3 } from 'three';\nimport {\n  DEFAULT_OPTIONS_ODOMETRY,\n  ODOMETRY_OBJECT_TYPES,\n} from '../utils/constants';\nimport Arrow from '../primitives/Arrow';\nimport Group from '../primitives/Group';\nimport * as TransformUtils from '../utils/transform';\nimport Axes from '../primitives/Axes';\nimport {\n  checkToleranceThresholdExceed,\n  setObjectDimension,\n} from '../utils/helpers';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Odometry extends LiveCore<RosMessage.Odometry, Group> {\n  private objectPool: Object3D[] = [];\n  private keepSize = 100;\n  private currentObjectIndex = -1;\n\n  constructor(\n    source: DataSource<RosMessage.Odometry>,\n    options = DEFAULT_OPTIONS_ODOMETRY,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_ODOMETRY,\n        ...options,\n      },\n    });\n    this.object = new Group();\n  }\n\n  setKeepSize(size: number) {\n    let newKeepList = [];\n\n    if (size === 0) {\n      this.keepSize = 0;\n      return;\n    }\n\n    if (size < this.keepSize && size < this.objectPool.length) {\n      const removeCount = this.objectPool.length - size;\n      for (let i = 0; i < removeCount; i++) {\n        this.object?.remove(this.objectPool[i]);\n      }\n\n      const slicedList = this.objectPool.slice(\n        this.objectPool.length - size,\n        this.objectPool.length,\n      );\n      newKeepList = [...slicedList];\n    } else {\n      newKeepList = [...this.objectPool];\n    }\n\n    this.objectPool = newKeepList;\n    this.keepSize = size;\n    this.currentObjectIndex = this.objectPool.length - 1;\n  }\n\n  removeAllObjects() {\n    this.objectPool.forEach((obj, index) => {\n      obj.parent?.remove(obj);\n      delete this.objectPool[index];\n    });\n    this.objectPool = [];\n  }\n\n  checkToleranceThresholdExceed(newPose: {\n    position: Vector3;\n    quaternion: Quaternion;\n  }) {\n    if (this.objectPool.length === 0) {\n      return true;\n    }\n\n    const oldPose = {\n      position: this.objectPool[this.currentObjectIndex].position,\n      quaternion: this.objectPool[this.currentObjectIndex].quaternion,\n    };\n\n    return checkToleranceThresholdExceed(oldPose, newPose, this.options);\n  }\n\n  getObject() {\n    const { type } = this.options;\n    switch (type) {\n      case ODOMETRY_OBJECT_TYPES.arrow:\n        return new Arrow();\n      case ODOMETRY_OBJECT_TYPES.axes:\n        return new Axes();\n    }\n\n    return new Object3D();\n  }\n\n  changeObjectPoolType() {\n    const tempObjectPool: Object3D[] = [];\n\n    // remove prev type objects and push the new ones in place of them.\n    this.objectPool.forEach((object, index) => {\n      const { position, quaternion } = object;\n      object.parent?.remove(object);\n      delete this.objectPool[index];\n\n      const newObj = this.getObject();\n      newObj.position.set(position.x, position.y, position.z);\n      newObj.quaternion.set(\n        quaternion.x,\n        quaternion.y,\n        quaternion.z,\n        quaternion.w,\n      );\n      tempObjectPool.push(newObj);\n      this.object?.add(newObj);\n      setObjectDimension(newObj, this.options);\n    });\n\n    this.objectPool = tempObjectPool;\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    const { type: currentType } = this.options;\n    super.updateOptions(options);\n    const { keep, type } = this.options;\n\n    if (type !== currentType) {\n      this.changeObjectPoolType();\n    }\n\n    this.objectPool.forEach(object => {\n      setObjectDimension(object, this.options);\n    });\n\n    this.setKeepSize(keep);\n  }\n\n  update(message: RosMessage.Odometry) {\n    super.update(message);\n    if (!this.keepSize) {\n      this.removeAllObjects();\n      return;\n    }\n\n    const {\n      pose: {\n        pose: { orientation, position },\n      },\n    } = message;\n    const transform = {\n      translation: position,\n      rotation: orientation,\n    };\n\n    const newPose = {\n      position: new Vector3(position.x, position.y, position.z),\n      quaternion: new Quaternion(\n        orientation.x,\n        orientation.y,\n        orientation.z,\n        orientation.w,\n      ),\n    };\n    const toleranceThresholdExceed = this.checkToleranceThresholdExceed(\n      newPose,\n    );\n\n    if (toleranceThresholdExceed) {\n      const newObject = this.getObject();\n      setObjectDimension(newObject, this.options);\n\n      this.objectPool.push(newObject);\n      this.currentObjectIndex += 1;\n      this.currentObjectIndex = MathUtils.clamp(\n        this.currentObjectIndex,\n        0,\n        this.keepSize - 1,\n      );\n      this.object?.add(newObject);\n      TransformUtils.setTransform(newObject, transform);\n\n      // remove excess object from object pool wrt to keepsize\n      if (this.objectPool.length > this.keepSize) {\n        const objToRemove = this.objectPool[0];\n        this.object?.remove(objToRemove);\n        delete this.objectPool[0];\n\n        const newObjectPool = this.objectPool.slice(1);\n        this.objectPool = [...newObjectPool];\n      }\n    }\n  }\n}\n\nexport default Odometry;\n","import { Group } from 'three';\nimport { DEFAULT_OPTIONS_POSEARRAY } from '../utils/constants';\nimport Pose from './Pose';\nimport * as TransformUtils from '../utils/transform';\nimport { assertIsDefined, setObjectDimension } from '../utils/helpers';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass PoseArray extends LiveCore<RosMessage.PoseArray, Group> {\n  constructor(\n    source: DataSource<RosMessage.PoseArray>,\n    options = DEFAULT_OPTIONS_POSEARRAY,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_POSEARRAY,\n        ...options,\n      },\n    });\n    this.object = new Group();\n  }\n\n  update(message: RosMessage.PoseArray) {\n    assertIsDefined(this.object);\n    super.update(message);\n    this.object.children.forEach(obj => {\n      obj.parent?.remove(obj);\n    });\n    this.object.children = [];\n\n    for (let i = 0; i < message.poses.length; i++) {\n      const primitive = Pose.getNewPrimitive(this.options);\n      if (primitive) {\n        TransformUtils.setTransform(primitive, {\n          translation: message.poses[i].position,\n          rotation: message.poses[i].orientation,\n        });\n        setObjectDimension(primitive, this.options);\n        this.object.add(primitive);\n      }\n    }\n  }\n}\n\nexport default PoseArray;\n","import { Color } from 'three';\nimport { DEFAULT_OPTIONS_PATH } from '../utils/constants';\nimport Group from '../primitives/Group';\nimport Line from '../primitives/Line';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Path extends LiveCore<RosMessage.Path, Group> {\n  private readonly line: Line;\n\n  constructor(\n    source: DataSource<RosMessage.Path>,\n    options = DEFAULT_OPTIONS_PATH,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_PATH,\n        ...options,\n      },\n    });\n    const { alpha, color } = this.options;\n\n    this.object = new Group();\n    this.line = new Line(null, true);\n    this.line.setColor(new Color(color));\n    this.line.setAlpha(alpha);\n  }\n\n  updateOptions(options: { [p: string]: any }) {\n    super.updateOptions(options);\n    const { alpha, color } = this.options;\n    this.line.setColor(new Color(color));\n    this.line.setAlpha(alpha);\n  }\n\n  update(message: RosMessage.Path) {\n    super.update(message);\n    const { poses } = message;\n    const points = (poses || []).map(poseData => poseData.pose.position);\n\n    this.line.updatePoints(points);\n    this.object?.add(this.line);\n  }\n}\n\nexport default Path;\n","import { DEFAULT_OPTIONS_IMAGE } from '../utils/constants';\nimport { populateImageDataFromImageMsg } from '../utils/processing';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\nimport { assertIsDefined } from '../utils/helpers';\n\nclass Image extends LiveCore<RosMessage.Image, HTMLCanvasElement> {\n  private readonly shadowObject: HTMLCanvasElement;\n\n  constructor(\n    source: DataSource<RosMessage.Image>,\n    options = DEFAULT_OPTIONS_IMAGE,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_IMAGE,\n        ...options,\n      },\n    });\n    const { height, width } = this.options;\n    this.object = document.createElement('canvas');\n    this.shadowObject = document.createElement('canvas');\n    this.object.width = width;\n    this.object.height = height;\n  }\n\n  applyImageData(message: RosMessage.Image) {\n    const { encoding, height, width } = message;\n    assertIsDefined(this.object);\n    const ctx = this.object.getContext('2d');\n    assertIsDefined(ctx);\n    const shadowCtx = this.shadowObject.getContext('2d');\n    assertIsDefined(shadowCtx);\n    const imgData = shadowCtx.createImageData(width, height);\n\n    const aspectRatio = width / height;\n    switch (encoding) {\n      // not using encoding.find(bayer) because js switch statement\n      // is much faster\n      case 'bayer_rggb8':\n      case 'bayer_bggr8':\n      case 'bayer_gbrg8':\n      case 'bayer_grbg8':\n      case 'bayer_rggb16':\n      case 'bayer_bggr16':\n      case 'bayer_gbrg16':\n      case 'bayer_grbg16':\n      case '8UC1':\n      case '8SC1':\n      case 'mono8': {\n        populateImageDataFromImageMsg(message, 1, [0, 0, 0], imgData);\n        break;\n      }\n      case '8UC3':\n      case '8SC3':\n      case 'bgr8': {\n        populateImageDataFromImageMsg(message, 3, [2, 1, 0], imgData);\n        break;\n      }\n      case '8UC4':\n      case '8SC4':\n      case 'bgra8': {\n        populateImageDataFromImageMsg(message, 4, [2, 1, 0, 3], imgData);\n        break;\n      }\n      case 'rgb8': {\n        populateImageDataFromImageMsg(message, 3, [0, 1, 2], imgData);\n        break;\n      }\n      case 'rgba8': {\n        populateImageDataFromImageMsg(message, 4, [0, 1, 2, 3], imgData);\n        break;\n      }\n      default:\n        break;\n    }\n\n    ctx.clearRect(0, 0, this.object.width, this.object.height);\n    ctx.fillStyle = '#000';\n    ctx.fillRect(0, 0, this.object.width, this.object.height);\n    shadowCtx.clearRect(\n      0,\n      0,\n      this.shadowObject.width,\n      this.shadowObject.height,\n    );\n    shadowCtx.putImageData(imgData, 0, 0);\n\n    const scaledImageHeight = this.object.width / aspectRatio;\n    const scaledImageWidth = this.object.height * aspectRatio;\n\n    if (aspectRatio >= this.object.width / this.object.height) {\n      ctx.drawImage(\n        this.shadowObject,\n        0,\n        0,\n        width,\n        height,\n        0,\n        (this.object.height - scaledImageHeight) / 2,\n        this.object.width,\n        scaledImageHeight,\n      );\n    } else {\n      ctx.drawImage(\n        this.shadowObject,\n        0,\n        0,\n        width,\n        height,\n        (this.object.width - scaledImageWidth) / 2,\n        0,\n        scaledImageWidth,\n        this.object.height,\n      );\n    }\n  }\n\n  updateDimensions(width: number, height: number) {\n    assertIsDefined(this.object);\n    this.object.width = width;\n    this.object.height = height;\n  }\n\n  update(message: RosMessage.Image) {\n    const { height, width } = message;\n    this.shadowObject.width = width;\n    this.shadowObject.height = height;\n    this.applyImageData(message);\n  }\n\n  hide = () => {\n    assertIsDefined(this.object);\n    this.object.style.visibility = 'hidden';\n  };\n\n  show = () => {\n    assertIsDefined(this.object);\n    this.object.style.visibility = 'visible';\n  };\n}\n\nexport default Image;\n","import { Object3D } from 'three';\nimport { assertIsDefined, isHTMLElement, isObject3D } from '../utils/helpers';\n\ninterface CoreOptions {\n  options?: { [k: string]: any };\n}\n\nclass StaticCore<V extends Object3D | HTMLElement> {\n  protected options: { [k: string]: any };\n  public object?: V;\n\n  constructor(args: CoreOptions) {\n    this.options = args.options ?? {};\n    this.updateOptions = this.updateOptions.bind(this);\n  }\n\n  hide = () => {\n    assertIsDefined(this.object);\n    if (isObject3D(this.object)) {\n      this.object.visible = false;\n    } else if (isHTMLElement(this.object)) {\n      this.object.style.visibility = 'hidden';\n    }\n  };\n\n  show = () => {\n    assertIsDefined(this.object);\n    if (isObject3D(this.object)) {\n      this.object.visible = true;\n    } else if (isHTMLElement(this.object)) {\n      this.object.style.visibility = 'visible';\n    }\n  };\n\n  destroy = () => {\n    if (isObject3D(this.object)) {\n      this.object?.parent?.remove(this.object);\n    } else if (isHTMLElement(this.object)) {\n      this.object?.parentElement?.removeChild(this.object);\n    }\n    this.object = undefined;\n  };\n\n  reset = () => {};\n\n  updateOptions(options: { [k: string]: any }) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n  }\n}\n\nexport default StaticCore;\n","import { DEFAULT_OPTIONS_IMAGE_STREAM } from '../utils/constants';\nimport StaticCore from '../core/static';\nimport { assertIsDefined } from '../utils/helpers';\n\nclass ImageStream extends StaticCore<HTMLImageElement> {\n  private readonly url: string;\n\n  constructor(url: string, options = DEFAULT_OPTIONS_IMAGE_STREAM) {\n    super({\n      options: {\n        ...DEFAULT_OPTIONS_IMAGE_STREAM,\n        ...options,\n      },\n    });\n    const { height, width } = this.options;\n    this.url = url;\n    this.object = document.createElement('img');\n    this.object.src = this.url;\n    this.object.setAttribute('draggable', 'false');\n    this.object.width = width;\n    this.object.height = height;\n  }\n\n  hide = () => {\n    assertIsDefined(this.object);\n    this.object.style.visibility = 'hidden';\n  };\n\n  show = () => {\n    assertIsDefined(this.object);\n    this.object.style.visibility = 'visible';\n  };\n}\n\nexport default ImageStream;\n","import { DEFAULT_OPTIONS_MARKER } from '../utils/constants';\nimport Group from '../primitives/Group';\nimport MarkerManager from '../utils/markerManager';\nimport LiveCore from '../core/live';\nimport { RosTopicDataSource } from '../data/rosTopic';\n\nclass Marker extends LiveCore<RosMessage.Marker, Group> {\n  private markerManager: MarkerManager;\n  private onNameSpaceChange?: () => void;\n\n  constructor(\n    source: RosTopicDataSource<RosMessage.Marker>,\n    options = DEFAULT_OPTIONS_MARKER,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_MARKER,\n        ...options,\n      },\n    });\n\n    this.object = new Group();\n    this.markerManager = new MarkerManager(\n      this.object,\n      this.onNameSpaceChange ?? (() => null),\n    );\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_MARKER,\n      ...options,\n    });\n  }\n\n  updateOptions(options: { [k: string]: any }) {\n    super.updateOptions(options);\n    this.markerManager.updateOptions(this.options as any);\n  }\n\n  update(message: RosMessage.Marker) {\n    super.update(message);\n    this.markerManager.updateMarker(message);\n  }\n\n  reset = () => {\n    this.markerManager.reset();\n  };\n}\n\nexport default Marker;\n","import { Color, CylinderGeometry } from 'three';\nimport {\n  DEFAULT_OPTIONS_RANGE,\n  DEFAULT_RADIAL_SEGMENTS,\n} from '../utils/constants';\n\nimport Group from '../primitives/Group';\nimport Cylinder from '../primitives/Cylinder';\nimport LiveCore from '../core/live';\nimport { DataSource } from '../data';\n\nclass Range extends LiveCore<RosMessage.Range, Group> {\n  private readonly cylinder: Cylinder;\n\n  constructor(\n    source: DataSource<RosMessage.Range>,\n    options = DEFAULT_OPTIONS_RANGE,\n  ) {\n    super({\n      sources: [source],\n      options: {\n        ...DEFAULT_OPTIONS_RANGE,\n        ...options,\n      },\n    });\n    const { alpha, color } = this.options;\n\n    this.object = new Group();\n    this.cylinder = new Cylinder(this.options.color, 0.01, 0.01);\n    this.cylinder.rotateZ(Math.PI / 2);\n    this.object.add(this.cylinder);\n    this.cylinder.setAlpha(alpha);\n    this.cylinder.setColor(new Color(color));\n  }\n\n  update(message: RosMessage.Range) {\n    super.update(message);\n    const { field_of_view: fov, max_range: max, min_range: min } = message;\n    this.cylinder.geometry = new CylinderGeometry(\n      (min * Math.tan(fov)) / 4,\n      (max * Math.tan(fov)) / 4,\n      max - min,\n      DEFAULT_RADIAL_SEGMENTS,\n      DEFAULT_RADIAL_SEGMENTS,\n    );\n    this.cylinder.geometry.verticesNeedUpdate = true;\n    this.cylinder.position.setX(0.5 * (min + max));\n  }\n}\n\nexport default Range;\n","// @ts-ignore\nimport Stats from 'stats-js';\nimport {\n  AmbientLight,\n  Color,\n  DirectionalLight,\n  GridHelper,\n  Group,\n  Object3D,\n  Scene as ThreeScene,\n} from 'three';\n\nimport { DEFAULT_OPTIONS_SCENE } from '../utils/constants';\n\nclass Scene extends ThreeScene {\n  public readonly vizWrapper: Group;\n  public readonly stats: Stats;\n  private grid?: GridHelper;\n  private options = DEFAULT_OPTIONS_SCENE;\n\n  constructor(options = DEFAULT_OPTIONS_SCENE) {\n    super();\n    this.vizWrapper = new Group();\n    this.add(this.vizWrapper);\n\n    this.stats = new Stats();\n    this.stats.showPanel(0);\n\n    this.initLights();\n    this.initGrid();\n    this.updateOptions(options);\n  }\n\n  initLights() {\n    [\n      [-1, 0],\n      [1, 0],\n      [0, -1],\n      [0, 1],\n    ].forEach(positions => {\n      const directionalLight = new DirectionalLight(0xffffff, 0.4);\n      [directionalLight.position.x, directionalLight.position.y] = positions;\n      directionalLight.position.z = 1;\n      this.add(directionalLight);\n    });\n    const ambientLight = new AmbientLight(0xffffff, 0.2);\n    this.add(ambientLight);\n  }\n\n  initGrid() {\n    this.grid = new GridHelper(0, 0);\n    this.add(this.grid);\n  }\n\n  addObject(object: Object3D) {\n    this.vizWrapper.add(object);\n  }\n\n  addVisualization(args: { object?: Object3D }) {\n    const { object } = args;\n    if (!object) {\n      return;\n    }\n    if (!this.vizWrapper.getObjectById(object.id)) {\n      this.addObject(object);\n    }\n  }\n\n  getObjectByName(name: string) {\n    return this.vizWrapper.getObjectByName(name);\n  }\n\n  updateOptions(options = DEFAULT_OPTIONS_SCENE) {\n    this.options = {\n      ...DEFAULT_OPTIONS_SCENE,\n      ...options,\n    };\n\n    const {\n      backgroundColor,\n      gridCenterlineColor,\n      gridColor,\n      gridDivisions,\n      gridSize,\n    } = this.options;\n\n    this.grid?.copy(\n      new GridHelper(gridSize, gridDivisions, gridCenterlineColor, gridColor),\n    );\n    this.grid?.rotateX(-Math.PI / 2);\n\n    this.background = new Color(backgroundColor);\n  }\n}\n\nexport default Scene;\n","/**\n * Software License Agreement (BSD License)\n\n Copyright (c) 2014, Worcester Polytechnic Institute, Robert Bosch\n LLC, Yujin Robot. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions\n are met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n * Neither the name of Worcester Polytechnic Institute, Robert\n Bosch LLC, Yujin Robot nor the names of its contributors may be\n used to endorse or promote products derived from this software\n without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\n LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\n ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n * @author Julius Kammerl - jkammerl@willowgarage.com\n */\n\nimport {\n  Geometry,\n  Object3D,\n  Points,\n  ShaderMaterial,\n  Texture,\n  Vector3,\n} from 'three';\n\nimport { DEFAULT_OPTIONS_DEPTHCLOUD } from '../utils/constants';\nimport { assertIsHTMLVideoElement } from '../utils/helpers';\n\nconst vertexShader = `uniform sampler2D map;\n\nuniform float width;\nuniform float height;\nuniform float nearClipping, farClipping;\n\nuniform float pointSize;\nuniform float zOffset;\n\nuniform float focallength;\nuniform float maxDepthPerTile;\nuniform float resolutionFactor;\n\nvarying vec2 vUvP;\nvarying vec2 colorP;\n\nvarying float depthVariance;\nvarying float maskVal;\n\nfloat sampleDepth(vec2 pos)\n  {\n    float depth;\n\n    vec2 vUv = vec2( pos.x / (width*2.0), pos.y / (height*2.0)+0.5 );\n    vec2 vUv2 = vec2( pos.x / (width*2.0)+0.5, pos.y / (height*2.0)+0.5 );\n\n    vec4 depthColor = texture2D( map, vUv );\n\n    depth = ( depthColor.r + depthColor.g + depthColor.b ) / 3.0 ;\n\n    if (depth>0.99)\n    {\n      vec4 depthColor2 = texture2D( map, vUv2 );\n      float depth2 = ( depthColor2.r + depthColor2.g + depthColor2.b ) / 3.0 ;\n      depth = 0.99+depth2;\n    }\n\n    return depth;\n  }\n\nfloat median(float a, float b, float c)\n  {\n    float r=a;\n\n    if ( (a<b) && (b<c) )\n    {\n      r = b;\n    }\n    if ( (a<c) && (c<b) )\n    {\n      r = c;\n    }\n    return r;\n  }\n\nfloat variance(float d1, float d2, float d3, float d4, float d5, float d6, float d7, float d8, float d9)\n  {\n    float mean = (d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9) / 9.0;\n    float t1 = (d1-mean);\n    float t2 = (d2-mean);\n    float t3 = (d3-mean);\n    float t4 = (d4-mean);\n    float t5 = (d5-mean);\n    float t6 = (d6-mean);\n    float t7 = (d7-mean);\n    float t8 = (d8-mean);\n    float t9 = (d9-mean);\n    float v = (t1*t1+t2*t2+t3*t3+t4*t4+t5*t5+t6*t6+t7*t7+t8*t8+t9*t9)/9.0;\n    return v;\n  }\n\nvec2 decodeDepth(vec2 pos)\n  {\n    vec2 ret;\n\n\n    float depth1 = sampleDepth(vec2(position.x-1.0, position.y-1.0));\n    float depth2 = sampleDepth(vec2(position.x, position.y-1.0));\n    float depth3 = sampleDepth(vec2(position.x+1.0, position.y-1.0));\n    float depth4 = sampleDepth(vec2(position.x-1.0, position.y));\n    float depth5 = sampleDepth(vec2(position.x, position.y));\n    float depth6 = sampleDepth(vec2(position.x+1.0, position.y));\n    float depth7 = sampleDepth(vec2(position.x-1.0, position.y+1.0));\n    float depth8 = sampleDepth(vec2(position.x, position.y+1.0));\n    float depth9 = sampleDepth(vec2(position.x+1.0, position.y+1.0));\n\n    float median1 = median(depth1, depth2, depth3);\n    float median2 = median(depth4, depth5, depth6);\n    float median3 = median(depth7, depth8, depth9);\n\n    ret.x = median(median1, median2, median3);\n    ret.y = variance(depth1, depth2, depth3, depth4, depth5, depth6, depth7, depth8, depth9);\n\n    return ret;\n\n  }\n\n\nvoid main() {\n\n  vUvP = vec2( position.x / (width*2.0), position.y / (height*2.0)+0.5 );\n  colorP = vec2( position.x / (width*2.0)+0.5 , position.y / (height*2.0)  );\n\n  vec4 pos = vec4(0.0,0.0,0.0,0.0);\n  depthVariance = 0.0;\n\n  if ( (vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>0.0))\n  {\n    vec2 smp = decodeDepth(vec2(position.x, position.y));\n    float depth = smp.x;\n    depthVariance = smp.y;\n\n    float z = -depth;\n\n    pos = vec4(\n      ( position.x / width - 0.5 ) * z * 0.5 * maxDepthPerTile * resolutionFactor * (1000.0/focallength) * -1.0,\n      ( position.y / height - 0.5 ) * z * 0.5 * maxDepthPerTile * resolutionFactor * (1000.0/focallength),\n      (- z + zOffset / 1000.0) * maxDepthPerTile,\n      1.0);\n\n    vec2 maskP = vec2( position.x / (width*2.0), position.y / (height*2.0)  );\n    vec4 maskColor = texture2D( map, maskP );\n    maskVal = ( maskColor.r + maskColor.g + maskColor.b ) / 3.0 ;\n  }\n\n  gl_PointSize = pointSize;\n  gl_Position = projectionMatrix * modelViewMatrix * pos;\n\n}`;\n\nconst fragmentShader = `uniform sampler2D map;\nuniform float varianceThreshold;\nuniform float whiteness;\n\nvarying vec2 vUvP;\nvarying vec2 colorP;\n\nvarying float depthVariance;\nvarying float maskVal;\n\n\nvoid main() {\n\n  vec4 color;\n\n  if ( (depthVariance>varianceThreshold) || (maskVal>0.5) ||(vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>1.0))\n  {\n    discard;\n  }\n  else\n  {\n    color = texture2D( map, colorP );\n\n    float fader = whiteness /100.0;\n\n    color.r = color.r * (1.0-fader)+ fader;\n\n    color.g = color.g * (1.0-fader)+ fader;\n\n    color.b = color.b * (1.0-fader)+ fader;\n\n    color.a = 1.0;//smoothstep( 20000.0, -20000.0, gl_FragCoord.z / gl_FragCoord.w );\n  }\n\n  gl_FragColor = vec4( color.r, color.g, color.b, color.a );\n\n}`;\n\nclass DepthCloudObject extends Object3D {\n  private readonly options = DEFAULT_OPTIONS_DEPTHCLOUD;\n  private readonly url: string;\n  private metaLoaded = false;\n  private video: HTMLImageElement | HTMLVideoElement | undefined;\n  private texture: Texture | undefined;\n  private geometry: Geometry | undefined;\n  private material: ShaderMaterial | undefined;\n  private mesh: Points | undefined;\n\n  constructor(url: string, options = DEFAULT_OPTIONS_DEPTHCLOUD) {\n    super();\n    this.options = {\n      ...DEFAULT_OPTIONS_DEPTHCLOUD,\n      ...options,\n    };\n    this.url = url;\n\n    this.animate = this.animate.bind(this);\n    this.onMetaLoaded = this.onMetaLoaded.bind(this);\n  }\n\n  onMetaLoaded() {\n    this.metaLoaded = true;\n    this.initStreamer();\n  }\n\n  isMjpeg() {\n    const { streamType } = this.options;\n    return streamType.toLowerCase() === 'mjpeg';\n  }\n\n  initVideo() {\n    const { height, width } = this.options;\n\n    this.video = document.createElement(this.isMjpeg() ? 'img' : 'video');\n    this.video.width = width;\n    this.video.height = height;\n    this.video.addEventListener(\n      this.isMjpeg() ? 'load' : 'loadedmetadata',\n      this.onMetaLoaded,\n      false,\n    );\n\n    if (!this.isMjpeg()) {\n      assertIsHTMLVideoElement(this.video);\n      this.video.loop = true;\n    }\n\n    this.video.src = this.url;\n    this.video.crossOrigin = 'Anonymous';\n    this.video.setAttribute('crossorigin', 'Anonymous');\n  }\n\n  initStreamer() {\n    const {\n      f,\n      height,\n      maxDepthPerTile,\n      pointSize,\n      varianceThreshold,\n      whiteness,\n      width,\n    } = this.options;\n    const resolutionFactor = Math.max(width, height) / 1024;\n    if (this.metaLoaded) {\n      this.texture = new Texture(this.video);\n      this.geometry = new Geometry();\n\n      const halfWidth = width / 2;\n      const halfHeight = height / 2;\n      for (let i = 0, l = halfWidth * halfHeight; i < l; i += 1) {\n        this.geometry.vertices.push(\n          new Vector3(i % halfWidth, i / halfWidth, 0),\n        );\n      }\n\n      this.material = new ShaderMaterial({\n        uniforms: {\n          map: { value: this.texture },\n          width: { value: halfWidth },\n          height: { value: halfHeight },\n          focallength: { value: f },\n          pointSize: { value: pointSize },\n          zOffset: { value: 0 },\n          whiteness: { value: whiteness },\n          varianceThreshold: { value: varianceThreshold },\n          maxDepthPerTile: { value: maxDepthPerTile },\n          resolutionFactor: { value: resolutionFactor },\n        },\n        vertexShader,\n        fragmentShader,\n      });\n\n      this.mesh = new Points(this.geometry, this.material);\n      this.mesh.frustumCulled = false;\n      this.mesh.position.set(0, 0, 0);\n\n      this.add(this.mesh);\n\n      requestAnimationFrame(this.animate);\n    }\n  }\n\n  animate() {\n    if (!this.texture) {\n      return;\n    }\n    if (this.isMjpeg()) {\n      this.texture.needsUpdate = true;\n    } else {\n      assertIsHTMLVideoElement(this.video);\n      if (this.video.readyState === this.video.HAVE_ENOUGH_DATA) {\n        this.texture.needsUpdate = true;\n      }\n    }\n    if (this.video?.src) {\n      requestAnimationFrame(this.animate);\n    }\n  }\n\n  startStream() {\n    if (!this.isMjpeg()) {\n      assertIsHTMLVideoElement(this.video);\n      this.video.play();\n    }\n  }\n\n  stopStream() {\n    if (!this.isMjpeg()) {\n      assertIsHTMLVideoElement(this.video);\n      this.video.pause();\n    }\n    this.video?.removeAttribute('src');\n  }\n}\n\nexport default DepthCloudObject;\n","import { DEFAULT_OPTIONS_DEPTHCLOUD } from '../utils/constants';\nimport DepthCloudObject from '../primitives/DepthCloudObject';\nimport LiveCore from '../core/live';\n\nclass DepthCloud extends LiveCore<{}, DepthCloudObject> {\n  private url: string;\n\n  constructor(url: string, options = DEFAULT_OPTIONS_DEPTHCLOUD) {\n    super({\n      sources: [],\n      options: {\n        ...DEFAULT_OPTIONS_DEPTHCLOUD,\n        ...options,\n      },\n    });\n    this.url = url;\n    this.object = new DepthCloudObject(url, options);\n  }\n\n  subscribe = () => {\n    this.object?.initVideo();\n    this.object?.startStream();\n  };\n\n  unsubscribe = () => {\n    this.object?.stopStream();\n  };\n}\n\nexport default DepthCloud;\n","// @ts-nocheck\n/* tslint-disable */\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\n/** *\n Edited from THREE.EditorControls\n Change in this.zoom to adjust camera zoom rather than position\n Change in this.pan to consider camera zoom rather than position\n Change in this.rotate to disable spherical.phi\n Change to this.panSpeed and this.zoomSpeed\n ** */\n\nimport { Box3, EventDispatcher, Matrix3, Sphere, Spherical, Vector2, Vector3 } from 'three';\n\nconst MapControls2D = function(object, domElement) {\n  domElement = domElement !== undefined ? domElement : document;\n\n  // API\n\n  this.enabled = true;\n  this.center = new Vector3();\n  this.panSpeed = 0.01;\n  this.zoomSpeed = 0.05;\n  this.rotationSpeed = 0.005;\n\n  // internals\n\n  const scope = this;\n  const vector = new Vector3();\n  const delta = new Vector3();\n  const box = new Box3();\n\n  const STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2 };\n  let state = STATE.NONE;\n\n  const { center } = this;\n  const normalMatrix = new Matrix3();\n  const pointer = new Vector2();\n  const pointerOld = new Vector2();\n  const spherical = new Spherical();\n  const sphere = new Sphere();\n\n  // events\n\n  const changeEvent = { type: 'change' };\n\n  this.focus = function(target) {\n    let distance;\n\n    box.setFromObject(target);\n\n    if (box.isEmpty() === false) {\n      box.getCenter(center);\n      distance = box.getBoundingSphere(sphere).radius;\n    } else {\n      // Focusing on an Group, AmbientLight, etc\n\n      center.setFromMatrixPosition(target.matrixWorld);\n      distance = 0.1;\n    }\n\n    delta.set(0, 0, 1);\n    delta.applyQuaternion(object.quaternion);\n    delta.multiplyScalar(distance * 4);\n\n    object.position.copy(center).add(delta);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  this.pan = function(positionDelta) {\n    // var distance = object.position.distanceTo( center );\n\n    const { zoom } = object;\n\n    positionDelta.multiplyScalar(scope.panSpeed / zoom);\n    positionDelta.applyMatrix3(normalMatrix.getNormalMatrix(object.matrix));\n\n    object.position.add(positionDelta);\n    center.add(positionDelta);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  this.zoom = function(zoomDelta) {\n    object.zoom -= (zoomDelta.z || 0) * object.zoom * 0.1;\n    object.updateProjectionMatrix();\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  this.rotate = function(rotationDelta) {\n    vector.copy(object.position).sub(center);\n\n    // spherical.setFromVector3( vector );\n    spherical.setFromCartesianCoords(-1 * vector.x, vector.z, vector.y);\n\n    spherical.theta += rotationDelta.x * scope.rotationSpeed;\n    // spherical.phi += rotationDelta.y * scope.rotationSpeed;\n\n    spherical.makeSafe();\n\n    const tempRelPosition = vector.setFromSpherical(spherical);\n    vector.set(-1 * tempRelPosition.x, tempRelPosition.z, tempRelPosition.y);\n\n    object.position.copy(center).add(vector);\n\n    object.lookAt(center);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  // mouse\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n\n    pointer.set(event.clientX, event.clientY);\n\n    const movementX = pointer.x - pointerOld.x;\n    const movementY = pointer.y - pointerOld.y;\n\n    if (state === STATE.ROTATE) {\n      scope.rotate(delta.set(-movementX, -movementY, 0));\n    } else if (state === STATE.ZOOM) {\n      scope.zoom(delta.set(0, 0, movementY));\n    } else if (state === STATE.PAN) {\n      scope.pan(delta.set(-movementX, movementY, 0));\n    }\n\n    pointerOld.set(event.clientX, event.clientY);\n  }\n\n  function onMouseUp() {\n    domElement.removeEventListener('mousemove', onMouseMove, false);\n    domElement.removeEventListener('mouseup', onMouseUp, false);\n    domElement.removeEventListener('mouseout', onMouseUp, false);\n    domElement.removeEventListener('dblclick', onMouseUp, false);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    event.preventDefault();\n\n    // Normalize deltaY due to https://bugzilla.mozilla.org/show_bug.cgi?id=1392460\n    scope.zoom(delta.set(0, 0, event.deltaY > 0 ? 1 : -1));\n  }\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return;\n\n    if (event.button === 0) {\n      state = STATE.ROTATE;\n    } else if (event.button === 1) {\n      state = STATE.ZOOM;\n    } else if (event.button === 2) {\n      state = STATE.PAN;\n    }\n\n    pointerOld.set(event.clientX, event.clientY);\n\n    domElement.addEventListener('mousemove', onMouseMove, false);\n    domElement.addEventListener('mouseup', onMouseUp, false);\n    domElement.addEventListener('mouseout', onMouseUp, false);\n    domElement.addEventListener('dblclick', onMouseUp, false);\n  }\n\n  function contextmenu(event) {\n    event.preventDefault();\n  }\n\n  domElement.addEventListener('contextmenu', contextmenu, false);\n  domElement.addEventListener('mousedown', onMouseDown, false);\n  domElement.addEventListener('wheel', onMouseWheel, false);\n\n  // touch\n\n  const touches = [new Vector3(), new Vector3(), new Vector3()];\n  const prevTouches = [new Vector3(), new Vector3(), new Vector3()];\n\n  let prevDistance = null;\n\n  function touchStart(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 1:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        break;\n\n      case 2:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[1].pageX, event.touches[1].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        prevDistance = touches[0].distanceTo(touches[1]);\n        break;\n    }\n\n    prevTouches[0].copy(touches[0]);\n    prevTouches[1].copy(touches[1]);\n  }\n\n  function touchMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    function getClosest(touch, allTouches) {\n      let closest = allTouches[0];\n\n      for (const i in allTouches) {\n        if (closest.distanceTo(touch) > allTouches[i].distanceTo(touch)) {\n          closest = allTouches[i];\n        }\n      }\n\n      return closest;\n    }\n\n    switch (event.touches.length) {\n      case 1:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        scope.rotate(\n          touches[0]\n            .sub(getClosest(touches[0], prevTouches))\n            .multiplyScalar(-1),\n        );\n        break;\n\n      case 2:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[1].pageX, event.touches[1].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        const distance = touches[0].distanceTo(touches[1]);\n        scope.zoom(delta.set(0, 0, prevDistance - distance));\n        prevDistance = distance;\n\n        const offset0 = touches[0]\n          .clone()\n          .sub(getClosest(touches[0], prevTouches));\n        const offset1 = touches[1]\n          .clone()\n          .sub(getClosest(touches[1], prevTouches));\n        offset0.x = -offset0.x;\n        offset1.x = -offset1.x;\n\n        scope.pan(offset0.add(offset1));\n\n        break;\n    }\n\n    prevTouches[0].copy(touches[0]);\n    prevTouches[1].copy(touches[1]);\n  }\n\n  domElement.addEventListener('touchstart', touchStart, false);\n  domElement.addEventListener('touchmove', touchMove, false);\n\n  this.dispose = function() {\n    domElement.removeEventListener('contextmenu', contextmenu, false);\n    domElement.removeEventListener('mousedown', onMouseDown, false);\n    domElement.removeEventListener('wheel', onMouseWheel, false);\n\n    domElement.removeEventListener('mousemove', onMouseMove, false);\n    domElement.removeEventListener('mouseup', onMouseUp, false);\n    domElement.removeEventListener('mouseout', onMouseUp, false);\n    domElement.removeEventListener('dblclick', onMouseUp, false);\n\n    domElement.removeEventListener('touchstart', touchStart, false);\n    domElement.removeEventListener('touchmove', touchMove, false);\n  };\n};\n\nMapControls2D.prototype = Object.create(EventDispatcher.prototype);\nMapControls2D.prototype.constructor = MapControls2D;\n\nexport { MapControls2D };\n","// @ts-nocheck\n/* tslint-disable */\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\n/**\n * Edited from THREE.EditorControls\n * Changes to this.rotate function to take spherical wrt z as vertical axis\n * */\n\nimport { Box3, EventDispatcher, Matrix3, Sphere, Spherical, Vector2, Vector3 } from 'three';\n\nconst EditorControls = function(object, domElement) {\n  domElement = domElement !== undefined ? domElement : document;\n\n  // API\n\n  this.enabled = true;\n  this.center = new Vector3();\n  this.panSpeed = 0.002;\n  this.zoomSpeed = 0.1;\n  this.rotationSpeed = 0.005;\n\n  // internals\n\n  const scope = this;\n  const vector = new Vector3();\n  const delta = new Vector3();\n  const box = new Box3();\n\n  const STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2 };\n  let state = STATE.NONE;\n\n  const { center } = this;\n  const normalMatrix = new Matrix3();\n  const pointer = new Vector2();\n  const pointerOld = new Vector2();\n  const spherical = new Spherical();\n  const sphere = new Sphere();\n\n  // events\n\n  const changeEvent = { type: 'change' };\n\n  this.focus = function(target) {\n    let distance;\n\n    box.setFromObject(target);\n\n    if (box.isEmpty() === false) {\n      box.getCenter(center);\n      distance = box.getBoundingSphere(sphere).radius;\n    } else {\n      // Focusing on an Group, AmbientLight, etc\n\n      center.setFromMatrixPosition(target.matrixWorld);\n      distance = 0.1;\n    }\n\n    delta.set(0, 0, 1);\n    delta.applyQuaternion(object.quaternion);\n    delta.multiplyScalar(distance * 4);\n\n    object.position.copy(center).add(delta);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  this.pan = function(delta) {\n    const distance = object.position.distanceTo(center);\n\n    delta.multiplyScalar(distance * scope.panSpeed);\n    delta.applyMatrix3(normalMatrix.getNormalMatrix(object.matrix));\n\n    object.position.add(delta);\n    center.add(delta);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  this.zoom = function(delta) {\n    const distance = object.position.distanceTo(center);\n\n    delta.multiplyScalar(distance * scope.zoomSpeed);\n\n    if (delta.length() > distance) return;\n\n    delta.applyMatrix3(normalMatrix.getNormalMatrix(object.matrix));\n\n    object.position.add(delta);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  this.rotate = function(delta) {\n    vector.copy(object.position).sub(center);\n\n    // spherical.setFromVector3( vector );\n    spherical.setFromCartesianCoords(-1 * vector.x, vector.z, vector.y);\n\n    spherical.theta += delta.x * scope.rotationSpeed;\n    spherical.phi += delta.y * scope.rotationSpeed;\n\n    spherical.makeSafe();\n\n    const tempRelPosition = vector.setFromSpherical(spherical);\n    vector.set(-1 * tempRelPosition.x, tempRelPosition.z, tempRelPosition.y);\n\n    object.position.copy(center).add(vector);\n\n    object.lookAt(center);\n\n    scope.dispatchEvent(changeEvent);\n  };\n\n  // mouse\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return;\n\n    if (event.button === 0) {\n      state = STATE.ROTATE;\n    } else if (event.button === 1) {\n      state = STATE.ZOOM;\n    } else if (event.button === 2) {\n      state = STATE.PAN;\n    }\n\n    pointerOld.set(event.clientX, event.clientY);\n\n    domElement.addEventListener('mousemove', onMouseMove, false);\n    domElement.addEventListener('mouseup', onMouseUp, false);\n    domElement.addEventListener('mouseout', onMouseUp, false);\n    domElement.addEventListener('dblclick', onMouseUp, false);\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n\n    pointer.set(event.clientX, event.clientY);\n\n    const movementX = pointer.x - pointerOld.x;\n    const movementY = pointer.y - pointerOld.y;\n\n    if (state === STATE.ROTATE) {\n      scope.rotate(delta.set(-movementX, -movementY, 0));\n    } else if (state === STATE.ZOOM) {\n      scope.zoom(delta.set(0, 0, movementY));\n    } else if (state === STATE.PAN) {\n      scope.pan(delta.set(-movementX, movementY, 0));\n    }\n\n    pointerOld.set(event.clientX, event.clientY);\n  }\n\n  function onMouseUp(event) {\n    domElement.removeEventListener('mousemove', onMouseMove, false);\n    domElement.removeEventListener('mouseup', onMouseUp, false);\n    domElement.removeEventListener('mouseout', onMouseUp, false);\n    domElement.removeEventListener('dblclick', onMouseUp, false);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    event.preventDefault();\n\n    // Normalize deltaY due to https://bugzilla.mozilla.org/show_bug.cgi?id=1392460\n    scope.zoom(delta.set(0, 0, event.deltaY > 0 ? 1 : -1));\n  }\n\n  function contextmenu(event) {\n    event.preventDefault();\n  }\n\n  this.dispose = function() {\n    domElement.removeEventListener('contextmenu', contextmenu, false);\n    domElement.removeEventListener('mousedown', onMouseDown, false);\n    domElement.removeEventListener('wheel', onMouseWheel, false);\n\n    domElement.removeEventListener('mousemove', onMouseMove, false);\n    domElement.removeEventListener('mouseup', onMouseUp, false);\n    domElement.removeEventListener('mouseout', onMouseUp, false);\n    domElement.removeEventListener('dblclick', onMouseUp, false);\n\n    domElement.removeEventListener('touchstart', touchStart, false);\n    domElement.removeEventListener('touchmove', touchMove, false);\n  };\n\n  domElement.addEventListener('contextmenu', contextmenu, false);\n  domElement.addEventListener('mousedown', onMouseDown, false);\n  domElement.addEventListener('wheel', onMouseWheel, false);\n\n  // touch\n\n  const touches = [new Vector3(), new Vector3(), new Vector3()];\n  const prevTouches = [new Vector3(), new Vector3(), new Vector3()];\n\n  let prevDistance = null;\n\n  function touchStart(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 1:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        break;\n\n      case 2:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[1].pageX, event.touches[1].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        prevDistance = touches[0].distanceTo(touches[1]);\n        break;\n    }\n\n    prevTouches[0].copy(touches[0]);\n    prevTouches[1].copy(touches[1]);\n  }\n\n  function touchMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    function getClosest(touch, touches) {\n      let closest = touches[0];\n\n      for (const i in touches) {\n        if (closest.distanceTo(touch) > touches[i].distanceTo(touch)) {\n          closest = touches[i];\n        }\n      }\n\n      return closest;\n    }\n\n    switch (event.touches.length) {\n      case 1:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        scope.rotate(\n          touches[0]\n            .sub(getClosest(touches[0], prevTouches))\n            .multiplyScalar(-1),\n        );\n        break;\n\n      case 2:\n        touches[0]\n          .set(event.touches[0].pageX, event.touches[0].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        touches[1]\n          .set(event.touches[1].pageX, event.touches[1].pageY, 0)\n          .divideScalar(window.devicePixelRatio);\n        let distance = touches[0].distanceTo(touches[1]);\n        scope.zoom(delta.set(0, 0, prevDistance - distance));\n        prevDistance = distance;\n\n        let offset0 = touches[0]\n          .clone()\n          .sub(getClosest(touches[0], prevTouches));\n        let offset1 = touches[1]\n          .clone()\n          .sub(getClosest(touches[1], prevTouches));\n        offset0.x = -offset0.x;\n        offset1.x = -offset1.x;\n\n        scope.pan(offset0.add(offset1));\n\n        break;\n    }\n\n    prevTouches[0].copy(touches[0]);\n    prevTouches[1].copy(touches[1]);\n  }\n\n  domElement.addEventListener('touchstart', touchStart, false);\n  domElement.addEventListener('touchmove', touchMove, false);\n};\n\nEditorControls.prototype = Object.create(EventDispatcher.prototype);\nEditorControls.prototype.constructor = EditorControls;\n\nexport { EditorControls };\n","import { Object3D, PerspectiveCamera, Vector3, WebGLRenderer } from 'three';\nimport { ResizeObserver as ResizeObserverPolyfill } from '@juggle/resize-observer';\nimport { EditorControls } from '../utils/editorControls';\n\nimport Scene from '../core/scene';\nimport { DEFAULT_OPTIONS_SCENE } from '../utils/constants';\nimport { assertIsDefined } from '../utils/helpers';\n\nconst ResizeObserver = (window as any).ResizeObserver || ResizeObserverPolyfill;\n\nclass Viewer3d {\n  public options = {};\n  public readonly scene: Scene;\n  private previousWidth = 0;\n  private previousHeight = 0;\n  private readonly ro: typeof ResizeObserver;\n  public renderer?: WebGLRenderer;\n  public camera?: PerspectiveCamera;\n  private container?: HTMLElement;\n  public controls?: any;\n\n  constructor(scene: Scene | null, options = {}) {\n    this.options = {\n      ...DEFAULT_OPTIONS_SCENE,\n      ...options,\n    };\n    this.scene =\n      scene || new Scene(this.options as typeof DEFAULT_OPTIONS_SCENE);\n    this.ro = new ResizeObserver((entries: unknown[]) => {\n      if (entries.length > 0) {\n        this.onWindowResize();\n      }\n    });\n\n    this.initCamera();\n    this.animate = this.animate.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  animate() {\n    this.scene.stats.begin();\n    this.scene.updateMatrixWorld();\n    assertIsDefined(this.camera);\n    this.renderer?.render(this.scene, this.camera);\n    this.scene.stats.end();\n    requestAnimationFrame(this.animate);\n  }\n\n  initCamera() {\n    this.camera = new PerspectiveCamera(50, 1, 0.01, 1000);\n    this.camera.position.set(0, 5, 10);\n    this.camera.up = new Vector3(0, 0, 1);\n    this.camera.lookAt(new Vector3());\n\n    this.scene.add(this.camera);\n  }\n\n  setContainer(domNode: HTMLElement) {\n    this.container = domNode;\n    this.initRenderer();\n    // @ts-ignore\n    this.controls = new EditorControls(this.camera, this.container);\n    this.controls.enableDamping = true;\n    this.ro.observe(this.container);\n    requestAnimationFrame(this.animate);\n    this.onWindowResize();\n  }\n\n  initRenderer() {\n    const renderer = new WebGLRenderer({ antialias: true });\n    renderer.autoClear = false;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    assertIsDefined(this.container);\n    renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);\n    this.renderer = renderer;\n    this.container.appendChild(renderer.domElement);\n  }\n\n  updateOptions(options = DEFAULT_OPTIONS_SCENE) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n    this.scene.updateOptions(this.options as typeof DEFAULT_OPTIONS_SCENE);\n  }\n\n  destroy() {\n    this.ro.unobserve(this.container!);\n  }\n\n  onWindowResize() {\n    assertIsDefined(this.container);\n    assertIsDefined(this.camera);\n    const { offsetHeight, offsetWidth } = this.container;\n    if (\n      Math.abs(offsetWidth - this.previousWidth) > 10 ||\n      Math.abs(offsetHeight - this.previousHeight) > 10\n    ) {\n      this.camera.aspect = offsetWidth / offsetHeight;\n      this.camera.updateProjectionMatrix();\n      this.renderer?.setSize(offsetWidth, offsetHeight);\n      this.previousWidth = offsetWidth;\n      this.previousHeight = offsetHeight;\n    }\n  }\n\n  addVisualization(vizObject: { object?: Object3D }) {\n    this.scene.addVisualization(vizObject);\n  }\n}\n\nexport default Viewer3d;\n","import { Group, Object3D, Quaternion, Vector3 } from 'three';\nimport ROSLIB, { Ros } from 'roslib';\n\nimport Viewer3d from './3d';\nimport { DEFAULT_OPTIONS_TF_VIEWER } from '../utils/constants';\nimport URDFCore from '../core/urdf';\nimport { URDFRobot } from 'urdf-js/src/URDFClasses';\n\nclass TfViewer extends Viewer3d {\n  public options: {\n    onFramesListUpdate?: () => void;\n    selectedFrame?: string;\n  } = {};\n  private readonly ros: Ros;\n  private readonly framesList: string[] = [];\n  private readonly onFramesListUpdate: (framesList: string[]) => void;\n\n  constructor(\n    rosInstance: Ros,\n    options: {\n      onFramesListUpdate?: (framesList: string[]) => void;\n      selectedFrame?: string;\n    } = {},\n  ) {\n    super(null, {\n      ...DEFAULT_OPTIONS_TF_VIEWER,\n      ...options,\n    });\n\n    this.ros = rosInstance;\n    this.onFramesListUpdate = options.onFramesListUpdate || (() => {});\n\n    this.initRosEvents();\n    this.getTFMessages = this.getTFMessages.bind(this);\n    this.setFrameTransform = this.setFrameTransform.bind(this);\n    this.addRobot = this.addRobot.bind(this);\n    this.onRosConnection = this.onRosConnection.bind(this);\n  }\n\n  initRosEvents() {\n    this.ros.on('connection', () => {\n      this.onRosConnection();\n    });\n    // types for ros are not upto date\n    if ((this.ros as any).isConnected) {\n      this.onRosConnection();\n    }\n  }\n\n  onRosConnection() {\n    // types for ros are not upto date\n    // @ts-ignore\n    this.ros.getTopics((rosTopics: { topics: string[]; types: string[] }) => {\n      ['/tf', '/tf_static'].forEach(name => {\n        const topic = new ROSLIB.Topic({\n          ros: this.ros,\n          name,\n          messageType: rosTopics.types[rosTopics.topics.indexOf(name)],\n        });\n        topic.subscribe(this.getTFMessages as any);\n      });\n    });\n  }\n\n  getTFMessages(args: { transforms: RosMessage.TransformStamped[] }) {\n    const { transforms } = args;\n    transforms.forEach(\n      ({\n        header: { frame_id: parentFrameId },\n        child_frame_id: childFrameId,\n        transform: {\n          rotation: { w: rw, x: rx, y: ry, z: rz },\n          translation: { x, y, z },\n        },\n      }) => {\n        const [childObject, parentObject] = [\n          this.getObjectOrCreate(`${childFrameId}-tf-connector`),\n          this.getObjectOrCreate(`${parentFrameId}-tf-connector`),\n        ];\n\n        parentObject.add(childObject);\n        childObject.position.set(x, y, z);\n        childObject.quaternion.set(rx, ry, rz, rw);\n\n        [parentFrameId, childFrameId].forEach(frame => {\n          if (this.framesList.indexOf(`${frame}-tf-connector`) === -1) {\n            this.framesList.push(`${frame}-tf-connector`);\n          }\n        });\n      },\n    );\n    this.setFrameTransform();\n  }\n\n  getObjectOrCreate(frameId: string) {\n    const {\n      scene: { vizWrapper },\n    } = this;\n    if (this.framesList.indexOf(frameId) === -1) {\n      this.framesList.push(frameId);\n      this.onFramesListUpdate(this.framesList);\n    }\n    const existingFrame = vizWrapper.getObjectByName(frameId);\n    if (existingFrame) {\n      return existingFrame;\n    }\n\n    const newFrame = new Group();\n    newFrame.name = frameId;\n    this.scene.addObject(newFrame);\n    return newFrame;\n  }\n\n  setFrameTransform() {\n    const {\n      options: { selectedFrame },\n      scene: { vizWrapper },\n    } = this;\n    if (!selectedFrame) {\n      return;\n    }\n    const currentFrameObject = this.getObjectOrCreate(selectedFrame);\n\n    if (currentFrameObject) {\n      vizWrapper.position.set(0, 0, 0);\n      vizWrapper.quaternion.set(0, 0, 0, 1);\n      vizWrapper.updateMatrixWorld();\n\n      const worldPos = new Vector3();\n      const worldQuat = new Quaternion();\n\n      currentFrameObject.getWorldQuaternion(worldQuat);\n      const { w: quatw, x: quatx, y: quaty, z: quatz } = worldQuat;\n      vizWrapper.quaternion.set(-quatx, -quaty, -quatz, quatw);\n\n      vizWrapper.updateMatrixWorld();\n\n      currentFrameObject.getWorldPosition(worldPos);\n      const oppPos = worldPos.negate();\n      vizWrapper.position.set(oppPos.x, oppPos.y, oppPos.z);\n    }\n  }\n\n  addVisualization(vizObject: {\n    object: Object3D;\n    onHeaderChange: (frameId: string) => void;\n  }) {\n    super.addVisualization(vizObject);\n\n    vizObject.onHeaderChange = newFrameId => {\n      const frameObject = this.getObjectOrCreate(`${newFrameId}-tf-connector`);\n      frameObject.add(vizObject.object);\n    };\n  }\n\n  attachObjectOutsideTree(object: Object3D & { frameId?: string }) {\n    if (!object.frameId) {\n      return;\n    }\n    const frameObject = this.getObjectOrCreate(\n      `${object.frameId}-tf-connector`,\n    );\n    frameObject.attach(object);\n  }\n\n  addRobot(robotModel: URDFCore<Object3D>) {\n    robotModel.loadFromParam(() => {\n      super.addVisualization(robotModel);\n      const links = (robotModel.object?.children[0] as URDFRobot).links;\n      const linkNames = Object.keys(links);\n      linkNames.map(linkName => {\n        const link = links[linkName];\n        const connector = this.getObjectOrCreate(`${linkName}-tf-connector`);\n        connector.add(link);\n      });\n    });\n  }\n\n  setFixedFrame() {}\n}\n\nexport default TfViewer;\n","import debounce from 'lodash.debounce';\nimport { ControlsManager, RAYCASTER_EVENTS } from 'three-freeform-controls';\nimport ROSLIB, { Ros, Topic } from 'roslib';\nimport LegacyCore from '../core';\nimport {\n  DEFAULT_OPTIONS_INTERACTIVE_MARKER,\n  MESSAGE_TYPE_INTERACTIVEMARKER,\n  MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK,\n} from '../utils/constants';\nimport Group from '../primitives/Group';\nimport InteractiveMarkerManager from '../utils/interactiveMarkerManager';\nimport TfViewer from '../viewers/Tf';\nimport { assertIsDefined } from '../utils/helpers';\nimport { Object3D } from 'three';\n\nclass InteractiveMarkers extends LegacyCore {\n  private init = false;\n  public readonly object = new Group();\n  private readonly viewer: TfViewer;\n  private readonly interactiveMarkerManager: InteractiveMarkerManager;\n  private interactiveMarkersNames = new Set<string>();\n  private readonly interactiveMarkersFrameIds = new Set<string>();\n  private readonly clientId = `amphion-${Math.round(Math.random() * 10 ** 8)}`;\n  private messageSequence = 0;\n  private feedbackTopic: Topic | null = null;\n  private readonly debouncedPublish: ReturnType<typeof debounce>;\n  private freeformControls?: ControlsManager | null;\n\n  constructor(\n    ros: Ros,\n    topicName: string,\n    viewer: TfViewer,\n    options = DEFAULT_OPTIONS_INTERACTIVE_MARKER,\n  ) {\n    super(ros, topicName, MESSAGE_TYPE_INTERACTIVEMARKER, {\n      ...DEFAULT_OPTIONS_INTERACTIVE_MARKER,\n      ...options,\n    });\n\n    this.init = false;\n    this.viewer = viewer;\n\n    this.updateOptions({\n      ...DEFAULT_OPTIONS_INTERACTIVE_MARKER,\n      ...options,\n    });\n\n    this.interactiveMarkerManager = new InteractiveMarkerManager(\n      this.object,\n      viewer,\n      this.options,\n    );\n\n    const { publishThrottleRate } = this.options;\n    this.debouncedPublish = debounce(\n      this.publish.bind(this),\n      publishThrottleRate && publishThrottleRate > 0 ? publishThrottleRate : 0,\n    );\n    this.initFreeformControls();\n    this.publishManual = this.publishManual.bind(this);\n  }\n\n  hide() {\n    super.hide();\n    this.interactiveMarkerManager.setVisible(false);\n  }\n\n  show() {\n    super.show();\n    this.interactiveMarkerManager.setVisible(true);\n  }\n\n  destroy() {\n    super.destroy();\n    this.freeformControls?.destroy();\n    this.freeformControls = null;\n    this.interactiveMarkerManager.reset(true);\n    this.interactiveMarkersNames = new Set();\n  }\n\n  initFreeformControls() {\n    const { camera, controls, renderer, scene } = this.viewer;\n    assertIsDefined(camera);\n    assertIsDefined(renderer);\n    this.freeformControls = new ControlsManager(camera, renderer.domElement);\n    scene.add(this.freeformControls);\n\n    this.freeformControls.listen(RAYCASTER_EVENTS.DRAG_START, () => {\n      controls.enabled = false;\n    });\n\n    // TODO: need to update three-freeform-controls\n    // @ts-ignore\n    this.freeformControls.listen(RAYCASTER_EVENTS.DRAG, (object, handleName) =>\n      this.debouncedPublish(object, handleName),\n    );\n\n    this.freeformControls.listen(\n      RAYCASTER_EVENTS.DRAG_STOP,\n      // TODO: need to update three-freeform-controls\n      // @ts-ignore\n      (object, handleName) => {\n        this.debouncedPublish(object, handleName);\n        controls.enabled = true;\n      },\n    );\n  }\n\n  static makeInteractiveMarkerFeedbackMessage(args: {\n    seq: number;\n    frame_id: string;\n    client_id: string;\n    marker_name: string;\n    control_name?: string;\n    position: RosMessage.Point;\n    quaternion: RosMessage.Quaternion;\n  }) {\n    const {\n      seq,\n      frame_id: frameId,\n      client_id: clientId,\n      marker_name: markerName,\n      control_name: controlName,\n      position,\n      quaternion,\n    } = args;\n    return new ROSLIB.Message({\n      header: {\n        seq,\n        frame_id: frameId,\n        stamp: {\n          secs: 0,\n          nsecs: 0,\n        },\n      },\n      client_id: clientId,\n      marker_name: markerName,\n      control_name: controlName,\n      pose: {\n        position: {\n          x: position.x,\n          y: position.y,\n          z: position.z,\n        },\n        orientation: {\n          x: quaternion.x,\n          y: quaternion.y,\n          z: quaternion.z,\n          w: quaternion.w,\n        },\n      },\n      event_type: 1,\n      menu_entry_id: 0,\n      mouse_point: {\n        x: 0,\n        y: 0,\n        z: 0,\n      },\n      mouse_point_valid: false,\n    });\n  }\n\n  static makeInteractiveMarkerFeedbackTopic(ros: Ros, name: string) {\n    return new ROSLIB.Topic({\n      ros: ros,\n      name: name,\n      messageType: MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK,\n    });\n  }\n\n  publish(object: Object3D, handleName: string) {\n    if (!object) {\n      return;\n    }\n\n    const { frameId, markerName } = object.userData.control;\n    const controlName = object.userData.handlesControlsMap[handleName];\n\n    const message = InteractiveMarkers.makeInteractiveMarkerFeedbackMessage({\n      seq: this.messageSequence,\n      client_id: this.clientId,\n      frame_id: frameId,\n      marker_name: markerName,\n      control_name: controlName,\n      position: object.position,\n      quaternion: object.quaternion,\n    });\n\n    if (this.feedbackTopic !== null) {\n      this.feedbackTopic?.publish(message);\n    }\n\n    this.messageSequence++;\n  }\n\n  publishManual(pose: {\n    position: RosMessage.Point;\n    quaternion: RosMessage.Quaternion;\n  }) {\n    const message = InteractiveMarkers.makeInteractiveMarkerFeedbackMessage({\n      seq: this.messageSequence,\n      client_id: this.clientId,\n      ...pose,\n      frame_id: Array.from(this.interactiveMarkersFrameIds)[0],\n      marker_name: Array.from(this.interactiveMarkersNames)[0],\n    });\n\n    if (this.feedbackTopic !== null) {\n      this.feedbackTopic.publish(message);\n    }\n\n    this.messageSequence++;\n  }\n\n  updateOptions(options: any) {\n    if (options.feedbackTopicName !== undefined) {\n      if (\n        !this.feedbackTopic ||\n        this.feedbackTopic.name !== options.feedbackTopicName.name\n      ) {\n        assertIsDefined(this.ros);\n        this.feedbackTopic = InteractiveMarkers.makeInteractiveMarkerFeedbackTopic(\n          this.ros,\n          options.feedbackTopicName,\n        );\n      }\n    } else {\n      this.feedbackTopic = null;\n    }\n\n    // need a better way to handle interdependent topics\n    const shouldSubscriptionChange =\n      this.options.updateTopicName !== options.topicName && this.init;\n    const guardAgainstOtherOptionsChange =\n      this.topicName === this.options.updateTopicName;\n\n    if (shouldSubscriptionChange && options.updateTopicName !== undefined) {\n      const { messageType, name } = options.updateTopicName;\n      this.changeTopic(name, messageType, true);\n    } else if (shouldSubscriptionChange && guardAgainstOtherOptionsChange) {\n      this.unsubscribe();\n    }\n    super.updateOptions(options);\n  }\n\n  update(\n    message: RosMessage.InteractiveMarker & RosMessage.InteractiveMarkerUpdate,\n  ) {\n    super.update(message);\n    if (message.markers && message.markers.length > 0) {\n      message.markers.forEach(interactiveMarker => {\n        if (!this.interactiveMarkersNames.has(interactiveMarker.name)) {\n          this.interactiveMarkerManager.initMarkers(\n            interactiveMarker,\n            this.freeformControls!,\n            this.options.visible,\n          );\n        }\n        this.interactiveMarkersNames.add(interactiveMarker.name);\n        if (interactiveMarker.header) {\n          this.interactiveMarkersFrameIds.add(\n            interactiveMarker.header.frame_id,\n          );\n        }\n\n        message.markers.forEach(poseObject => {\n          this.interactiveMarkerManager.updatePose(poseObject);\n        });\n      });\n      // need a better way to handle interdependent topics\n      if (!this.init) {\n        this.init = true;\n        if (this.options.updateTopicName !== undefined) {\n          const { messageType, name } = this.options.updateTopicName;\n          this.init = true;\n          this.changeTopic(name, messageType, true);\n        } else {\n          this.unsubscribe();\n        }\n      }\n    }\n\n    // for InteractiveMarkerUpdate sub-message (InteractiveMarkerPose)\n    if (message.poses && message.poses.length > 0) {\n      message.poses.forEach(pose => {\n        this.interactiveMarkerManager.updatePose(pose);\n      });\n    }\n\n    // for InteractiveMarkerUpdate sub-message\n    if (message.erases) {\n      // TODO: implement when test backend available\n      // remove from interactiveMarkerManager and\n      // the this.interactiveMarkersNames cache\n    }\n  }\n\n  reset() {\n    this.interactiveMarkerManager.reset(false);\n  }\n}\n\nexport default InteractiveMarkers;\n","const { open } = require('rosbag');\n\nexport interface BagReadResult {\n  topic: string;\n  message: RosMessage.Base;\n  timestamp: {\n    sec: number;\n    nsec: number;\n  };\n  data: number[];\n  chunkOffset: number;\n  totalChunks: number;\n}\n\ntype Reader = (file: File, result: BagReadResult) => void;\n\nexport default class RosbagBucket {\n  public files: Set<File> = new Set();\n  public topics: Array<{\n    name: string;\n    messageType: string;\n    rosbagFileName: string;\n  }> = [];\n  private readers: {\n    [fileName: string]: {\n      topics: {\n        [topicName: string]: Set<Reader> | undefined;\n      };\n      queue: Array<BagReadResult>;\n      timer?: number;\n      queueStartWaitTimer?: number;\n    };\n  } = {};\n  private firstBagReadResult: BagReadResult | undefined;\n\n  addFile = async (file: File) => {\n    if (this.files.has(file)) {\n      throw new Error('file already exists in the bucket');\n    }\n    this.files.add(file);\n    this.readers[file.name] = { topics: {}, queue: [] };\n    await this.processFile(file);\n  };\n\n  removeFile = async (file: File, cb: () => void) => {\n    if (!this.files.has(file)) {\n      throw new Error('file does not exist in the bucket');\n    }\n    this.files.delete(file);\n    clearTimeout(this.readers[file.name].timer);\n    clearTimeout(this.readers[file.name].queueStartWaitTimer);\n    this.readers[file.name] = {\n      topics: {},\n      queue: [],\n    };\n    this.topics = this.topics.filter(x => x.rosbagFileName !== file.name);\n    cb();\n  };\n\n  addReader = (topic: string, fileName: string, reader: Reader) => {\n    const topicReadersMap = this.readers[fileName].topics;\n    if (!topicReadersMap) {\n      throw new Error(`add ${fileName} to the bucket first`);\n    }\n    if (!topicReadersMap[topic]) {\n      topicReadersMap[topic] = new Set<Reader>();\n    }\n    topicReadersMap[topic]?.add(reader);\n  };\n\n  removeReader = (topic: string, fileName: string, reader: Reader) => {\n    const topicReadersMap = this.readers[fileName].topics;\n    if (!topicReadersMap) {\n      throw new Error(`add ${fileName} to the bucket first`);\n    }\n    if (!topicReadersMap[topic]?.has(reader)) {\n      throw new Error('reader has not yet been added to the bucket');\n    }\n    topicReadersMap[topic]?.delete(reader);\n  };\n\n  processQueue = (file: File) => {\n    const { queue } = this.readers[file.name];\n    if (queue.length === 0) {\n      this.readers[file.name].queueStartWaitTimer = window.setTimeout(() => {\n        this.processQueue(file);\n      }, 500);\n      return;\n    }\n    this.enqueueProcessing(0, file);\n  };\n\n  enqueueProcessing = (index: number, file: File) => {\n    const { queue } = this.readers[file.name];\n    const first = queue[index];\n    const second: BagReadResult | undefined = queue[index + 1];\n    this.processBagReadResult(first, file);\n    if (!second) {\n      // loop over at queue end\n      // note that this loop also starts if the queue is still being\n      // constructed while the message consumption outpaces the construction\n      this.enqueueProcessing(0, file);\n      return;\n    }\n    const { sec: secFirst, nsec: nsecFirst } = first.timestamp;\n    const { sec, nsec } = second.timestamp;\n    const firstTimestampMs = Math.floor(\n      secFirst * 10 ** 3 + nsecFirst / 10 ** 6,\n    );\n    const timestampMs = Math.floor(sec * 10 ** 3 + nsec / 10 ** 6);\n    let diff = 0;\n    if (timestampMs > firstTimestampMs) {\n      diff = timestampMs - firstTimestampMs;\n    }\n    // setTimeout is throttled to 4ms in HTML5 spec\n    // not bypassing it in this case will cause the visualisation to slow down\n    if (diff < 4) {\n      this.enqueueProcessing(index + 1, file);\n    } else {\n      this.readers[file.name].timer = window.setTimeout(() => {\n        this.enqueueProcessing(index + 1, file);\n      }, diff);\n    }\n  };\n\n  processBagReadResult = (result: BagReadResult, file: File) => {\n    const topicsReadersMap = this.readers[file.name].topics;\n    const globalReaders = topicsReadersMap['*'];\n    const specificReaders = topicsReadersMap[result.topic];\n    globalReaders?.forEach(reader => reader(file, result));\n    specificReaders?.forEach(reader => reader(file, result));\n  };\n\n  async processFile(file: File) {\n    const bag = await open(file);\n    Object.keys(bag.connections).forEach((id: string) => {\n      const connection = bag.connections[id];\n      const { topic, type } = connection;\n      const existing = this.topics.findIndex(\n        x => x.name === topic && x.rosbagFileName === file.name,\n      );\n      if (existing === -1) {\n        this.topics.push({\n          name: topic,\n          messageType: type,\n          rosbagFileName: file.name,\n        });\n      }\n    });\n    bag.readMessages({}, (result: BagReadResult) => {\n      this.readers[file.name].queue.push(result);\n    });\n    // processing starts without waiting for the full bag read to finish\n    // this enables us to implement remote rosbags\n    // to wait for the full bag read before processing, use await on\n    // bag.readMessages above\n    this.processQueue(file);\n  }\n}\n","import { DataSource } from './index';\nimport { Message } from 'roslib';\nimport xs, { Listener, Producer, Stream } from 'xstream';\nimport RosbagBucket, { BagReadResult } from '../core/rosbagBucket';\n\ninterface RosBagDataSourceOptions {\n  bucket: RosbagBucket;\n  memory?: boolean;\n  topicName: string;\n  fileName: string;\n}\n\nexport class RosbagDataSource<T extends Message> implements DataSource<T> {\n  public readonly createdAt: Date = new Date();\n  public readonly hasMemory: boolean;\n  private readonly bucket: RosbagBucket;\n  private readonly producer: Producer<T>;\n  private stream: Stream<T>;\n  private isStreamPaused: boolean = false;\n  private internalListener:\n    | ((file: File, bagReadResult: BagReadResult) => void)\n    | null = null;\n  private readonly listeners = new Set<Listener<T>>();\n\n  constructor(options: RosBagDataSourceOptions) {\n    this.hasMemory = options.memory ?? false;\n    this.bucket = options.bucket;\n    this.producer = {\n      start: listener => {\n        this.internalListener = (file: File, bagReadResult: BagReadResult) => {\n          if (this.isStreamPaused) {\n            return;\n          }\n          listener.next(bagReadResult.message as T);\n        };\n        this.bucket.addReader(\n          options.topicName,\n          options.fileName,\n          this.internalListener,\n        );\n      },\n      stop: () => {\n        if (!this.internalListener) {\n          return;\n        }\n        this.bucket.removeReader(\n          options.topicName,\n          options.fileName,\n          this.internalListener,\n        );\n      },\n    };\n    this.stream = this.hasMemory\n      ? xs.createWithMemory(this.producer)\n      : xs.create(this.producer);\n  }\n\n  public addListener = (listener: Listener<T>) => {\n    if (this.listeners.has(listener)) {\n      return { success: false, reason: 'listener already present' };\n    }\n    this.listeners.add(listener);\n    this.stream.addListener(listener);\n    return { success: true };\n  };\n\n  public removeListener = (listener: Listener<T>) => {\n    if (!this.listeners.has(listener)) {\n      return { success: false, reason: 'listener not present' };\n    }\n    this.listeners.delete(listener);\n    this.stream.removeListener(listener);\n    return { success: true };\n  };\n\n  public removeAllListeners = () => {\n    this.listeners.forEach(listener => {\n      this.stream.removeListener(listener);\n    });\n    this.listeners.clear();\n    return { success: true };\n  };\n\n  public pause = () => {\n    this.isStreamPaused = true;\n    return { success: true };\n  };\n\n  public resume = () => {\n    this.isStreamPaused = false;\n    return { success: true };\n  };\n}\n","import CollisionObject from './viz/CollisionObject';\nimport DisplayTrajectory from './viz/DisplayTrajectory';\nimport PlanningScene from './viz/PlanningScene';\nimport Pose from './viz/Pose';\nimport Wrench from './viz/Wrench';\nimport Polygon from './viz/Polygon';\nimport Tf from './viz/Tf';\nimport RobotModel from './viz/RobotModel';\nimport Point from './viz/Point';\nimport PointCloud from './viz/PointCloud';\nimport MarkerArray from './viz/MarkerArray';\nimport LaserScan from './viz/LaserScan';\nimport Map from './viz/Map';\nimport Odometry from './viz/Odometry';\nimport PoseArray from './viz/PoseArray';\nimport Path from './viz/Path';\nimport Image from './viz/Image';\nimport ImageStream from './viz/ImageStream';\nimport Marker from './viz/Marker';\nimport Range from './viz/Range';\n\nimport Scene from './core/scene';\n\nimport DepthCloud from './viz/DepthCloud';\n\nimport Viewer2d from './viewers/2d';\nimport Viewer3d from './viewers/3d';\nimport TfViewer from './viewers/Tf';\nimport InteractiveMarkers from './viz/InteractiveMarkers';\n\nimport * as CONSTANTS from './utils/constants';\nimport { RosTopicDataSource } from './data/rosTopic';\nimport RosbagBucket from './core/rosbagBucket';\nimport { RosbagDataSource } from './data/rosBag';\nimport { EditorControls } from './utils/editorControls';\n\nexport default {\n  EditorControls,\n  CollisionObject,\n  DepthCloud,\n  DisplayTrajectory,\n  PlanningScene,\n  Point,\n  PointCloud,\n  Polygon,\n  Pose,\n  Wrench,\n  PoseArray,\n  Tf,\n  RobotModel,\n  MarkerArray,\n  LaserScan,\n  Map,\n  Odometry,\n  Path,\n  Image,\n  ImageStream,\n  Marker,\n  Range,\n\n  Scene,\n\n  Viewer2d,\n  Viewer3d,\n  TfViewer,\n\n  InteractiveMarkers,\n\n  RosbagBucket,\n  RosTopicDataSource,\n  RosbagDataSource,\n\n  CONSTANTS,\n};\n"],"names":["Math","abs","round","floor","max","min","sin","cos","PI","assertIsDefined","val","TypeError","assertIsMesh","Mesh","assertIsMaterial","Material","assertIsMeshBasicMaterial","MeshBasicMaterial","assertIsMaterialWithColor","assertBehavesLikeArray","length","isObject3D","Object3D","isHTMLElement","HTMLElement","assertIsTorusGeometry","TorusGeometry","Error","assertIsHTMLVideoElement","HTMLVideoElement","assertIsBufferGeometry","BufferGeometry","assertIsBufferAttribute","BufferAttribute","options","Date","Set","_this","rosCloseHook","isStreamLive","cleanStream","rosErrorHook","error","ros","on","off","listener","listeners","has","success","reason","add","stream","addListener","delete","removeListener","event","shamefullySendError","shamefullySendComplete","forEach","clear","isStreamPaused","hasMemory","memory","topicOptions","name","topicName","messageType","compression","queueSize","queue_size","queueLength","queue_length","topic","Topic","producer","start","addRosHealthHooks","internalListener","message","next","subscribe","stop","unsubscribe","removeRosHealthHooks","xs","createWithMemory","create","rosConnectionHook","OBJECT_TYPE_ARROW","OBJECT_TYPE_ARROW_WITH_CIRCLE","OBJECT_TYPE_AXES","OBJECT_TYPE_FLAT_ARROW","MAX_POINTCLOUD_POINTS","DEFAULT_BACKGROUND_COLOR","DEFAULT_GRID_SIZE","DEFAULT_GRID_DIVISIONS","DEFAULT_GRID_COLOR","DEFAULT_GRID_COLOR_CENTERLINE","INTERACTIVE_MARKER_ORIENTATION_MODES","INHERIT","FIXED","VIEW_FACING","UNSUPPORTED_INTERACTIVE_MARKER_ORIENTATION_MODES","INTERACTIVE_MARKER_INTERACTION_MODES","NONE","MENU","BUTTON","MOVE_AXIS","MOVE_PLANE","ROTATE_AXIS","MOVE_ROTATE","MOVE_3D","ROTATE_3D","MOVE_ROTATE_3D","MESSAGE_TYPE_ROBOT_MODEL","MESSAGE_TYPE_ACCELSTAMPED","MESSAGE_TYPE_POLYGONSTAMPED","MESSAGE_TYPE_POSEARRAY","MESSAGE_TYPE_POSEARRAY2","MESSAGE_TYPE_POSECOVARIANCE","MESSAGE_TYPE_POSESTAMPED","MESSAGE_TYPE_POSESTAMPED2","MESSAGE_TYPE_TWISTSTAMPED","MESSAGE_TYPE_VECTOR3STAMPED","MESSAGE_TYPE_WRENCHSTAMPED","MESSAGE_TYPE_BOUNDINGVOLUME","MESSAGE_TYPE_COLLISION_OBJECT","MESSAGE_TYPE_DISPLAYROBOTSTATE","MESSAGE_TYPE_DISPLAYTRAJECTORY","MESSAGE_TYPE_PLANNINGSCENE","MESSAGE_TYPE_OCCUPANCYGRID","MESSAGE_TYPE_OCCUPANCYGRID2","MESSAGE_TYPE_ODOMETRY","MESSAGE_TYPE_ODOMETRY2","MESSAGE_TYPE_PATH","MESSAGE_TYPE_PATH2","MESSAGE_TYPE_COMPRESSEDIMAGE","MESSAGE_TYPE_DISPLAYJOINTSTATE","MESSAGE_TYPE_IMAGE","MESSAGE_TYPE_IMAGE2","MESSAGE_TYPE_LASERSCAN","MESSAGE_TYPE_LASERSCAN2","MESSAGE_TYPE_MAGNETICFIELD","MESSAGE_TYPE_POINTCLOUD","MESSAGE_TYPE_POINTCLOUD2","MESSAGE_TYPE_ROS2POINTCLOUD2","MESSAGE_TYPE_RANGE","MESSAGE_TYPE_TF","MESSAGE_TYPE_ROS2_TF","MESSAGE_TYPE_TF2","MESSAGE_TYPE_ROS2_TF2","MESSAGE_TYPE_MARKER","MESSAGE_TYPE_MARKER2","MESSAGE_TYPE_MARKERARRAY","MESSAGE_TYPE_MARKERARRAY2","MESSAGE_TYPE_INTERACTIVEMARKER","MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK","POINT_FIELD_DATATYPES","INT8","UINT8","INT16","UINT16","INT32","UINT32","FLOAT32","FLOAT64","COLLISION_OBJECT_OPERATIONS","ADD","REMOVE","APPEND","MOVE","SOLID_PRIMITIVE_TYPES","BOX","SPHERE","CYLINDER","CONE","MARKER_OBJECT_TYPES","ARROW","CUBE","LINE_STRIP","LINE_LIST","CUBE_LIST","SPHERE_LIST","POINTS","TEXT_VIEW_FACING","MESH_RESOURCE","TRIANGLE_LIST","MAP_COLOR_SCHEMES","MAP","CONST_MAP","RAW","LASERSCAN_STYLES","SQUARES","FLAT_SQUARES","SPHERES","BOXES","COLOR_TRANSFORMERS","INTENSITY","AXIS_COLOR","FLAT_COLOR","POINTCLOUD_COLOR_CHANNELS","RGB","AXES","X","Y","Z","INTENSITY_CHANNEL_OPTIONS","ODOMETRY_OBJECT_TYPES","arrow","axes","POSE_OBJECT_TYPES","flatArrow","WRENCH_OBJECT_TYPES","arrowWithCircle","DEFAULT_CYLINDER_HEIGHT","DEFAULT_CYLINDER_RADIUS","DEFAULT_RADIAL_SEGMENTS","DEFAULT_CONE_HEIGHT","DEFAULT_CONE_RADIUS","DEFAULT_COLOR_X_AXIS","DEFAULT_COLOR_Y_AXIS","DEFAULT_COLOR_Z_AXIS","DEFAULT_COLOR_ARROW","DEFAULT_COLOR_LINE","DEFAULT_OPTIONS_SCENE","backgroundColor","gridSize","gridDivisions","gridColor","gridCenterlineColor","DEFAULT_OPTIONS_TF_VIEWER","selectedFrame","DEFAULT_OPTIONS_ARROW","shaftLength","shaftRadius","headLength","headRadius","DEFAULT_OPTIONS_AXES","axesLength","axesRadius","DEFAULT_OPTIONS_FLATARROW","arrowLength","DEFAULT_OPTIONS_DISPLAYTRAJECTORY","robot","Group","loop","DEFAULT_OPTIONS_INTENSITY","channelName","useRainbow","invertRainbow","minColor","maxColor","autocomputeIntensityBounds","maxIntensity","minIntensity","DEFAULT_OPTIONS_COLLISION_OBJECT","DEFAULT_OPITONS_AXIS_COLOR","axis","autocomputeValueBounds","useFixedFrame","minAxisValue","maxAxisValue","DEFAULT_OPTIONS_DEPTHCLOUD","streamType","VP8","MJPEG","f","maxDepthPerTile","pointSize","width","height","whiteness","varianceThreshold","DEFAULT_OPTIONS_IMAGE","DEFAULT_OPTIONS_IMAGE_STREAM","DEFAULT_OPTIONS_LASERSCAN","selectable","style","size","alpha","decayTime","colorTransformer","flatColor","DEFAULT_OPTIONS_MAP","colorScheme","drawBehind","DEFAULT_OPTIONS_MARKER","namespaces","DEFAULT_OPTIONS_MARKERARRAY","throttleRate","DEFAULT_OPTIONS_INTERACTIVE_MARKER","publishThrottleRate","hideOtherHandlesOnSelect","hideOtherControlsInstancesOnSelect","DEFAULT_OPTIONS_ODOMETRY","type","color","positionTolerance","angleTolerance","keep","DEFAULT_OPTIONS_PATH","DEFAULT_OPTIONS_PLANNINGSCENE","DEFAULT_OPTIONS_POINTCLOUD","colorChannel","DEFAULT_OPTIONS_POINT","radius","DEFAULT_OPTIONS_POLYGON","DEFAULT_OPTIONS_POSE","DEFAULT_OPTIONS_TORUS","circleRadius","tube","radialSegments","tubularSegments","arc","DEFAULT_OPTIONS_ARROW_WITH_CIRCLE","circleConeLength","circleConeRadius","DEFAULT_OPTIONS_WRENCH","forceColor","torqueColor","forceArrowScale","torqueArrowScale","arrowWidth","DEFAULT_OPTIONS_POSEARRAY","DEFAULT_OPTIONS_RANGE","DEFAULT_OPTIONS_ROBOTMODEL","DEFAULT_OPTIONS_TF","LINES","BILLBOARDS","checkToleranceThresholdExceed","oldPose","newPose","position","quaternion","oldPosition","oldQuaternion","positionToleranceBool","distanceTo","angleToleranceBool","angleTo","setObjectDimension","object","alpha_1","color_1","headLength_1","headRadius_1","shaftLength_1","shaftRadius_1","setHeadDimensions","setShaftDimensions","setAlpha","setColor","cone","Color","cylinder","setLength","setRadius","color_2","setTorusDimensions","setCircleConeDimensions","torus","circleCone","resourceName","onHeaderChange","headerFrameId","changeTopic","update","bind","LegacyCore","visible","parent","remove","dataSourceInstances","t","console","log","complete","removeAllListeners","header","frame_id","autoSubscribe","_a","Array","isArray","map","RosTopicDataSource","reset","setTransform","transform","posX","posY","posZ","_b","orientW","orientX","orientY","orientZ","set","copy","Quaternion","normalize","setScale","scale","x","y","z","material","setRGB","r","g","b","__extends","TransformUtils.setTransform","TransformUtils.setScale","colors","children","child","TransformUtils.setColor","ThreeGroup","opacity","MathUtils","clamp","THREEMesh","_super","geometry","BoxGeometry","MeshStandardMaterial","updateOptions","CollisionObject","id","operation","poses","primitives","existingObject","getObjectByName","newObject_1","primitiveInfo","index","primitive","getNewPrimitive","translation","rotation","orientation","args","dimensions","Box","__read","robotClone","clone","Object","keys","links","linkName","link","traverse","MeshPhongMaterial","DisplayTrajectory","lastMessage","resetLoopback","clearTimeout","loopbackId","poseRemovalId","pointsUpdateIds","loopback","_c","jointNames","points","_d","initialNames","initialPositions","joint","setAngle","point","positions","nsec","secs","push","window","setTimeout","jointName","_e","lastNsec","lastSec","Map","collisionObjectViz","PlanningScene","attachedCollisionObjects","isRobotStateDiff","worldCollisionObjects","collisionMessage","collisionVizInstance","collisionVizObject","newCollisionObjectNames","__values","entries","_g","collObjName","collObj","indexOf","CylinderGeometry","transparent","rotateX","ConeGeometry","Cone","Cylinder","rotateZ","translateY","Arrow","translateX","translateZ","Axes","parsedLength","setY","parsedRadius","setX","setZ","disableVertexColor","Geometry","vertices","Vector3","colorOptions","vertexColors","VertexColors","LineBasicMaterial","Line","verticesNeedUpdate","c","colorsNeedUpdate","ThreeLine","topPoints","arrowTop","updatePoints","LineArrow","visibility","parentElement","removeChild","sources","source","LiveCore","Pose","newObject","torusOptions","torusGeometry","parameters","rotateY","ArrowWithCircle","THREEMath","Wrench","mustUpdatePrimitive","primitiveX","getOrUpdatePrimitive","primitiveY","forceOptions","torqueOptions","force","torque","translationVector","forceVector","torqueVector","forceQuaternion","setFromUnitVectors","torqueQuaternion","line","Polygon","text","loader","FontLoader","load","font","TextGeometry","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelSegments","frameId","textObject","Text","TfFrame","getName","Tf","transforms","parentFrameId","childFrameId","getFrameOrCreate","childFrame","parentFrame","lookAt","getWorldPosition","arrowConeLength","existingFrame","newFrame","global","factory","module","require$$0","require$$1","require$$2","require$$3","this","THREE","STLLoader_js","ColladaLoader_js","threeMeshBvh","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","i","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","value","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","_superPropBase","property","hasOwnProperty","_get","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","toString","from","_arr","_n","_s","_i","done","err","URDFColliderClone","_proto$clone","proto","_len","arguments","_key","result","apply","concat","isURDFCollider","makeURDFCollider","processTuple","trim","split","num","parseFloat","applyRotation","rpy","additive","tempEuler","tempQuaternion","setFromEuler","multiply","URDFLink","_Object3D","_getPrototypeOf2","_len2","_key2","isURDFLink","urdfNode","show","hide","_delete","_this2","recursive","URDFJoint","_Object3D2","_getPrototypeOf3","_this3","_len3","_key3","isURDFJoint","jointValue","jointType","limit","lower","upper","ignoreLimits","origPosition","origQuaternion","_jointType","v","fill","setOffset","_len4","values","_key4","angle","delta","setFromAxisAngle","multiplyQuaternions","matrixWorldNeedsUpdate","_angle","addScaledVector","worldMatrixNeedsUpdate","warn","URDFRobot","_URDFLink","_getPrototypeOf4","_this4","_len5","_key5","isURDFRobot","urdfRobotNode","robotName","joints","_this5","_len6","_key6","setAngles","angles","Euler","URDFLoader","manager","allowMeshBVH","DefaultLoadingManager","retryMap","urdf","onComplete","onProgress","onError","model","workingPath","LoaderUtils","extractUrlBase","urdfPath","resolveURL","errors","managerOnErrorDefault","managerOnProgressDefault","managerOnLoadDefault","onLoad","that","url","retry","itemsLoaded","itemsTotal","partialErrors","assign","itemStart","fetch","fetchOptions","then","res","data","parse","itemEnd","e","itemError","content","resolvePath","path","test","_path$replace$split","replace","_path$replace$split2","targetPkg","relPath","packages","endsWith","processRobot","robotNodes","filter","nodeName","toLowerCase","materials","getAttribute","m","materialMap","processMaterial","l","isRoot","querySelector","linkMap","processLink","j","jointMap","processJoint","xyz","n","axisNode","axisXYZ","parseVisual","visualNodes","vn","processLinkElement","parseCollision","collisionNodes","node","matNodes","rgba","TextureLoader","filename","filePath","linkObj","_this6","isCollisionNode","primitiveModel","materialNode","geoType","scaleAttr","cb","loadMeshCb","raycast","acceleratedRaycast","boundsTree","MeshBVH","BoxBufferGeometry","SphereBufferGeometry","CylinderBufferGeometry","_radius","defaultMeshLoader","processUrdf","parser","DOMParser","parseFromString","robotNode","pop","STLLoader","geom","mesh","_loader","ColladaLoader","dae","scene","paramName","urdfObject","param","ROSLIB","Param","getPackages","defaultLoadMeshCallback","loadURDF","loadFromParam","URDFCore","urdfString","mode","credentials","ext","robotString","__spread","querySelectorAll","SphereGeometry","sphere","Sphere","Point","WebAssembly","PCLDecoder","attachDecoder","getAccessorForDataType","dataView","dataType","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat64","getFloat32","updateGeometryAttribute","attributeName","attribute","attributes","updateRange","offset","count","array","needsUpdate","Float32Array","normals","uint8Buffer","Uint8Array","buffer","DataView","offsets","accessor","rgbCache","fields","datatype","stride","point_step","is_bigendian","rgb","intensity","normalizedIntensity","setHSL","toArray","normal_x","normal_y","normal_z","getMemory","PCLDecoderWasm","pclDecoderModule","decode","memoryTypedArray","copyMemPtr","get_copy_memory_ptr","compute","positionMemPointer","get_position_memory_ptr","colorMemPointer","get_color_memory_ptr","invalidChannel","editPointCloudPoints","updatePointCloudGeometry","cloudMaterial","PointsMaterial","setAttribute","setUsage","DynamicDrawUsage","setDrawRange","computeBoundingSphere","Points","frustumCulled","PointCloud","Number","isNaN","linewidth","LineSegments","ThreeLineSegments","objectPool","Primitive","ObjectCacher","currentChild","currentCount","objectCacher","SphereList","optionsOverride","subtype","reusePool","increasePool","vertex","ThreePoints","FaceColors","side","DoubleSide","TriangleList","faces","verticesArray","Face3","computeFaceNormals","computeVertexNormals","elementsNeedUpdate","Cube","CubeList","subType","SpriteText","getHexString","ViewFacingText","marker","group","onTimeout","timeouts","MarkerLifetime","timeoutSecs","clearInterval","ids","ids_1","rootObject","onChangeCb","markerLifetime","onMarkerLifetimeOver","MarkerManager","objectMap","removeObject","getId","isValid","ns","str","tokens","namespace","extractNameSpace","lifetime","markerObject","getMarkerOrCreate","markerId","track","onChange","destroy","markerManager","onNameSpaceChange","MarkerArray","markers","updateMarker","maxPts","max_pts","sprite","alphaTest","itemSize","sphereList","cubeList","LaserScan","normI","getNormalizedIntensity","minColorHex","maxColorHex","finalColor","getHex","axisValue","getNormalizedAxisValue","applyIntensityTransform","applyAxisColorTransform","intensities","ranges","hideAllObjects","setup","range","range_min","range_max","angle_min","angle_increment","setupPoints","cachedMessage","setStyleDimensions","populateImageDataFromNavMsg","imageData","dataSource","row","col","mapI","populateRawImageDataFromNavMsg","Uint8DV","populateConstImageDataFromNavMsg","imageDataToCanvas","canvas","document","createElement","context","getContext","putImageData","populateImageDataFromImageMsg","rgbaOrder","rawData","step","typedArray","encodedDataView","k","PlaneGeometry","Plane","FrontSide","setCanvasData","_f","qw","qx","qy","qz","resolution","translatedX","translatedY","ImageData","bitmapCanvas","CanvasTexture","minFilter","NearestFilter","magFilter","updateCanvasDimensions","Odometry","newKeepList","keepSize","removeCount","slicedList","slice","currentObjectIndex","tempObjectPool","newObj","getObject","w","currentType","changeObjectPoolType","setKeepSize","removeAllObjects","toleranceThresholdExceed","objToRemove","newObjectPool","PoseArray","Path","poseData","pose","shadowObject","Image","encoding","ctx","shadowCtx","imgData","createImageData","aspectRatio","clearRect","fillStyle","fillRect","scaledImageHeight","scaledImageWidth","drawImage","applyImageData","StaticCore","src","Marker","Range","tan","fov","appendChild","dom","display","cssText","addEventListener","preventDefault","performance","now","a","Panel","d","REVISION","addPanel","showPanel","begin","end","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","devicePixelRatio","u","s","h","textBaseline","fillText","globalAlpha","vizWrapper","stats","Stats","initLights","initGrid","Scene","directionalLight","DirectionalLight","ambientLight","AmbientLight","grid","GridHelper","getObjectById","addObject","background","ThreeScene","animate","onMetaLoaded","DepthCloudObject","metaLoaded","initStreamer","video","isMjpeg","crossOrigin","resolutionFactor","texture","Texture","halfWidth","halfHeight","ShaderMaterial","uniforms","focallength","zOffset","vertexShader","fragmentShader","requestAnimationFrame","readyState","HAVE_ENOUGH_DATA","play","pause","removeAttribute","initVideo","startStream","stopStream","MapControls2D","onMouseMove","scope","enabled","pointer","clientX","clientY","movementX","pointerOld","movementY","state","STATE","ROTATE","rotate","ZOOM","zoom","PAN","pan","onMouseUp","removeEventListener","onMouseWheel","deltaY","onMouseDown","button","contextmenu","touchStart","touches","pageX","pageY","divideScalar","prevDistance","prevTouches","touchMove","getClosest","touch","allTouches","closest","stopPropagation","sub","multiplyScalar","distance","offset0","offset1","center","panSpeed","zoomSpeed","rotationSpeed","vector","box","Box3","normalMatrix","Matrix3","Vector2","spherical","Spherical","changeEvent","focus","setFromObject","isEmpty","getCenter","getBoundingSphere","setFromMatrixPosition","matrixWorld","applyQuaternion","dispatchEvent","positionDelta","applyMatrix3","getNormalMatrix","matrix","zoomDelta","updateProjectionMatrix","rotationDelta","setFromCartesianCoords","theta","makeSafe","tempRelPosition","setFromSpherical","dispose","EventDispatcher","ResizeObserver","ResizeObserverPolyfill","ro","onWindowResize","initCamera","Viewer2d","updateMatrixWorld","camera","renderer","render","OrthographicCamera","up","domNode","container","initRenderer","controls","enableDamping","observe","WebGLRenderer","antialias","autoClear","setPixelRatio","setSize","offsetWidth","offsetHeight","unobserve","previousWidth","previousHeight","cameraWidth","cameraHeight","left","right","top","bottom","vizObject","addVisualization","EditorControls","phi","Viewer3d","PerspectiveCamera","aspect","rosInstance","onFramesListUpdate","initRosEvents","getTFMessages","setFrameTransform","addRobot","onRosConnection","TfViewer","isConnected","getTopics","rosTopics","types","topics","rw","rx","ry","rz","getObjectOrCreate","childObject","parentObject","frame","framesList","currentFrameObject","worldPos","worldQuat","getWorldQuaternion","quatw","quatx","quaty","quatz","oppPos","negate","newFrameId","frameObject","attach","robotModel","linkNames","connector","viewer","InteractiveMarkerManager","interactiveMarkerName","markerManagerMap","markersHolder","callback","interactiveMarker","controlsManager","getMarkerManagerOrCreate","attachObjectOutsideTree","userData","control","markerName","handlesControlsMap","controlsMap","attachMode","orientation_mode","ANCHOR_MODE","controls_1","anchor","separationT","showHelperPlane","enableControls","interaction_mode","randomColor","seed","controlGroups","markerMessage","orientation_1","interactionMode","orientationMode","controlName","givenColor","showAll","controlsManagerOrientation","controlsManagerRotation","setFromQuaternion","alignmentColor","getAlignmentColor","DEFAULT_HANDLE_GROUP_NAME","ER","showByNames","handles","XPT","XNT","translationXP","translationXN","PICK_PLANE_YZ","pickPlaneYZ","XR","rotationX","YPT","YNT","ZPT","ZNT","PICK","YR","ZR","handle","threshold","random","init","interactiveMarkerManager","debouncedPublish","debounce","publish","initFreeformControls","publishManual","InteractiveMarkers","setVisible","freeformControls","interactiveMarkersNames","ControlsManager","listen","RAYCASTER_EVENTS","DRAG_START","DRAG","handleName","DRAG_STOP","seq","clientId","Message","stamp","nsecs","client_id","marker_name","control_name","event_type","menu_entry_id","mouse_point","mouse_point_valid","makeInteractiveMarkerFeedbackMessage","messageSequence","feedbackTopic","interactiveMarkersFrameIds","feedbackTopicName","makeInteractiveMarkerFeedbackTopic","shouldSubscriptionChange","updateTopicName","guardAgainstOtherOptionsChange","name_1","initMarkers","poseObject","updatePose","name_2","erases","open","require","file","files","readers","queue","processFile","timer","queueStartWaitTimer","rosbagFileName","fileName","reader","topicReadersMap","processQueue","enqueueProcessing","first","second","processBagReadResult","timestamp","secFirst","nsecFirst","sec","firstTimestampMs","timestampMs","diff","topicsReadersMap","globalReaders","specificReaders","RosbagBucket","bag","connections","connection","existing","findIndex","readMessages","bucket","bagReadResult","addReader","removeReader","DepthCloud","RobotModel","ImageStream","RosbagDataSource","CONSTANTS"],"mappings":"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"}